!function(){"use strict";const e="YYYY-MM-DDTHH:mm:ss.sss",t="Invalid date",n=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|m{1,2}|s{1,3}/g,i=/(%[a-z])/gi,s={months:"January February March April May June July August September October November December".split(" "),monthsShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),weekdaysShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),weekdaysMin:"Su Mo Tu We Th Fr Sa".split(" "),weekStart:0},a={ms:"Milliseconds",s:"Seconds",m:"Minutes",h:"Hours",D:"Date",d:"Day",M:"Month",Y:"FullYear",y:"Year",t:"Time"},o="ms",r="second",l="minute",c="hour",u="day",h="week",d="month",p="year",f=(e="")=>{throw new Error("This argument is required!")},m=(e,t=!0)=>{try{return t?void 0!==e:null!=e}catch(e){return!1}},v=e=>null==e,g=function(e,t,n){let i=""+e;return n&&i.length>=n?i:Array(n+1-i.length).join(t)+i};let b=class i{constructor(){const e=[].slice.call(arguments);if(this.value=new(Function.prototype.bind.apply(Date,[this].concat(e))),this.locale="en",this.weekStart=i.locales.en.weekStart,this.utcMode=!1,this.mutable=!0,n=this.value.getTime(),isNaN(n))throw new Error(t);var n}static locales={en:s};static isDatetime(e){return e instanceof i}static now(e=!1){return y()[e?"val":"time"]()}static parse(e=f()){return y(Date.parse(e))}static setLocale(e=f(),t=f()){i.locales[e]=t}static getLocale(e="en"){return m(i.locales[e],!1)?i.locales[e]:i.locales.en}static align(e,t){let n,s,a=y(e);switch(t){case r:n=a.ms(0);break;case l:n=i.align(a,r)[r](0);break;case c:n=i.align(a,l)[l](0);break;case u:n=i.align(a,c)[c](0);break;case d:n=i.align(a,u)[u](1);break;case p:n=i.align(a,d)[d](0);break;case h:s=a.weekDay(),n=i.align(e,u).addDay(-s);break;default:n=a}return n}static alignEnd(e,t){let n,s,a=y(e);switch(t){case o:n=a.ms(999);break;case r:n=i.alignEnd(a,o);break;case l:n=i.alignEnd(a,r)[r](59);break;case c:n=i.alignEnd(a,l)[l](59);break;case u:n=i.alignEnd(a,c)[c](23);break;case d:n=i.alignEnd(a,u)[u](1).add(1,d).add(-1,u);break;case p:n=i.alignEnd(a,u)[d](11)[u](31);break;case h:s=a.weekDay(),n=i.alignEnd(a,"day").addDay(6-s);break;default:n=e}return n}immutable(e){return this.mutable=!(v(e)||e),this}utc(){return this.utcMode=!0,this}local(){return this.utcMode=!1,this}useLocale(e,t){return this.locale=t||m(i.locales[e],!1)?e:"en",this.weekStart=i.getLocale(this.locale).weekStart,this}clone(){const e=y(this.value);return e.locale=this.locale,e.weekStart=this.weekStart,e.mutable=this.mutable,e}align(e){return this.mutable?(this.value=i.align(this,e).val(),this):this.clone().immutable(!1).align(e).immutable(!this.mutable)}alignEnd(e){return this.mutable?(this.value=i.alignEnd(this,e).val(),this):this.clone().immutable(!1).alignEnd(e).immutable(!this.mutable)}val(e){return e instanceof Date?this.mutable?(this.value=e,this):y(e):this.value}year2(){return+(""+this.year()).substr(-2)}_set(e,t){const n="set"+(this.utcMode&&"t"!==e?"UTC":"")+a[e];if(this.mutable)return this.value[n](t),this;const i=this.clone();return i.value[n](t),i}_get(e){const t="get"+(this.utcMode&&"t"!==e?"UTC":"")+a[e];return this.value[t]()}_work(e,t){return arguments.length&&null!=t?this._set(e,t):this._get(e)}ms(e){return this._work("ms",e)}second(e){return this._work("s",e)}minute(e){return this._work("m",e)}hour(e){return this._work("h",e)}day(e){return this._work("D",e)}month(e){return this._work("M",e)}year(e){return this._work("Y",e)}time(e){return this._work("t",e)}weekDay(e){if(!arguments.length||v(e))return this.utcMode?this.value.getUTCDay():this.value.getDay();const t=e-this.weekDay();return this.day(this.day()+t),this}get(e){return"function"!=typeof this[e]?this:this[e]()}set(e,t){return"function"!=typeof this[e]?this:this[e](t)}add(e,t){switch(t){case c:return this.time(this.time()+60*e*60*1e3);case l:return this.time(this.time()+60*e*1e3);case r:return this.time(this.time()+1e3*e);case o:return this.time(this.time()+e);case u:return this.day(this.day()+e);case h:return this.day(this.day()+7*e);case d:return this.month(this.month()+e);case p:return this.year(this.year()+e)}}addHour(e){return this.add(e,c)}addMinute(e){return this.add(e,l)}addSecond(e){return this.add(e,r)}addMs(e){return this.add(e,o)}addDay(e){return this.add(e,u)}addWeek(e){return this.add(e,h)}addMonth(e){return this.add(e,d)}addYear(e){return this.add(e,p)}format(t,s){const a=t||e,o=i.getLocale(s||this.locale),r=this.year(),l=this.year2(),c=this.month(),u=this.day(),h=this.weekDay(),d=this.hour(),p=this.minute(),f=this.second(),m=this.ms(),v={YY:l,YYYY:r,M:c+1,MM:g(c+1,0,2),MMM:o.monthsShort[c],MMMM:o.months[c],D:u,DD:g(u,0,2),d:h,dd:o.weekdaysMin[h],ddd:o.weekdaysShort[h],dddd:o.weekdays[h],H:d,HH:g(d,0,2),m:p,mm:g(p,0,2),s:f,ss:g(f,0,2),sss:g(m,0,3)};return a.replace(n,((e,t)=>t||v[e]))}valueOf(){return this.value.valueOf()}toString(){return this.value.toString()}};const y=(...e)=>e&&e[0]instanceof b?e[0]:new b(...e),w=b.prototype.format,C={buddhist(){return this.year()+543},format(t,n){t=t||e;const i={BB:(this.buddhist()+"").slice(-2),BBBB:this.buddhist()};let s=t.replace(/(\[[^\]]+])|B{4}|B{2}/g,((e,t)=>t||i[e]));return w.bind(this)(s,n)}};Object.assign(b.prototype,C);Object.assign(b.prototype,{calendar(e){return((e,t)=>{let n,i=e instanceof b?e.clone().align("month"):y(e),s=0===t||t?t:e.weekStart,a=s?i.isoWeekDay():i.weekDay(),o=b.getLocale(i.locale),r=y();const l={month:o.months[i.month()],days:[],weekstart:t?1:0,weekdays:((e,t)=>{if(0===t)return e;let n=e[0];return e.slice(1).concat([n])})(o.weekdaysMin,s),today:r.format("YYYY-MM-DD"),weekends:[],week:[]};for(i.addDay(s?1-a:-a),n=0;n<42;n++)l.days.push(i.format("YYYY-MM-DD")),i.add(1,"day");for(l.weekends=l.days.filter((function(e,t){return 0===s?[0,6,7,13,14,20,21,27,28,34,35,41].includes(t):[5,6,12,13,19,20,26,27,33,34,40,41].includes(t)})),i=r.clone(),a=s?i.isoWeekDay():i.weekDay(),i.addDay(s?1-a:-a),n=0;n<7;n++)l.week.push(i.format("YYYY-MM-DD")),i.add(1,"day");return l})(this,e)}});const _=b.prototype.format;Object.assign(b.prototype,{century(){return Math.ceil(this.year()/100)},format(t,n){t=t||e;const i={C:this.century()};let s=t.replace(/(\[[^\]]+])|C/g,((e,t)=>t||i[e]));return _.bind(this)(s,n)}}),Object.assign(b.prototype,{same(e){return this.time()===y(e).time()},compare(e,t,n="="){const i=y(e),s=y(this.value);let a,o;switch(!1===["<",">",">=","<=","=","!="].includes(n=n||"=")&&(n="="),t=(t||"ms").toLowerCase(),a=s.align(t).time(),o=i.align(t).time(),n){case"<":return a<o;case">":return a>o;case"<=":return a<=o;case">=":return a>=o;case"=":return a===o;case"!=":return a!==o}},between(e,t){return this.younger(e)&&this.older(t)},older(e,t){return this.compare(e,t,"<")},olderOrEqual(e,t){return this.compare(e,t,"<=")},younger(e,t){return this.compare(e,t,">")},youngerOrEqual(e,t){return this.compare(e,t,">=")},equal(e,t){return this.compare(e,t,"=")},notEqual(e,t){return this.compare(e,t,"!=")},diff(e){const t=y(e),n=Math.abs(this.time()-t.time()),i=Math.abs(this.month()-t.month()+12*(this.year()-t.year()));return{ms:n,second:Math.ceil(n/1e3),minute:Math.ceil(n/6e4),hour:Math.ceil(n/36e5),day:Math.ceil(n/864e5),month:i,year:Math.floor(i/12)}},distance(e,t){return this.diff(e)[t]}}),Object.assign(b.prototype,{isLeapYear(){const e=this.year();return e%4==0&&e%100!=0||e%400==0}}),Object.assign(b.prototype,{dayOfYear(){const e=this.month(),t=this.day();return[0,31,59,90,120,151,181,212,243,273,304,334][e]+t+(e>1&&this.isLeapYear()?1:0)}}),Object.assign(b.prototype,{daysInMonth(){return y(this.value).add(1,"month").day(1).add(-1,"day").day()},daysInYear(){return this.isLeapYear()?366:365},daysInYearMap(){const e=[],t=y(this.value);t.month(0).day(1);for(let n=0;n<12;n++)t.add(1,"month").add(-1,"day"),e.push(t.day()),t.day(1).add(1,"month");return e},daysInYearObj(e,t){const n=this.daysInYearMap(),i={},s=b.getLocale(e||this.locale);return n.forEach(((e,n)=>i[s[t?"monthsShort":"months"][n]]=e)),i}}),Object.assign(b.prototype,{decade(){return 10*Math.floor(this.year()/10)},decadeStart(){const e=this.decade();return(this.mutable?this:this.clone()).year(e).month(0).day(1)},decadeEnd(){const e=this.decade()+9;return(this.mutable?this:this.clone()).year(e).month(11).day(31)},decadeOfMonth(){const e=this.clone().add(1,"month").day(1).add(-1,"day").day()/3,t=this.day();return t<=e?1:t<=2*e?2:3}}),Object.assign(b,{from(e,n,i){let s,a,o,r,l,c,u,h,d,p,f,m,g,w,C,_,x,k,T;const S=function(e,t){return e.map((function(e){return e.toLowerCase()})).indexOf(t.toLowerCase())},E=function(e){const t={month:["M","mm","%m"],day:["D","dd","%d"],year:["YY","YYYY","yy","yyyy","%y"],hour:["h","hh","%h"],minute:["m","mi","i","ii","%i"],second:["s","ss","%s"],ms:["sss"]};let n,i,s=-1;for(let a=0;a<t[e].length;a++)if(n=t[e][a],i=o.indexOf(n),-1!==i){s=i;break}return s};if(!n)return y();if(s=e.replace(/[\/,.:\s]/g,"-"),a=n.toLowerCase().replace(/[^a-zA-Z0-9%]/g,"-"),o=a.split("-"),r=s.split("-"),""===s.replace(/-/g,"").trim())throw new Error(t);return l=E("month"),c=E("day"),u=E("year"),h=E("hour"),d=E("minute"),p=E("second"),f=E("ms"),l>-1&&r[l]?isNaN(parseInt(r[l]))?(r[l]=function(e){let t=-1;const n=b.getLocale(i||"en");return v(e)?-1:(t=S(n.months,e),-1===t&&void 0!==n.monthsParental&&(t=S(n.monthsParental,e)),-1===t&&(e=e.substr(0,3),t=S(n.monthsShort,e)),-1===t?-1:t+1)}(r[l]),-1===r[l]&&(l=-1)):(T=parseInt(r[l]),(T<1||T>12)&&(l=-1)):l=-1,m=u>-1&&r[u]?r[u]:0,g=l>-1&&r[l]?r[l]:1,w=c>-1&&r[c]?r[c]:1,C=h>-1&&r[h]?r[h]:0,_=d>-1&&r[d]?r[d]:0,x=p>-1&&r[p]?r[p]:0,k=f>-1&&r[f]?r[f]:0,y(m,g-1,w,C,_,x,k)}});const x=b.prototype.format;Object.assign(b.prototype,{ampm(e){let t=this.hour()<12?"AM":"PM";return e?t.toLowerCase():t},hour12:function(e,t){let n=e;return 0===arguments.length?this.hour()%12:("pm"===(t=t||"am").toLowerCase()&&(n+=12),this.hour(n))},format:function(t,n){let i,s,a=this.hour12();return t=t||e,i={a:"["+this.ampm(!0)+"]",A:"["+this.ampm(!1)+"]",h:a,hh:g(a,0,2)},s=t.replace(/(\[[^\]]+])|a|A|h{1,2}/g,((e,t)=>t||i[e])),x.bind(this)(s,n)}});const k=b.prototype.format,T=b.align,S=b.alignEnd;Object.assign(b,{align(e,t){let n,i,s=y(e);if("isoWeek"===t)i=s.isoWeekDay(),n=T(s,"day").addDay(1-i);else n=T.apply(void 0,[s,t]);return n},alignEnd(e,t){let n,i,s=y(e);if("isoWeek"===t)i=s.isoWeekDay(),n=S(s,"day").addDay(7-i);else n=S.apply(void 0,[s,t]);return n}}),Object.assign(b.prototype,{isoWeekDay(e){let t=(this.weekDay()+6)%7+1;return!arguments.length||v(e)?t:this.addDay(e-t)},format(t,n){t=t||e;const i={I:this.isoWeekDay()};let s=t.replace(/(\[[^\]]+])|I{1,2}/g,((e,t)=>t||i[e]));return k.bind(this)(s,n)}}),Object.assign(b,{max(){return[].slice.call(arguments).map((e=>y(e))).sort(((e,t)=>t.time()-e.time()))[0]}}),Object.assign(b.prototype,{max(){return b.max.apply(this,[this].concat([].slice.call(arguments)))}}),Object.assign(b,{min(){return[].slice.call(arguments).map((e=>y(e))).sort(((e,t)=>e.time()-t.time()))[0]}}),Object.assign(b.prototype,{min(){return b.min.apply(this,[this].concat([].slice.call(arguments)))}});const E=b.align,O=b.alignEnd,I=b.prototype.add;Object.assign(b,{align(e,t){let n,i=y(e);if("quarter"===t)n=b.align(i,"day").day(1).month(3*i.quarter()-3);else n=E.apply(this,[i,t]);return n},alignEnd(e,t){let n,i=y(e);if("quarter"===t)n=b.align(i,"quarter").add(3,"month").add(-1,"ms");else n=O.apply(this,[i,t]);return n}}),Object.assign(b.prototype,{quarter(){const e=this.month();return e<=2?1:e<=5?2:e<=8?3:4},add(e,t){return"quarter"===t?this.month(this.month()+3*e):I.bind(this)(e,t)},addQuarter(e){return this.add(e,"quarter")}}),Object.assign(b,{sort(t,n){let i,s;const a={};switch("string"==typeof n||"object"!=typeof n||v(n)?(a.format=e,a.dir=n&&"DESC"===n.toUpperCase()?"DESC":"ASC",a.returnAs="datetime"):(a.format=n.format||e,a.dir=(n.dir||"ASC").toUpperCase(),a.returnAs=n.format?"string":n.returnAs||"datetime"),s=t.map((e=>y(e))).sort(((e,t)=>e.valueOf()-t.valueOf())),"DESC"===a.dir&&s.reverse(),a.returnAs){case"string":i=s.map((e=>e.format(a.format)));break;case"date":i=s.map((e=>e.val()));break;default:i=s}return i}});const M=b.prototype.format;Object.assign(b.prototype,{utcOffset(){return this.value.getTimezoneOffset()},timezone(){return this.toTimeString().replace(/.+GMT([+-])(\d{2})(\d{2}).+/,"$1$2:$3")},timezoneName(){return this.toTimeString().replace(/.+\((.+?)\)$/,"$1")},format(t,n){t=t||e;const i={Z:this.utcMode?"Z":this.timezone(),ZZ:this.timezone().replace(":",""),ZZZ:"[GMT]"+this.timezone(),z:this.timezoneName()};let s=t.replace(/(\[[^\]]+])|Z{1,3}|z/g,((e,t)=>t||i[e]));return M.bind(this)(s,n)}});const A=b.prototype.format;Object.assign(b.prototype,{weekNumber(e){let t,n,i,s,a,o;return e=+e||0,i=y(this.year(),0,1),s=i.weekDay()-e,s=s>=0?s:s+7,a=Math.floor((this.time()-i.time()-6e4*(this.utcOffset()-i.utcOffset()))/864e5)+1,s<4?(o=Math.floor((a+s-1)/7)+1,o>52&&(t=y(this.year()+1,0,1),n=t.weekDay()-e,n=n>=0?n:n+7,o=n<4?1:53)):o=Math.floor((a+s-1)/7),o},isoWeekNumber(){return this.weekNumber(1)},weeksInYear(e){return y(this.value).month(11).day(31).weekNumber(e)},format:function(t,n){let i,s,a=this.weekNumber(),o=this.isoWeekNumber();return t=t||e,i={W:a,WW:g(a,0,2),WWW:o,WWWW:g(o,0,2)},s=t.replace(/(\[[^\]]+])|W{1,4}/g,((e,t)=>t||i[e])),A.bind(this)(s,n)}}),Object.assign(b.prototype,{strftime(e,t){const n=e||"%Y-%m-%dT%H:%M:%S.%Q%t",s=b.getLocale(t||this.locale),a=this.year(),o=this.year2(),r=this.month(),l=this.day(),c=this.weekDay(),u=this.hour(),h=this.hour12(),d=this.minute(),p=this.second(),f=this.ms(),m=this.time(),v=g(l,0,2),w=g(r+1,0,2),C=g(u,0,2),_=g(h,0,2),x=g(d,0,2),k=g(p,0,2),T=g(f,0,3),S=this,E=function(){return y(S.value).day(S.day()-(S.weekDay()+6)%7+3)},O={"%a":s.weekdaysShort[c],"%A":s.weekdays[c],"%b":s.monthsShort[r],"%h":s.monthsShort[r],"%B":s.months[r],"%c":this.toString().substring(0,this.toString().indexOf(" (")),"%C":this.century(),"%d":v,"%D":[v,w,a].join("/"),"%e":l,"%F":[a,w,v].join("-"),"%G":E().year(),"%g":(""+E().year()).slice(2),"%H":C,"%I":_,"%j":g(this.dayOfYear(),0,3),"%k":C,"%l":_,"%m":w,"%n":r+1,"%M":x,"%p":this.ampm(),"%P":this.ampm(!0),"%s":Math.round(m/1e3),"%S":k,"%u":this.isoWeekDay(),"%V":this.isoWeekNumber(),"%w":c,"%x":this.toLocaleDateString(),"%X":this.toLocaleTimeString(),"%y":o,"%Y":a,"%z":this.timezone().replace(":",""),"%Z":this.timezoneName(),"%r":[_,x,k].join(":")+" "+this.ampm(),"%R":[C,x].join(":"),"%T":[C,x,k].join(":"),"%Q":T,"%q":f,"%t":this.timezone()};return n.replace(i,(e=>0===O[e]||O[e]?O[e]:e))}}),Object.assign(b,{isToday(e){const t=y(e).align("day"),n=y().align("day");return t.time()===n.time()}}),Object.assign(b.prototype,{isToday(){return b.isToday(this)},today(){const e=y();return this.mutable?this.val(e.val()):e}}),Object.assign(b,{isTomorrow(e){const t=y(e).align("day"),n=y().align("day").add(1,"day");return t.time()===n.time()}}),Object.assign(b.prototype,{isTomorrow(){return b.isTomorrow(this)},tomorrow(){return this.mutable?this.add(1,"day"):this.clone().immutable(!1).add(1,"day").immutable(!this.mutable)}}),Object.assign(b.prototype,{toDateString(){return this.value.toDateString()},toISOString(){return this.value.toISOString()},toJSON(){return this.value.toJSON()},toGMTString(){return this.value.toGMTString()},toLocaleDateString(){return this.value.toLocaleDateString()},toLocaleString(){return this.value.toLocaleString()},toLocaleTimeString(){return this.value.toLocaleTimeString()},toTimeString(){return this.value.toTimeString()},toUTCString(){return this.value.toUTCString()},toDate(){return new Date(this.value)}}),Object.assign(b,{timestamp:()=>(new Date).getTime()/1e3}),Object.assign(b.prototype,{unix(e){let t;return!arguments.length||v(e)?Math.floor(this.valueOf()/1e3):(t=1e3*e,this.mutable?this.time(t):y(this.value).time(t))},timestamp(){return this.unix()}}),Object.assign(b,{isYesterday(e){const t=y(e).align("day"),n=y().align("day").add(-1,"day");return t.time()===n.time()}}),Object.assign(b.prototype,{isYesterday(){return b.isYesterday(this)},yesterday(){return this.mutable?this.add(-1,"day"):this.clone().immutable(!1).add(-1,"day").immutable(!this.mutable)}});const D=e=>{let t,n=Math.floor(e/1e3),i=Math.floor(n/60),s=Math.floor(i/60),a=Math.floor(s/24),o=Math.floor(a/30),r=Math.floor(o/12);return r>=1&&(t=`${r} year`),o>=1&&r<1&&(t=`${o} mon`),a>=1&&a<=30&&(t=`${a} days`),s&&s<24&&(t=`${s} hour`),i&&i>=40&&i<60&&(t="less a hour"),i&&i<40&&(t=`${i} min`),n&&n>=30&&n<60&&(t=`${n} sec`),n<30&&(t="few sec"),t};Object.assign(b,{timeLapse(e){let t=y(e),n=y();return D(n-t)}}),Object.assign(b.prototype,{timeLapse(){let e=y()-+this;return D(e)}});const L={parseTime(e){if(!isNaN(e))return Math.abs(+e);return e.match(/([0-9]+d)|([0-9]{1,2}h)|([0-9]{1,2}m)|([0-9]{1,2}s)/gm).reduce(((e,t)=>{let n;return t.includes("d")?n=864e5*parseInt(t):t.includes("h")?n=36e5*parseInt(t):t.includes("m")?n=6e4*parseInt(t):t.includes("s")&&(n=1e3*parseInt(t)),e+n}),0)}};var R;Object.assign(b,L),globalThis.Datetime=b,globalThis.datetime=y,R=b.getLocale,b.getLocale=function(e){var t;return Metro?(Metro.locales[e]||(e="en-US"),{months:(t=Metro.locales[e].calendar).months.filter((function(e,t){return t<12})),monthsShort:t.months.filter((function(e,t){return t>11})),weekdays:t.days.filter((function(e,t){return t<7})),weekdaysShort:t.days.filter((function(e,t){return t>13})),weekdaysMin:t.days.filter((function(e,t){return t>6&&t<14})),weekStart:t.weekStart}):(e="en",R.call(this,e))};const N="\\s\\uFEFF\\xA0",F="\\u0300-\\u036F\\u1AB0-\\u1AFF\\u1DC0-\\u1DFF\\u20D0-\\u20FF\\uFE20-\\uFE2F",P="a-z\\xB5\\xDF-\\xF6\\xF8-\\xFF\\u0101\\u0103\\u0105\\u0107\\u0109\\u010B\\u010D\\u010F\\u0111\\u0113\\u0115\\u0117\\u0119\\u011B\\u011D\\u011F\\u0121\\u0123\\u0125\\u0127\\u0129\\u012B\\u012D\\u012F\\u0131\\u0133\\u0135\\u0137\\u0138\\u013A\\u013C\\u013E\\u0140\\u0142\\u0144\\u0146\\u0148\\u0149\\u014B\\u014D\\u014F\\u0151\\u0153\\u0155\\u0157\\u0159\\u015B\\u015D\\u015F\\u0161\\u0163\\u0165\\u0167\\u0169\\u016B\\u016D\\u016F\\u0171\\u0173\\u0175\\u0177\\u017A\\u017C\\u017E-\\u0180\\u0183\\u0185\\u0188\\u018C\\u018D\\u0192\\u0195\\u0199-\\u019B\\u019E\\u01A1\\u01A3\\u01A5\\u01A8\\u01AA\\u01AB\\u01AD\\u01B0\\u01B4\\u01B6\\u01B9\\u01BA\\u01BD-\\u01BF\\u01C6\\u01C9\\u01CC\\u01CE\\u01D0\\u01D2\\u01D4\\u01D6\\u01D8\\u01DA\\u01DC\\u01DD\\u01DF\\u01E1\\u01E3\\u01E5\\u01E7\\u01E9\\u01EB\\u01ED\\u01EF\\u01F0\\u01F3\\u01F5\\u01F9\\u01FB\\u01FD\\u01FF\\u0201\\u0203\\u0205\\u0207\\u0209\\u020B\\u020D\\u020F\\u0211\\u0213\\u0215\\u0217\\u0219\\u021B\\u021D\\u021F\\u0221\\u0223\\u0225\\u0227\\u0229\\u022B\\u022D\\u022F\\u0231\\u0233-\\u0239\\u023C\\u023F\\u0240\\u0242\\u0247\\u0249\\u024B\\u024D\\u024F",H="\\x41-\\x5a\\xc0-\\xd6\\xd8-\\xde\\u0100\\u0102\\u0104\\u0106\\u0108\\u010a\\u010c\\u010e\\u0110\\u0112\\u0114\\u0116\\u0118\\u011a\\u011c\\u011e\\u0120\\u0122\\u0124\\u0126\\u0128\\u012a\\u012c\\u012e\\u0130\\u0132\\u0134\\u0136\\u0139\\u013b\\u013d\\u013f\\u0141\\u0143\\u0145\\u0147\\u014a\\u014c\\u014e\\u0150\\u0152\\u0154\\u0156\\u0158\\u015a\\u015c\\u015e\\u0160\\u0162\\u0164\\u0166\\u0168\\u016a\\u016c\\u016e\\u0170\\u0172\\u0174\\u0176\\u0178\\u0179\\u017b\\u017d\\u0181\\u0182\\u0184\\u0186\\u0187\\u0189-\\u018b\\u018e-\\u0191\\u0193\\u0194\\u0196-\\u0198\\u019c\\u019d\\u019f\\u01a0\\u01a2\\u01a4\\u01a6\\u01a7\\u01a9\\u01ac\\u01ae\\u01af\\u01b1-\\u01b3\\u01b5\\u01b7\\u01b8\\u01bc\\u01c4\\u01c5\\u01c7\\u01c8\\u01ca\\u01cb\\u01cd\\u01cf\\u01d1\\u01d3\\u01d5\\u01d7\\u01d9\\u01db\\u01de\\u01e0\\u01e2\\u01e4\\u01e6\\u01e8\\u01ea\\u01ec\\u01ee\\u01f1\\u01f2\\u01f4\\u01f6-\\u01f8\\u01fa\\u01fc\\u01fe\\u0200\\u0202\\u0204\\u0206\\u0208\\u020a\\u020c\\u020e\\u0210\\u0212\\u0214\\u0216\\u0218\\u021a\\u021c\\u021e\\u0220\\u0222\\u0224\\u0226\\u0228\\u022a\\u022c\\u022e\\u0230\\u0232\\u023a\\u023b\\u023d\\u023e\\u0241\\u0243-\\u0246\\u0248\\u024a\\u024c\\u024e",B=new RegExp("^["+N+"]+"),j=new RegExp("["+N+"]+$"),V=new RegExp("^\\d+$"),U=/[<>&"'`]/g,q=/(<([^>]+)>)/gi,W=new RegExp("(?:["+H+"]["+F+"]*)?(?:["+P+"]["+F+"]*)+|(?:["+H+"]["+F+"]*)+(?!["+P+"])|["+"\\d]+|[\\u2700-\\u27BF]|[^\\x00-\\x2F\\x3A-\\x40\\x5B-\\x60\\x7b-\\xBF\\xD7\\xF7\\u2000-\\u206F"+N+"]+","g"),Y=/[A-Z\xC0-\xD6\xD8-\xDE]?[a-z\xDF-\xF6\xF8-\xFF]+|[A-Z\xC0-\xD6\xD8-\xDE]+(?![a-z\xDF-\xF6\xF8-\xFF])|\d+/g,z=new RegExp("^(?:["+P+H+"]["+F+"]*)+$"),G=new RegExp("^((?:["+P+H+"]["+F+"]*)|["+"\\d])+$"),$=/^[\x01-\xFF]*$/,X=(e,t="")=>e?"string"==typeof e?e:Array.isArray(e)?e.join(""):JSON.stringify(e):t,J=(e,t)=>null==e?t:e,K=(e,t,n)=>{let i;return i=t?t instanceof RegExp?t:new RegExp(t,J(n,"")):$.test(e)?Y:W,J(X(e).match(i),[])},Q=(e,t=!1)=>{let n=X(e),i=n.substr(1);return n.substr(0,1).toUpperCase()+(t?i.toLowerCase():i)},Z=e=>X(e).toLowerCase(),ee=(e,t=[])=>X(e).split("").filter((e=>!t.includes(e))),te=(e,t)=>{const n=t.toLowerCase(),i=t.toUpperCase();return e+(t===n?i:n)},ne=e=>X(e).toUpperCase(),ie=(e=[])=>{let t=[...e];for(let e=0;e<t.length;++e)for(let n=e+1;n<t.length;++n)t[e]===t[n]&&t.splice(n--,1);return t},se={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};function ae(e){return se[e]}const oe={"<":/(&lt;)|(&#x0*3c;)|(&#0*60;)/gi,">":/(&gt;)|(&#x0*3e;)|(&#0*62;)/gi,"&":/(&amp;)|(&#x0*26;)|(&#0*38;)/gi,'"':/(&quot;)|(&#x0*22;)|(&#0*34;)/gi,"'":/(&#x0*27;)|(&#0*39;)/gi,"`":/(&#x0*60;)|(&#0*96;)/gi},re=Object.keys(oe);function le(e,t){return e.replace(oe[t],t)}const ce=(e,t,n)=>X(e).substring(t,n),ue=9007199254740991,he=(e,t,n=9007199254740991)=>e<t?t:e>n?n:e,de=e=>e===1/0?ue:e===-1/0?-9007199254740991:~~e,pe=(e,t=0,n="...")=>{let i=X(e),s=t?he(de(t),0,ue):i.length;return ce(i,0,s)+(i.length===s?"":n)},fe=(e,t=0)=>{let n=X(e),i=t?he(de(t),0,ue):n.length;const s=n;if(0===t)return"";for(let e=0;e<i-1;e++)n+=s;return n},me=(e,t=0)=>{const n=e.length;return fe(e,t-n+1).substring(0,t)},ve=(e,t="",n=0,i=!1)=>{let s=X(e),a=n?he(de(n),0,ue):s.length,o=t.length,r=a-s.length;if(r<=0||0===o)return s;let l=me(t,r);return i?l+s:s+l},ge=Array.prototype.reduce,be=Array.prototype.reduceRight,ye=(e,t)=>we(Ce(e,t),t),we=(e,t)=>{let n=X(e);if(!t)return n.replace(B,"");if(""===t||""===n)return n;"string"!=typeof t&&(t="");let i=!0;return ge.call(n,((e,n)=>i&&t.includes(n)?e:(i=!1,e+n)),"")},Ce=(e,t)=>{let n=X(e);if(!t)return n.replace(j,"");if(""===t||""===n)return n;"string"!=typeof t&&(t="");let i=!0;return be.call(n,((e,n)=>i&&t.includes(n)?e:(i=!1,n+e)),"")},_e=e=>0===ye(e).length,xe={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};const ke=Object.create(null);const Te=e=>function(e,t){let n,i,s,a,o,r,l,c=1,u=e.length,h="";for(let d=0;d<u;d++)if("string"==typeof e[d])h+=e[d];else if("object"==typeof e[d]){if(i=e[d],i.keys){n=t[c];for(let e=0;e<i.keys.length;e++){if(void 0===n)throw new Error(Te('[sprintf] Cannot access property "%s" of undefined value "%s"',i.keys[e],i.keys[e-1]));n=n[i.keys[e]]}}else n=i.param_no?t[i.param_no]:t[c++];if(xe.not_type.test(i.type)&&xe.not_primitive.test(i.type)&&n instanceof Function&&(n=n()),xe.numeric_arg.test(i.type)&&"number"!=typeof n&&isNaN(n))throw new TypeError(Te("[sprintf] expecting number but found %T"));switch(xe.number.test(i.type)&&(r=n>=0),i.type){case"b":n=parseInt(n,10).toString(2);break;case"c":n=String.fromCharCode(parseInt(n,10));break;case"d":case"i":n=parseInt(n,10);break;case"j":n=JSON.stringify(n,null,i.width?parseInt(i.width):0);break;case"e":n=i.precision?parseFloat(n).toExponential(i.precision):parseFloat(n).toExponential();break;case"f":n=i.precision?parseFloat(n).toFixed(i.precision):parseFloat(n);break;case"g":n=i.precision?String(Number(n.toPrecision(i.precision))):parseFloat(n);break;case"o":n=(parseInt(n,10)>>>0).toString(8);break;case"s":n=String(n),n=i.precision?n.substring(0,i.precision):n;break;case"t":n=String(!!n),n=i.precision?n.substring(0,i.precision):n;break;case"T":n=Object.prototype.toString.call(n).slice(8,-1).toLowerCase(),n=i.precision?n.substring(0,i.precision):n;break;case"u":n=parseInt(n,10)>>>0;break;case"v":n=n.valueOf(),n=i.precision?n.substring(0,i.precision):n;break;case"x":n=(parseInt(n,10)>>>0).toString(16);break;case"X":n=(parseInt(n,10)>>>0).toString(16).toUpperCase()}xe.json.test(i.type)?h+=n:(!xe.number.test(i.type)||r&&!i.sign?l="":(l=r?"+":"-",n=n.toString().replace(xe.sign,"")),a=i.pad_char?"0"===i.pad_char?"0":i.pad_char.charAt(1):" ",o=i.width-(l+n).length,s=i.width&&o>0?a.repeat(o):"",h+=i.align?l+n+s:"0"===a?l+s+n:s+l+n)}return h}(function(e){if(ke[e])return ke[e];let t,n=e,i=[],s=0;for(;n;){if(null!==(t=xe.text.exec(n)))i.push(t[0]);else if(null!==(t=xe.modulo.exec(n)))i.push("%");else{if(null===(t=xe.placeholder.exec(n)))throw new SyntaxError("[sprintf] unexpected placeholder");if(t[2]){s|=1;let e=[],n=t[2],i=[];if(null===(i=xe.key.exec(n)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(e.push(i[1]);""!==(n=n.substring(i[0].length));)if(null!==(i=xe.key_access.exec(n)))e.push(i[1]);else{if(null===(i=xe.index_access.exec(n)))throw new SyntaxError("[sprintf] failed to parse named argument key");e.push(i[1])}t[2]=e}else s|=2;if(3===s)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");i.push({placeholder:t[0],param_no:t[1],keys:t[2],sign:t[3],pad_char:t[4],align:t[5],width:t[6],precision:t[7],type:t[8]})}n=n.substring(t[0].length)}return ke[e]=i}(e),arguments);var Se={camelCase:e=>K(X(e)).map(((e,t)=>0===t?e.toLowerCase():Q(e))).join(""),capitalize:Q,chars:ee,count:e=>X(e).length,countChars:(e,t)=>ee(e,t).length,countUniqueChars:(e,t)=>ie(ee(e,t)).length,countSubstr:(e,t="")=>{let n=X(e),i=X(t);return""===n||""===i?0:n.split(i).length-1},countWords:(e,t,n)=>K(e,t,n).length,countUniqueWords:(e,t,n)=>ie(K(e,t,n)).length,dashedName:e=>K(X(e)).map((e=>e.toLowerCase())).join("-"),decapitalize:e=>{let t=X(e);return t.substr(0,1).toLowerCase()+t.substr(1)},kebab:(e,t="-")=>K(X(e)).map((e=>e.toLowerCase())).join(t),lower:Z,reverse:(e,t)=>ee(X(e),t).reverse().join(""),shuffle:e=>((e=[])=>{let t,n,i=[...e],s=i.length;for(;0!==s;)n=Math.floor(Math.random()*s),s-=1,t=i[s],i[s]=i[n],i[n]=t;return i})(X(e).split("")).join(""),snake:e=>K(X(e)).map((e=>e.toLowerCase())).join("_"),swap:e=>X(e).split("").reduce(te,""),title:(e,t,n="")=>{let i=X(e);const s=$.test(i)?Y:W,a=Array.isArray(t)?t:"string"!=typeof t?[]:t.split(n);return e.replace(s,((e,t)=>t&&a.includes(i[t-1])?Z(e):Q(e)))},upper:ne,words:K,wrap:(e,t="",n="")=>t+X(e)+n,wrapTag:(e,t="div")=>`<${t}>${X(e)}</${t}>`,escapeHtml:e=>X(e).replace(U,ae),unescapeHtml:e=>re.reduce(le,X(e)),unique:(e,t)=>ie(ee(e,t)).join(""),uniqueWords:(e,t,n)=>ie(K(e,t,n)).join(""),substring:ce,first:(e,t=0)=>ce(X(e),0,t),last:(e,t=0)=>{let n=X(e);return n?ce(n,n.length-t):""},truncate:pe,truncateWithAlign:(e,t=0,n="...")=>{const i=pe(e,t,"");return i.slice(e,i.lastIndexOf(" "))+n},slice:(e,t=1)=>{let n=X(e),i=[],s=Math.round(n.length/t);for(let e=0;e<t;e++)i.push(ce(n,e*s,s));return i},prune:(e,t=0,n="")=>{let i=X(e),s=t?he(de(t),0,ue):i.length,a=0;const o=$.test(i)?Y:W;return i.replace(o,((e,t)=>{const i=t+e.length;i<=s-n.length&&(a=i)})),i.substring(0,a)+n},repeat:fe,pad:(e,t="",n=0)=>{let i=X(e),s=n?he(de(n),0,ue):i.length,a=t.length,o=s-i.length,r=de(o/2),l=o%2;return o<=0||0===a?i:me(t,r)+i+me(t,r+l)},lpad:(e,t=" ",n=0)=>ve(e,t,n,!0),rpad:(e,t=" ",n=0)=>ve(e,t,n,!1),insert:(e,t="",n=0)=>{let i=X(e);return i.substring(0,n)+t+i.substring(n)},trim:ye,ltrim:we,rtrim:Ce,endsWith:(e,t,n)=>X(e).endsWith(t,n),isAlpha:e=>z.test(X(e)),isAlphaDigit:e=>G.test(X(e)),isDigit:e=>V.test(X(e)),isBlank:(e,t=!0)=>t?0===X(e).length:0===ye(e).length,isEmpty:_e,isLower:e=>Z(e)===e,isUpper:e=>ne(e)===e,startsWith:(e,t,n)=>X(e).startsWith(t,n),stripTags:(e,t=[])=>X(e).replace(/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,((e,n)=>t.includes(n)?e:"")),stripTagsAll:e=>X(e).replace(q,""),sprintf:Te,vsprintf:(e,t)=>Te.apply(null,[e].concat(t||[])),includes:(e,t,n)=>X(e).includes(t,n),split:(e,t=void 0,n=void 0,i=!0)=>X(e).split(t,n).map((e=>i?e.trim():e)).filter((e=>!i||!_e(e))),strip:(e,t=null,n="")=>{let i,s=X(e);return t?(i=new RegExp(t,"g"),s.replace(i,n)):s},isString:e=>"string"==typeof e,matches:(e,t,n="")=>{let i,s=X(e);if(!(t instanceof RegExp)){if(i=t?ye(X(t)):"",!i)return!1;t=new RegExp(i,n)}return t.test(s)},append:(e,t="",n=1)=>X(e)+fe(t,n),prepend:(e,t="",n=1)=>fe(t,n)+X(e),stripBoom:e=>{let t=X(e);return""===t?t:"\ufeff"===t[0]?t.substring(1):t},shorten:(e,t=5,n="...")=>e?`${e.substring(0,t)}${n}${e.substring(e.length-t)}`:e};let Ee=class{constructor(e="",{mutable:t=!0}={}){this.value=e.toString(),this.mutable=t}[Symbol.toPrimitive](e){return"number"===e?+this.value:this.value}get[Symbol.toStringTag](){return"Str"}val(e){return null==e?this.value:(this.value=e.toString(),this)}get length(){return this.value.length}immutable(e=!0){this.mutable=!e}toString(){return this.value}_result(e){return this.mutable?(this.value=e,this):Oe(e)}camelCase(){return this._result(Se.camelCase(this.value))}capitalize(e){return this._result(Se.capitalize(this.value,e))}chars(e){return this._result(Se.chars(this.value,e))}count(){return Se.count(this.value)}countChars(e){return Se.countChars(this.value,e)}countUniqueChars(e){return Se.countUniqueChars(this.value,e)}countSubstr(e){return Se.countSubstr(this.value,e)}countWords(e,t){return Se.countChars(this.value,e,t)}countUniqueWords(e,t){return Se.countUniqueChars(this.value,e,t)}dashedName(){return this._result(Se.dashedName(this.value))}decapitalize(){return this._result(Se.decapitalize(this.value))}endsWith(e,t){return Se.endsWith(this.value,e,t)}escapeHtml(){return this._result(Se.escapeHtml(this.value))}first(){return this._result(Se.first(this.value))}includes(e,t){return Se.includes(this.value,e,t)}insert(e,t){return this._result(Se.insert(this.value,e,t))}isAlpha(){return Se.isAlpha(this.value)}isAlphaDigit(){return Se.isAlphaDigit(this.value)}isBlank(e){return Se.isBlank(this.value,e)}isDigit(){return Se.isDigit(this.value)}isEmpty(){return Se.isEmpty(this.value)}isLower(){return Se.isLower(this.value)}static isString(e){return Se.isString(e)}isUpper(){return Se.isUpper(this.value)}kebab(e){return this._result(Se.kebab(this.value,e))}last(e){return this._result(Se.last(this.value,e))}lower(){return this._result(Se.lower(this.value))}matches(e,t){return Se.matches(this.value,e,t)}pad(e,t){return this._result(Se.pad(this.value,e,t))}lpad(e,t){return this._result(Se.lpad(this.value,e,t))}rpad(e,t){return this._result(Se.rpad(this.value,e,t))}prune(e,t){return this._result(Se.prune(this.value,e,t))}repeat(e){return this._result(Se.repeat(this.value,e))}append(e,t){return this._result(Se.append(this.value,e,t))}prepend(e,t){return this._result(Se.prepend(this.value,e,t))}reverse(e){return this._result(Se.reverse(this.value,e))}shuffle(){return this._result(Se.shuffle(this.value))}slice(e){return this._result(Se.slice(this.value,e))}snake(){return this._result(Se.snake(this.value))}split(e,t,n){return this._result(Se.split(this.value,e,t,n))}sprintf(...e){return this._result(Se.sprintf(this.value,...e))}vsprintf(...e){return this._result(Se.vsprintf(this.value,...e))}startsWith(e,t){return Se.startsWith(this.value,e,t)}stripBoom(){return this._result(Se.stripBoom(this.value))}stripTags(e){return this._result(Se.stripTags(this.value,e))}stripTagsAll(){return this._result(Se.stripTagsAll(this.value))}strip(e,t){return this._result(Se.strip(this.value,e,t))}substring(e,t){return this._result(Se.substring(this.value,e,t))}swap(){return this._result(Se.swap(this.value))}title(e,t){return this._result(Se.title(this.value,e,t))}trim(e){return this._result(Se.trim(this.value,e))}ltrim(e){return this._result(Se.ltrim(this.value,e))}rtrim(e){return this._result(Se.rtrim(this.value,e))}truncate(e,t){return this._result(Se.truncate(this.value,e,t))}truncateWithAlign(e,t){return this._result(Se.truncateWithAlign(this.value,e,t))}unescapeHtml(){return this._result(Se.unescapeHtml(this.value))}unique(e){return this._result(Se.unique(this.value,e))}uniqueWords(e,t){return this._result(Se.uniqueWords(this.value,e,t))}upper(){return this._result(Se.upper(this.value))}words(e,t){return Se.words(this.value,e,t)}wrap(e,t){return this._result(Se.wrap(this.value,e,t))}wrapTag(e){return this._result(Se.wrapTag(this.value,e))}shorten(e,t){return this._result(Se.shorten(this.value,e,t))}};Object.assign(Ee,Se);const Oe=e=>new Ee(e);globalThis.Str=Ee,globalThis.str=Oe;
/*!
     * Module For Query (m4q, https://metroui.org.ua)
     * Copyright 2012-2024 by Serhii Pimenov
     * Licensed under MIT
     !*/
var Ie=["opacity","zIndex"];function Me(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)}function Ae(e){return null==e}function De(e){return e.replace(/-([a-z])/g,(function(e,t){return t.toUpperCase()}))}function Le(e){var t;return!(!e||"[object Object]"!==Object.prototype.toString.call(e))&&(!(t=void 0!==e.prototype)||t.constructor&&"function"==typeof t.constructor)}function Re(e){for(var t in e)if(qe(e,t))return!1;return!0}function Ne(e){return e instanceof Object&&"length"in e}function Fe(e,t){return t=t||" ",e.split(t).map((function(e){return(""+e).trim()})).filter((function(e){return""!==e}))}function Pe(e,t){return t||(t=[0,""]),e=String(e),t[0]=parseFloat(e),t[1]=e.match(/[\d.\-+]*\s*(.*)/)[1]||"",t}function He(e,t){var n=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(e);return void 0!==n[1]?n[1]:t}function Be(e,t,n){t=De(t),["scrollLeft","scrollTop"].indexOf(t)>-1?e[t]=parseInt(n):e.style[t]=isNaN(n)||Ie.indexOf(""+t)>-1?n:n+"px"}function je(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType}function Ve(e,t,n){var i;return Ae(n)&&1===e.nodeType&&(i="data-"+t.replace(/[A-Z]/g,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(i))?(n=function(e){try{return JSON.parse(e)}catch(t){return e}}(n),Xe.set(e,t,n)):n=void 0),n}function Ue(e){return"string"!=typeof e?void 0:e.replace(/-/g,"").toLowerCase()}function qe(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function We(e){var t=e||window.location.hostname;return"localhost"===t||"127.0.0.1"===t||"[::1]"===t||""===t||null!==t.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)}var Ye=Element.prototype.matches||Element.prototype.matchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector,ze=function(e,t){return new ze.init(e,t)};function Ge(e){var t=document.createElement("script");if(t.type="text/javascript",Ae(e))return ze(t);var n=ze(e)[0];return n.src?t.src=n.src:t.textContent=n.innerText,document.body.appendChild(t),n.parentNode&&n.parentNode.removeChild(n),t}ze.version="2.0.0-rc7",ze.build_time="26.04.2024, 15:04:26",ze.info=()=>console.info(`%c M4Q %c v${ze.version} %c ${ze.build_time} `,"color: white; font-weight: bold; background: #fd6a02","color: white; background: darkgreen","color: white; background: #0080fe;"),ze.fn=ze.prototype={[Symbol.isConcatSpreadable]:!0,constructor:ze,length:0,uid:"",push:[].push,sort:[].sort,splice:[].splice,slice:[].slice,reverse:[].reverse,map:[].map,pop:[].pop,shift:[].shift,unshift:[].unshift,concat:[].concat,includes:[].includes},ze.extend=ze.fn.extend=function(){var e,t,n=arguments[0]||{},i=1,s=arguments.length;for("object"!=typeof n&&"function"!=typeof n&&(n={}),i===s&&(n=this,i--);i<s;i++)if(null!=(e=arguments[i]))for(t in e)qe(e,t)&&(n[t]=e[t]);return n},ze.assign=function(){var e,t,n=arguments[0]||{},i=1,s=arguments.length;for("object"!=typeof n&&"function"!=typeof n&&(n={}),i===s&&(n=this,i--);i<s;i++)if(null!=(e=arguments[i]))for(t in e)qe(e,t)&&void 0!==e[t]&&(n[t]=e[t]);return n},function(e){try{const t=new Blob(["\n            var fakeIdToId = {};\n            onmessage = function (event) {\n                var data = event.data,\n                    name = data.name,\n                    fakeId = data.fakeId,\n                    time;\n                if(data.hasOwnProperty('time')) {\n                    time = data.time;\n                }\n                switch (name) {\n                    case 'setInterval':\n                        fakeIdToId[fakeId] = setInterval(function () {\n                            postMessage({fakeId: fakeId});\n                        }, time);\n                        break;\n                    case 'clearInterval':\n                        if (fakeIdToId.hasOwnProperty (fakeId)) {\n                            clearInterval(fakeIdToId[fakeId]);\n                            delete fakeIdToId[fakeId];\n                        }\n                        break;\n                    case 'setTimeout':\n                        fakeIdToId[fakeId] = setTimeout(function () {\n                            postMessage({fakeId: fakeId});\n                            if (fakeIdToId.hasOwnProperty (fakeId)) {\n                                delete fakeIdToId[fakeId];\n                            }\n                        }, time);\n                        break;\n                    case 'clearTimeout':\n                        if (fakeIdToId.hasOwnProperty (fakeId)) {\n                            clearTimeout(fakeIdToId[fakeId]);\n                            delete fakeIdToId[fakeId];\n                        }\n                        break;\n                }\n            }\n        "]);e=window.URL.createObjectURL(t)}catch(e){}var t,n={},i=0;function s(){do{2147483647===i?i=0:i++}while(n.hasOwnProperty(i));return i}if("undefined"!=typeof Worker)try{t=new Worker(e),window.setInterval=function(e,i){var a=s();return n[a]={callback:e,parameters:Array.prototype.slice.call(arguments,2)},t.postMessage({name:"setInterval",fakeId:a,time:i}),a},window.clearInterval=function(e){n.hasOwnProperty(e)&&(delete n[e],t.postMessage({name:"clearInterval",fakeId:e}))},window.setTimeout=function(e,i){var a=s();return n[a]={callback:e,parameters:Array.prototype.slice.call(arguments,2),isTimeout:!0},t.postMessage({name:"setTimeout",fakeId:a,time:i}),a},window.clearTimeout=function(e){n.hasOwnProperty(e)&&(delete n[e],t.postMessage({name:"clearTimeout",fakeId:e}))},window.setImmediate=function(e){return setTimeout(e,0)},window.clearImmediate=function(e){clearTimeout(e)},t.onmessage=function(e){var t,i,s,a=e.data.fakeId;if(n.hasOwnProperty(a)&&(s=(t=n[a]).callback,i=t.parameters,t.hasOwnProperty("isTimeout")&&t.isTimeout&&delete n[a]),"string"==typeof s)try{s=new Function(s)}catch(e){console.error("Error parsing callback code string: ",e)}"function"==typeof s&&s.apply(window,i)},t.onerror=function(e){console.error(e)}}catch(e){console.error("Initialisation failed"),console.error(e)}else console.error("Initialisation failed - HTML5 Web Worker is not supported")}(),ze.fn.extend({index:function(e){var t,n=-1;return 0===this.length?n:(t=Ae(e)?this[0]:e instanceof ze&&e.length>0?e[0]:"string"==typeof e?ze(e)[0]:void 0,Ae(t)||t&&t.parentNode&&ze.each(t.parentNode.children,(function(e){this===t&&(n=e)})),n)},indexOf:function(e){var t,n=-1;return 0===this.length?n:(t=Ae(e)?this[0]:e instanceof ze&&e.length>0?e[0]:"string"==typeof e?ze(e)[0]:void 0,Ae(t)||this.each((function(e){this===t&&(n=e)})),n)},get:function(e){return void 0===e?this.items():e<0?this[e+this.length]:this[e]},eq:function(e){return!Ae(e)&&this.length>0?ze.extend(ze(this.get(e)),{_prevObj:this}):this},is:function(e){var t=!1;return 0!==this.length&&(e instanceof ze?this.same(e):(":selected"===e?this.each((function(){this.selected&&(t=!0)})):":checked"===e?this.each((function(){this.checked&&(t=!0)})):":visible"===e?this.each((function(){Me(this)&&(t=!0)})):":hidden"===e?this.each((function(){var e=getComputedStyle(this);("hidden"===this.getAttribute("type")||this.hidden||"none"===e.display||"hidden"===e.visibility||0===parseInt(e.opacity))&&(t=!0)})):"string"==typeof e&&-1===[":selected"].indexOf(e)?this.each((function(){Ye.call(this,e)&&(t=!0)})):Ne(e)?this.each((function(){var n=this;ze.each(e,(function(){n===this&&(t=!0)}))})):"object"==typeof e&&1===e.nodeType&&this.each((function(){this===e&&(t=!0)})),t))},same:function(e){var t=!0;return e instanceof ze||(e=ze(e)),this.length===e.length&&(this.each((function(){-1===e.items().indexOf(this)&&(t=!1)})),t)},last:function(){return this.eq(this.length-1)},first:function(){return this.eq(0)},odd:function(){var e=this.filter((function(e,t){return t%2==0}));return ze.extend(e,{_prevObj:this})},even:function(){var e=this.filter((function(e,t){return t%2!=0}));return ze.extend(e,{_prevObj:this})},filter:function(e){if("string"==typeof e){var t=e;e=function(e){return Ye.call(e,t)}}return ze.extend(ze.merge(ze(),[].filter.call(this,e)),{_prevObj:this})},find:function(e){var t,n=[];return e instanceof ze?e:(0===this.length?t=this:(this.each((function(){void 0!==this.querySelectorAll&&(n=n.concat([].slice.call(this.querySelectorAll(e))))})),t=ze.merge(ze(),n)),ze.extend(t,{_prevObj:this}))},contains:function(e){return this.find(e).length>0},children:function(e){var t,n=[];return e instanceof ze?e:(this.each((function(){var e=this;for(t=0;t<e.children.length;t++)1===e.children[t].nodeType&&n.push(e.children[t])})),n=e?n.filter((function(t){return Ye.call(t,e)})):n,ze.extend(ze.merge(ze(),n),{_prevObj:this}))},parent:function(e){var t=[];if(0!==this.length)return e instanceof ze?e:(this.each((function(){this.parentNode&&-1===t.indexOf(this.parentNode)&&t.push(this.parentNode)})),t=e?t.filter((function(t){return Ye.call(t,e)})):t,ze.extend(ze.merge(ze(),t),{_prevObj:this}))},parents:function(e){var t=[];if(0!==this.length)return e instanceof ze?e:(this.each((function(){for(var n=this.parentNode;n;)1===n.nodeType&&-1===t.indexOf(n)&&(Ae(e)||Ye.call(n,e))&&t.push(n),n=n.parentNode})),ze.extend(ze.merge(ze(),t),{_prevObj:this}))},siblings:function(e){var t=[];if(0!==this.length)return e instanceof ze?e:(this.each((function(){var e=this;e.parentNode&&ze.each(e.parentNode.children,(function(){e!==this&&t.push(this)}))})),e&&(t=t.filter((function(t){return Ye.call(t,e)}))),ze.extend(ze.merge(ze(),t),{_prevObj:this}))},_siblingAll:function(e,t){var n=[];if(0!==this.length)return t instanceof ze?t:(this.each((function(){for(var t=this;t&&(t=t[e]);)n.push(t)})),t&&(n=n.filter((function(e){return Ye.call(e,t)}))),ze.extend(ze.merge(ze(),n),{_prevObj:this}))},_sibling:function(e,t){var n=[];if(0!==this.length)return t instanceof ze?t:(this.each((function(){var t=this[e];t&&1===t.nodeType&&n.push(t)})),t&&(n=n.filter((function(e){return Ye.call(e,t)}))),ze.extend(ze.merge(ze(),n),{_prevObj:this}))},prev:function(e){return this._sibling("previousElementSibling",e)},next:function(e){return this._sibling("nextElementSibling",e)},prevAll:function(e){return this._siblingAll("previousElementSibling",e)},nextAll:function(e){return this._siblingAll("nextElementSibling",e)},closest:function(e){var t=[];if(0!==this.length)return e instanceof ze?e:e?(this.each((function(){for(var n=this;n&&n;){if(Ye.call(n,e))return void t.push(n);n=n.parentElement}})),ze.extend(ze.merge(ze(),t.reverse()),{_prevObj:this})):this.parent(e)},has:function(e){var t=[];if(0!==this.length)return this.each((function(){ze(this).children(e).length>0&&t.push(this)})),ze.extend(ze.merge(ze(),t),{_prevObj:this})},back:function(e){var t;if(!0===e)for(t=this._prevObj;t&&t._prevObj;)t=t._prevObj;else t=this._prevObj?this._prevObj:this;return t}}),ze.extend({script:function(e){if(Ae(e))return Ge();var t=ze(e)[0];t.tagName&&"SCRIPT"===t.tagName?Ge(t):ze.each(ze(t).find("script"),(function(){Ge(this)}))}}),ze.fn.extend({script:function(){return this.each((function(){ze.script(this)}))}}),ze.fn.extend({_prop:function(e,t){return 1===arguments.length?0===this.length?void 0:this[0][e]:(Ae(t)&&(t=""),this.each((function(){this[e]=t,"innerHTML"===e&&ze.script(this)})))},prop:function(e,t){return 1===arguments.length?this._prop(e):this._prop(e,void 0===t?"":t)},val:function(e){return Ae(e)?0===this.length?void 0:this[0].value:this.each((function(){var t=ze(this);void 0!==this.value?this.value=e:t.html(e)}))},html:function(e){var t=[];return 0===arguments.length?this._prop("innerHTML"):(e instanceof ze?e.each((function(){t.push(ze(this).outerHTML())})):t.push(e),this._prop("innerHTML",1===t.length&&Ae(t[0])?"":t.join("\n")),this)},outerHTML:function(){return this._prop("outerHTML")},text:function(e){return 0===arguments.length?this._prop("textContent"):this._prop("textContent",void 0===e?"":e)},innerText:function(e){return 0===arguments.length?this._prop("innerText"):this._prop("innerText",void 0===e?"":e)},empty:function(){return this.each((function(){void 0!==this.innerHTML&&(this.innerHTML="")}))},clear:function(){return this.empty()}}),ze.each=function(e,t){var n=0;if(Ne(e))[].forEach.call(e,(function(e,n){t.apply(e,[n,e])}));else for(var i in e)qe(e,i)&&t.apply(e[i],[i,e[i],n++]);return e},ze.fn.extend({each:function(e){return ze.each(this,e)}});var $e=function(e){this.expando="DATASET:UID:"+e.toUpperCase(),$e.uid++};$e.uid=-1,$e.prototype={cache:function(e){var t=e[this.expando];return t||(t={},je(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var i,s=this.cache(e);if("string"==typeof t)s[De(t)]=n;else for(i in t)qe(t,i)&&(s[De(i)]=t[i]);return s},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][De(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i=e[this.expando];if(void 0!==i){if(void 0!==t){n=(t=Array.isArray(t)?t.map(De):(t=De(t))in i?[t]:t.match(/[^\x20\t\r\n\f]+/g)||[]).length;for(;n--;)delete i[t[n]]}return(void 0===t||Re(i))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando]),!0}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!Re(t)}};var Xe=new $e("m4q");ze.extend({hasData:function(e){return Xe.hasData(e)},data:function(e,t,n){return Xe.access(e,t,n)},removeData:function(e,t){return Xe.remove(e,t)},dataSet:function(e){if(Ae(e))return Xe;if(["INTERNAL","M4Q"].indexOf(e.toUpperCase())>-1)throw Error("You can not use reserved name for your dataset");return new $e(e)}}),ze.fn.extend({data:function(e,t){var n,i,s,a,o,r;if(0!==this.length){if(i=this[0],0===arguments.length){if(this.length&&(s=Xe.get(i),1===i.nodeType))for(r=(a=i.attributes).length;r--;)a[r]&&0===(o=a[r].name).indexOf("data-")&&Ve(i,o=De(o.slice(5)),s[o]);return s}return 1===arguments.length?(void 0===(n=Xe.get(i,e))&&1===i.nodeType&&i.hasAttribute("data-"+e)&&(n=i.getAttribute("data-"+e)),n):this.each((function(){Xe.set(this,e,t)}))}},removeData:function(e){return this.each((function(){Xe.remove(this,e)}))},origin:function(e,t,n){if(0===this.length)return this;if(Ae(e)&&Ae(t))return ze.data(this[0]);if(Ae(t)){var i=ze.data(this[0],"origin-"+e);return Ae(i)?n:i}return this.data("origin-"+e,t),this}}),ze.extend({device:/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(navigator.userAgent.toLowerCase()),localhost:We(),isLocalhost:We,touchable:"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0,uniqueId:function(e){var t=(new Date).getTime();return Ae(e)&&(e="m4q"),(""!==e?e+"-":"")+"xxxx-xxxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"===e?n:3&n|8).toString(16)}))},toArray:function(e){var t,n=[];for(t=0;t<e.length;t++)n.push(e[t]);return n},import:function(e){var t=[];return this.each(e,(function(){t.push(this)})),this.merge(ze(),t)},merge:function(e,t){for(var n=+t.length,i=0,s=e.length;i<n;i++)e[s++]=t[i];return e.length=s,e},type:function(e){return Object.prototype.toString.call(e).replace(/^\[object (.+)]$/,"$1").toLowerCase()},sleep:function(e){(new Date).getTime()},isSelector:function(e){if("string"!=typeof e)return!1;try{document.querySelector(e)}catch(e){return!1}return!0},remove:function(e){return ze(e).remove()},camelCase:De,dashedName:function(e){return e.replace(/([A-Z])/g,(function(e){return"-"+e.toLowerCase()}))},isPlainObject:Le,isEmptyObject:Re,isArrayLike:Ne,acceptData:je,not:Ae,parseUnit:Pe,getUnit:He,unit:Pe,isVisible:Me,isHidden:function(e){var t=getComputedStyle(e);return!Me(e)||0==+t.opacity||e.hidden||"hidden"===t.visibility},matches:function(e,t){return Ye.call(e,t)},random:function(e,t){return 1===arguments.length&&Ne(e)?e[Math.floor(Math.random()*e.length)]:Math.floor(Math.random()*(t-e+1)+e)},strip:function(e,t){return"string"!=typeof e?void 0:e.replace(t,"")},normName:Ue,hasProp:qe,serializeToArray:function(e){var t=ze(e)[0];if(t&&"FORM"===t.nodeName){var n,i,s=[];for(n=t.elements.length-1;n>=0;n-=1)if(""!==t.elements[n].name)switch(t.elements[n].nodeName){case"INPUT":switch(t.elements[n].type){case"checkbox":case"radio":t.elements[n].checked&&s.push(t.elements[n].name+"="+encodeURIComponent(t.elements[n].value));break;case"file":break;default:s.push(t.elements[n].name+"="+encodeURIComponent(t.elements[n].value))}break;case"TEXTAREA":s.push(t.elements[n].name+"="+encodeURIComponent(t.elements[n].value));break;case"SELECT":switch(t.elements[n].type){case"select-one":s.push(t.elements[n].name+"="+encodeURIComponent(t.elements[n].value));break;case"select-multiple":for(i=t.elements[n].options.length-1;i>=0;i-=1)t.elements[n].options[i].selected&&s.push(t.elements[n].name+"="+encodeURIComponent(t.elements[n].options[i].value))}break;case"BUTTON":switch(t.elements[n].type){case"reset":case"submit":case"button":s.push(t.elements[n].name+"="+encodeURIComponent(t.elements[n].value))}}return s}console.warn("Element is not a HTMLFromElement")},serialize:function(e){return ze.serializeToArray(e).join("&")}}),ze.fn.extend({items:function(){return ze.toArray(this)}}),function(){if("function"==typeof window.CustomEvent)return!1;function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:null};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}e.prototype=window.Event.prototype,window.CustomEvent=e}();var Je=Event.prototype.stopPropagation,Ke=Event.prototype.preventDefault;Event.prototype.stopPropagation=function(){this.isPropagationStopped=!0,Je.apply(this,arguments)},Event.prototype.preventDefault=function(){this.isPreventedDefault=!0,Ke.apply(this,arguments)},Event.prototype.stop=function(e){return e?this.stopImmediatePropagation():this.stopPropagation()},ze.extend({events:[],eventHooks:{},eventUID:-1,setEventHandler:function(e){var t,n,i,s=-1;if(this.events.length>0)for(t=0;t<this.events.length;t++)if(null===this.events[t].handler){s=t;break}return n={element:e.el,event:e.event,handler:e.handler,selector:e.selector,ns:e.ns,id:e.id,options:e.options},-1===s?(this.events.push(n),i=this.events.length-1):(this.events[s]=n,i=s),i},getEventHandler:function(e){if(void 0!==this.events[e]&&null!==this.events[e])return this.events[e]=null,this.events[e].handler},off:function(){return ze.each(this.events,(function(){this.element.removeEventListener(this.event,this.handler,!0)})),this.events=[],this},getEvents:function(){return this.events},getEventHooks:function(){return this.eventHooks},addEventHook:function(e,t,n){return Ae(n)&&(n="before"),ze.each(Fe(e),(function(){this.eventHooks[De(n+"-"+this)]=t})),this},removeEventHook:function(e,t){return Ae(t)&&(t="before"),ze.each(Fe(e),(function(){delete this.eventHooks[De(t+"-"+this)]})),this},removeEventHooks:function(e){var t=this;return Ae(e)?this.eventHooks={}:ze.each(Fe(e),(function(){delete t.eventHooks[De("before-"+this)],delete t.eventHooks[De("after-"+this)]})),this}}),ze.fn.extend({on:function(e,t,n,i){if(0!==this.length)return"function"==typeof t&&(i=n,n=t,t=void 0),Le(i)||(i={}),this.each((function(){var s=this;ze.each(Fe(e),(function(){var e,a,o,r=this.split("."),l=Ue(r[0]),c=i.ns?i.ns:r[1];ze.eventUID++,e=function(e){var o=e.target,r=ze.eventHooks[De("before-"+l)],u=ze.eventHooks[De("after-"+l)];if("function"==typeof r&&r.call(o,e),t)for(;o&&o!==s;){if(Ye.call(o,t)&&(n.call(o,e),e.isPropagationStopped)){e.stopImmediatePropagation();break}o=o.parentNode}else n.call(s,e);"function"==typeof u&&u.call(o,e),i.once&&(a=+ze(s).origin("event-"+e.type+(t?":"+t:"")+(c?":"+c:"")),isNaN(a)||ze.events.splice(a,1))},Object.defineProperty(e,"name",{value:n.name&&""!==n.name?n.name:"func_event_"+l+"_"+ze.eventUID}),o=l+(t?":"+t:"")+(c?":"+c:""),s.addEventListener(l,e,!Re(i)&&i),a=ze.setEventHandler({el:s,event:l,handler:e,selector:t,ns:c,id:ze.eventUID,options:!Re(i)&&i}),ze(s).origin("event-"+o,a)}))}))},one:function(e,t,n,i){return Le(i)||(i={}),i.once=!0,this.on.apply(this,[e,t,n,i])},off:function(e,t,n){return Le(t)&&(n=t,t=null),Le(n)||(n={}),Ae(e)||"all"===e.toLowerCase()?this.each((function(){var e=this;ze.each(ze.events,(function(){var t=this;t.element===e&&(e.removeEventListener(t.event,t.handler,t.options),t.handler=null,ze(e).origin("event-"+name+(t.selector?":"+t.selector:"")+(t.ns?":"+t.ns:""),null))}))})):this.each((function(){var i=this;ze.each(Fe(e),(function(){var e,s,a=this.split("."),o=Ue(a[0]),r=n.ns?n.ns:a[1];e="event-"+o+(t?":"+t:"")+(r?":"+r:""),void 0!==(s=ze(i).origin(e))&&ze.events[s].handler&&(i.removeEventListener(o,ze.events[s].handler,ze.events[s].options),ze.events[s].handler=null),ze(i).origin(e,null)}))}))},trigger:function(e,t){return this.fire(e,t)},fire:function(e,t){var n,i;if(0!==this.length)return n=Ue(e),["focus","blur"].indexOf(n)>-1?(this[0][n](),this):("undefined"!=typeof CustomEvent?i=new CustomEvent(n,{bubbles:!0,cancelable:!0,detail:t}):((i=document.createEvent("Events")).detail=t,i.initEvent(n,!0,!0)),this.each((function(){this.dispatchEvent(i)})))}}),"blur focus resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu touchstart touchend touchmove touchcancel".split(" ").forEach((function(e){ze.fn[e]=function(t,n,i){return arguments.length>0?this.on(e,t,n,i):this.fire(e)}})),ze.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),ze.ready=function(e,t){document.addEventListener("DOMContentLoaded",e,t||!1)},ze.load=function(e){return ze(window).on("load",e)},ze.unload=function(e){return ze(window).on("unload",e)},ze.fn.extend({unload:function(e){return 0===this.length||this[0].self!==window?void 0:ze.unload(e)}}),ze.beforeunload=function(e){return"string"==typeof e?ze(window).on("beforeunload",(function(t){return t.returnValue=e,e})):ze(window).on("beforeunload",e)},ze.fn.extend({beforeunload:function(e){return 0===this.length||this[0].self!==window?void 0:ze.beforeunload(e)}}),ze.fn.extend({ready:function(e){if(this.length&&this[0]===document&&"function"==typeof e)return ze.ready(e)}}),ze.ajax=function(e){return new Promise((function(t,n){var i,s,a,o=new XMLHttpRequest,r=(e.method||"GET").toUpperCase(),l=[],c=!!Ae(e.async)||e.async,u=e.url,h=function(e,t){"function"==typeof e&&e.apply(null,t)},d=function(e){return-1!==["GET","JSON"].indexOf(e)};if(e.data instanceof HTMLFormElement){var p=e.data.getAttribute("action"),f=e.data.getAttribute("method");Ae(u)&&p&&""!==p.trim()&&(u=p),f&&""!==f.trim()&&(r=f.toUpperCase())}if(e.timeout&&(o.timeout=e.timeout),e.withCredentials&&(o.withCredentials=e.withCredentials),e.data instanceof HTMLFormElement)i=ze.serialize(e.data);else if(e.data instanceof HTMLElement&&e.data.getAttribute("type")&&"file"===e.data.getAttribute("type").toLowerCase()){var m=e.data.getAttribute("name");i=new FormData;for(var v=0;v<e.data.files.length;v++)i.append(m,e.data.files[v])}else Le(e.data)?(s=e.data,a=[],ze.each(s,(function(e,t){var n=function(e){return"string"==typeof e||"boolean"==typeof e||"number"==typeof e}(t)?t:JSON.stringify(t);a.push(e+"="+n)})),i=a.join("&")):e.data instanceof FormData||"string"==typeof e.data?i=e.data:(i=new FormData).append("_data",JSON.stringify(e.data));d(r)&&(u+="string"==typeof i?"?"+i:Re(i)?"":"?"+JSON.stringify(i)),o.open(r,u,c,e.user,e.password),e.headers&&ze.each(e.headers,(function(e,t){o.setRequestHeader(e,t),l.push(e)})),d(r)||-1===l.indexOf("Content-type")&&!1!==e.contentType&&o.setRequestHeader("Content-type","application/x-www-form-urlencoded"),o.send(i),o.addEventListener("load",(function(i){if(4===o.readyState&&o.status<300){var s=e.returnValue&&"xhr"===e.returnValue?o:o.response;if(e.parseJson)try{s=JSON.parse(s)}catch(e){s={}}h(t,[s]),h(e.onSuccess,[i,o])}else h(n,[o]),h(e.onFail,[i,o]);h(e.onLoad,[i,o])})),ze.each(["readystatechange","error","timeout","progress","loadstart","loadend","abort"],(function(){var t=De("on-"+("readystatechange"===this?"state":this));o.addEventListener(t,(function(n){h(e[t],[n,o])}))}))}))},["get","post","put","patch","delete","json"].forEach((function(e){ze[e]=function(t,n,i){var s=e.toUpperCase(),a={method:"JSON"===s?"GET":s,url:t,data:n,parseJson:"JSON"===s};return ze.ajax(ze.extend({},a,i))}})),ze.fn.extend({load:function(e,t,n){var i=this;return this.length&&this[0].self===window?ze.load(e):ze.get(e,t,n).then((function(e){i.each((function(){this.innerHTML=e}))}))}}),ze.fn.extend({style:function(e,t){var n;function i(e,t,n){return["scrollLeft","scrollTop"].indexOf(t)>-1?ze(e)[t]():getComputedStyle(e,n)[t]}if("string"!=typeof e||0!==this.length){if(0===this.length)return this;if(n=this[0],Ae(e)||"all"===e)return getComputedStyle(n,t);var s={},a=e.split(", ").map((function(e){return(""+e).trim()}));return 1===a.length?i(n,a[0],t):(ze.each(a,(function(){s[this]=i(n,this,t)})),s)}},removeStyleProperty:function(e){if(Ae(e)||0===this.length)return this;var t=e.split(", ").map((function(e){return(""+e).trim()}));return this.each((function(){var e=this;ze.each(t,(function(){e.style.removeProperty(this)}))}))},css:function(e,t){return"string"==typeof(e=e||"all")&&Ae(t)?this.style(e):this.each((function(){var n=this;"object"==typeof e?ze.each(e,(function(e,t){Be(n,e,t)})):"string"==typeof e&&Be(n,e,t)}))},scrollTop:function(e){return Ae(e)?0===this.length?void 0:this[0]===window?pageYOffset:this[0].scrollTop:this.each((function(){this.scrollTop=e}))},scrollLeft:function(e){return Ae(e)?0===this.length?void 0:this[0]===window?pageXOffset:this[0].scrollLeft:this.each((function(){this.scrollLeft=e}))}}),ze.fn.extend({addClass:function(){},removeClass:function(){},toggleClass:function(){},containsClass:function(e){return this.hasClass(e)},hasClass:function(e){var t=!1,n=e.split(" ").filter((function(e){return""!==(""+e).trim()}));return!Ae(e)&&(this.each((function(){var e=this;ze.each(n,(function(){!t&&e.classList&&e.classList.contains(this)&&(t=!0)}))})),t)},clearClasses:function(){return this.each((function(){this.className=""}))},cls:function(e){return 0===this.length?void 0:e?this[0].className.split(" "):this[0].className},removeClassBy:function(e){return this.each((function(){var t=ze(this),n=t.cls(!0);ze.each(n,(function(){this.indexOf(e)>-1&&t.removeClass(this)}))}))},classNames:function(){var e=Array.prototype.slice.call(arguments,0),t=[];return ze.each(e,(function(e,n){"string"==typeof n?t.push(n):Le(n)&&ze.each(n,(function(e,n){n&&t.push(e)}))})),this.each((function(){this.className+=" "+t.join(" ")}))}}),["add","remove","toggle"].forEach((function(e){ze.fn[e+"Class"]=function(t){var n=t?Array.isArray(t)?t:t.split(" ").filter((function(e){return!!e})):[];return n.length?this.each((function(){var t=this;void 0!==t.classList?ze.each(n,(function(n,i){t.classList[e](i)})):t.className+=n.join(" ")})):this}})),ze.parseHTML=function(e){var t,n,i,s,a=[];if("string"!=typeof e)return[];if(e=e.trim(),(t=(i=document.implementation.createHTMLDocument("")).createElement("base")).href=document.location.href,i.head.appendChild(t),s=i.body,n=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i.exec(e))a.push(document.createElement(n[1]));else{s.innerHTML=e;for(var o=0;o<s.childNodes.length;o++)a.push(s.childNodes[o])}return a},ze.fn.extend({_size:function(e,t){if(0!==this.length){if(Ae(t)){var n=this[0];if("height"===e)return n===window?window.innerHeight:n===document?n.body.clientHeight:parseInt(getComputedStyle(n).height);if("width"===e)return n===window?window.innerWidth:n===document?n.body.clientWidth:parseInt(getComputedStyle(n).width)}return this.each((function(){var n=this;n!==window&&n!==document&&(n.style[e]=isNaN(t)?t:t+"px")}))}},height:function(e){return this._size("height",e)},width:function(e){return this._size("width",e)},_sizeOut:function(e,t){var n,i,s,a;if(0!==this.length)return Ae(t)||"boolean"==typeof t?(i=(n=this[0])["width"===e?"offsetWidth":"offsetHeight"],s=getComputedStyle(n),a=i+parseInt(s["width"===e?"margin-left":"margin-top"])+parseInt(s["width"===e?"margin-right":"margin-bottom"]),!0===t?a:i):this.each((function(){var n=this;if(n!==window&&n!==document){var i,s=getComputedStyle(n),a="width"===e?parseInt(s["border-left-width"])+parseInt(s["border-right-width"]):parseInt(s["border-top-width"])+parseInt(s["border-bottom-width"]),o="width"===e?parseInt(s["padding-left"])+parseInt(s["padding-right"]):parseInt(s["padding-top"])+parseInt(s["padding-bottom"]);i=ze(this)[e](t)[e]()-a-o,n.style[e]=i+"px"}}))},outerWidth:function(e){return this._sizeOut("width",e)},outerHeight:function(e){return this._sizeOut("height",e)},padding:function(e){if(0!==this.length){var t=getComputedStyle(this[0],e);return{top:parseInt(t["padding-top"]),right:parseInt(t["padding-right"]),bottom:parseInt(t["padding-bottom"]),left:parseInt(t["padding-left"])}}},margin:function(e){if(0!==this.length){var t=getComputedStyle(this[0],e);return{top:parseInt(t["margin-top"]),right:parseInt(t["margin-right"]),bottom:parseInt(t["margin-bottom"]),left:parseInt(t["margin-left"])}}},border:function(e){if(0!==this.length){var t=getComputedStyle(this[0],e);return{top:parseInt(t["border-top-width"]),right:parseInt(t["border-right-width"]),bottom:parseInt(t["border-bottom-width"]),left:parseInt(t["border-left-width"])}}}}),ze.fn.extend({offset:function(e){var t;if(Ae(e)){if(0===this.length)return;return{top:(t=this[0].getBoundingClientRect()).top+pageYOffset,left:t.left+pageXOffset}}return this.each((function(){var t=ze(this),n=e.top,i=e.left,s=getComputedStyle(this).position,a=t.offset();"static"===s&&t.css("position","relative"),-1===["absolute","fixed"].indexOf(s)&&(n-=a.top,i-=a.left),t.css({top:n,left:i})}))},position:function(e){var t,n,i=0,s=0;if((Ae(e)||"boolean"!=typeof e)&&(e=!1),0!==this.length)return t=this[0],n=getComputedStyle(t),e&&(i=parseInt(n["margin-left"]),s=parseInt(n["margin-top"])),{left:t.offsetLeft-i,top:t.offsetTop-s}},left:function(e,t){if(0!==this.length)return Ae(e)?this.position(t).left:"boolean"==typeof e?(t=e,this.position(t).left):this.each((function(){ze(this).css({left:e})}))},top:function(e,t){if(0!==this.length)return Ae(e)?this.position(t).top:"boolean"==typeof e?(t=e,this.position(t).top):this.each((function(){ze(this).css({top:e})}))},coord:function(){return 0===this.length?void 0:this[0].getBoundingClientRect()},pos:function(){if(0!==this.length)return{top:parseInt(ze(this[0]).style("top")),left:parseInt(ze(this[0]).style("left"))}}}),ze.fn.extend({attr:function(e,t){var n={};if(0!==this.length||0!==arguments.length)return this.length&&0===arguments.length?(ze.each(this[0].attributes,(function(){n[this.nodeName]=this.nodeValue})),n):1===arguments.length&&"string"==typeof e?this.length&&1===this[0].nodeType&&this[0].hasAttribute(e)?this[0].getAttribute(e):void 0:this.each((function(){var n=this;Le(e)?ze.each(e,(function(e,t){n.setAttribute(e,t)})):n.setAttribute(e,t)}))},removeAttr:function(e){var t;return Ae(e)?this.each((function(){var e=this;ze.each(this.attributes,(function(){e.removeAttribute(this)}))})):(t="string"==typeof e?e.split(",").map((function(e){return e.trim()})):e,this.each((function(){var e=this;ze.each(t,(function(){e.hasAttribute(this)&&e.removeAttribute(this)}))})))},toggleAttr:function(e,t){return this.each((function(){Ae(t)?this.removeAttribute(e):this.setAttribute(e,t)}))},id:function(e){return void 0===e?1===this.length?ze(this[0]).attr("id"):this.map((e=>ze(e).attr("id"))):this.each((function(){ze(this).attr("id",e)}))}}),ze.extend({meta:function(e){return Ae(e)?ze("meta"):ze("meta[name='$name']".replace("$name",e))},metaBy:function(e){return Ae(e)?ze("meta"):ze("meta[$name]".replace("$name",e))},doctype:function(){return ze("doctype")},html:function(){return ze("html")},head:function(){return ze("html").find("head")},body:function(){return ze("body")},document:function(){return ze(document)},window:function(){return ze(window)},charset:function(e){var t=ze("meta[charset]");return e&&t.attr("charset",e),t.attr("charset")}}),ze.extend({proxy:function(e,t){return"function"!=typeof e?void 0:e.bind(t)},bind:function(e,t){return this.proxy(e,t)}}),[Element.prototype,Document.prototype,DocumentFragment.prototype].forEach((function(e){["append","prepend"].forEach((function(t){qe(e,t)||Object.defineProperty(e,t,{configurable:!0,enumerable:!0,writable:!0,value:function(){var e=Array.prototype.slice.call(arguments),n=document.createDocumentFragment();e.forEach((function(e){var t=e instanceof Node;n.appendChild(t?e:document.createTextNode(String(e)))})),"prepend"===t?this.insertBefore(n,this.firstChild):this.appendChild(n)}})}))}));var Qe=function(e){var t;return"string"==typeof e?t=ze.isSelector(e)?ze(e):ze.parseHTML(e):e instanceof HTMLElement?t=[e]:Ne(e)&&(t=e),t};ze.fn.extend({appendText:function(e){return this.each((function(t,n){n.innerHTML+=e}))},prependText:function(e){return this.each((function(t,n){n.innerHTML=e+n.innerHTML}))},append:function(e){var t=Qe(e);return this.each((function(e,n){ze.each(t,(function(){if(n!==this){var t=0===e?this:this.cloneNode(!0);ze.script(t),t.tagName&&"SCRIPT"!==t.tagName&&n.append(t)}}))}))},appendTo:function(e){var t=Qe(e);return this.each((function(){var e=this;ze.each(t,(function(t,n){e!==this&&n.append(0===t?e:e.cloneNode(!0))}))}))},prepend:function(e){var t=Qe(e);return this.each((function(e,n){ze.each(t,(function(){if(n!==this){var t=0===e?this:this.cloneNode(!0);ze.script(t),t.tagName&&"SCRIPT"!==t.tagName&&n.prepend(t)}}))}))},prependTo:function(e){var t=Qe(e);return this.each((function(){var e=this;ze.each(t,(function(t,n){e!==this&&ze(n).prepend(0===t?e:e.cloneNode(!0))}))}))},insertBefore:function(e){var t=Qe(e);return this.each((function(){var e=this;ze.each(t,(function(t){if(e!==this){var n=this.parentNode;n&&n.insertBefore(0===t?e:e.cloneNode(!0),this)}}))}))},insertAfter:function(e){var t=Qe(e);return this.each((function(){var e=this;ze.each(t,(function(t,n){if(e!==this){var i=this.parentNode;i&&i.insertBefore(0===t?e:e.cloneNode(!0),n.nextSibling)}}))}))},after:function(e){return this.each((function(){"string"==typeof e?this.insertAdjacentHTML("afterend",e):ze(e).insertAfter(this)}))},before:function(e){return this.each((function(){"string"==typeof e?this.insertAdjacentHTML("beforebegin",e):ze(e).insertBefore(this)}))},clone:function(e,t){var n=[];return Ae(e)&&(e=!1),Ae(t)&&(t=!1),this.each((function(){var i,s=this.cloneNode(e),a=ze(s);t&&ze.hasData(this)&&(i=ze(this).data(),ze.each(i,(function(e,t){a.data(e,t)}))),n.push(s)})),ze.merge(ze(),n)},import:function(e){var t=[];return Ae(e)&&(e=!1),this.each((function(){t.push(document.importNode(this,e))})),ze.merge(ze(),t)},adopt:function(){var e=[];return this.each((function(){e.push(document.adoptNode(this))})),ze.merge(ze(),e)},remove:function(e){var t,n,i=0,s=[];if(0!==this.length){for(n=e?this.filter((function(t){return Ye.call(t,e)})):this.items();null!=(t=n[i]);i++)t.parentNode&&(s.push(t.parentNode.removeChild(t)),ze.removeData(t));return ze.merge(ze(),s)}},wrap:function(e){if(0!==this.length){var t=ze(Qe(e));if(t.length){var n=[];return this.each((function(){var e,i;for((i=t.clone(!0,!0)).insertBefore(this),e=i;e.children().length;)e=e.children().eq(0);e.append(this),n.push(i)})),ze(n)}}},wrapAll:function(e){var t,n,i;if(0!==this.length&&(t=ze(Qe(e))).length){for((n=t.clone(!0,!0)).insertBefore(this[0]),i=n;i.children().length;)i=i.children().eq(0);return this.each((function(){i.append(this)})),n}},wrapInner:function(e){if(0!==this.length){var t=ze(Qe(e));if(t.length){var n=[];return this.each((function(){var e=ze(this),i=e.html(),s=t.clone(!0,!0);e.html(s.html(i)),n.push(s)})),ze(n)}}}}),ze.extend({animation:{duration:1e3,ease:"linear",elements:{}}}),"object"==typeof window.setupAnimation&&ze.each(window.setupAnimation,(function(e,t){void 0===ze.animation[e]||Ae(t)||(ze.animation[e]=t)}));var Ze=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY"],et=["opacity","zIndex"],tt=["opacity","volume"],nt=["scrollLeft","scrollTop"],it=["opacity","volume"];function st(e){return e instanceof HTMLElement||e instanceof SVGElement}function at(e,t,n){ze.each(t,(function(t,i){!function(e,t,n,i,s){Ae(s)&&(s=!1),t=De(t),s&&(n=parseInt(n)),st(e)?void 0!==e[t]?e[t]=n:e.style[t]="transform"===t||t.toLowerCase().indexOf("color")>-1?n:n+i:e[t]=n}(e,t,i[0]+i[2]*n,i[3],i[4])}))}function ot(e){if(!st(e))return{};for(var t,n=e.style.transform||"",i=/(\w+)\(([^)]*)\)/g,s={};t=i.exec(n);)s[t[1]]=t[2];return s}function rt(e){return/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e||"#000000").slice(1).map((function(e){return parseInt(e,16)}))}function lt(e){return"#"===e[0]&&4===e.length?"#"+e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,n,i){return t+t+n+n+i+i})):"#"===e[0]?e:"#"+e}function ct(e,t,n){at(e,t.props,n),function(e,t,n){var i=[],s=ot(e);ze.each(t,(function(e,t){var s=t[0],a=t[1],o=t[2],r=t[3];((e=""+e).indexOf("rotate")>-1||e.indexOf("skew")>-1)&&""===r&&(r="deg"),e.indexOf("scale")>-1&&(r=""),e.indexOf("translate")>-1&&""===r&&(r="px"),"turn"===r?i.push(e+"("+a*n+r+")"):i.push(e+"("+(s+o*n)+r+")")})),ze.each(s,(function(e,n){void 0===t[e]&&i.push(e+"("+n+")")})),e.style.transform=i.join(" ")}(e,t.transform,n),function(e,t,n){ze.each(t,(function(t,i){var s,a,o=[0,0,0];for(s=0;s<3;s++)o[s]=Math.floor(i[0][s]+i[2][s]*n);a="rgb("+o.join(",")+")",e.style[t]=a}))}(e,t.color,n)}function ut(e,t,n){var i,s,a,o,r,l,c={props:{},transform:{},color:{}},u=ot(e);return Ae(n)&&(n="normal"),ze.each(t,(function(t,h){var d=Ze.indexOf(""+t)>-1,p=et.indexOf(""+t)>-1,f=(""+t).toLowerCase().indexOf("color")>-1;if(Array.isArray(h)&&1===h.length&&(h=h[0]),Array.isArray(h)?(s=f?rt(lt(h[0])):Pe(h[0]),a=f?rt(lt(h[1])):Pe(h[1])):(s=d?u[t]||0:f?function(e,t){return getComputedStyle(e)[t].replace(/[^\d.,]/g,"").split(",").map((function(e){return parseInt(e)}))}(e,t):function(e,t,n){return void 0!==e[t]?nt.indexOf(t)>-1?"scrollLeft"===t?e===window?pageXOffset:e.scrollLeft:e===window?pageYOffset:e.scrollTop:e[t]||0:e.style[t]||getComputedStyle(e,n)[t]}(e,t),s=f?s:Pe(s),a=f?rt(h):Pe(function(e,t){var n=/^(\*=|\+=|-=)/.exec(e);if(!n)return e;var i=He(e)||0,s=parseFloat(t),a=parseFloat(e.replace(n[0],""));switch(n[0][0]){case"+":return s+a+i;case"-":return s-a+i;case"*":return s*a+i;case"/":return s/a+i}}(h,Array.isArray(s)?s[0]:s))),it.indexOf(""+t)>-1&&s[0]===a[0]&&(s[0]=a[0]>0?0:1),"reverse"===n&&(l=s,s=a,a=l),r=e instanceof HTMLElement&&""===a[1]&&!p&&!d?"px":a[1],f)for(o=[0,0,0],i=0;i<3;i++)o[i]=a[i]-s[i];else o=a[0]-s[0];d?c.transform[t]=[s[0],a[0],o,r]:f?c.color[t]=[s,a,o,r]:c.props[t]=[s[0],a[0],o,r,-1===tt.indexOf(""+t)]})),c}function ht(e,t,n){return Math.min(Math.max(e,t),n)}var dt={linear:function(){return function(e){return e}}};dt.default=dt.linear;var pt={Sine:function(){return function(e){return 1-Math.cos(e*Math.PI/2)}},Circ:function(){return function(e){return 1-Math.sqrt(1-e*e)}},Back:function(){return function(e){return e*e*(3*e-2)}},Bounce:function(){return function(e){for(var t,n=4;e<((t=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*t-2)/22-e,2)}},Elastic:function(e,t){Ae(e)&&(e=1),Ae(t)&&(t=.5);var n=ht(e,1,10),i=ht(t,.1,2);return function(e){return 0===e||1===e?e:-n*Math.pow(2,10*(e-1))*Math.sin((e-1-i/(2*Math.PI)*Math.asin(1/n))*(2*Math.PI)/i)}}};["Quad","Cubic","Quart","Quint","Expo"].forEach((function(e,t){pt[e]=function(){return function(e){return Math.pow(e,t+2)}}})),Object.keys(pt).forEach((function(e){var t=pt[e];dt["easeIn"+e]=t,dt["easeOut"+e]=function(e,n){return function(i){return 1-t(e,n)(1-i)}},dt["easeInOut"+e]=function(e,n){return function(i){return i<.5?t(e,n)(2*i)/2:1-t(e,n)(-2*i+2)/2}}}));var ft={id:null,el:null,draw:{},dur:ze.animation.duration,ease:ze.animation.ease,loop:0,pause:0,dir:"normal",defer:0,onStart:function(){},onStop:function(){},onStopAll:function(){},onPause:function(){},onPauseAll:function(){},onResume:function(){},onResumeAll:function(){},onFrame:function(){},onDone:function(){}};function mt(e){return new Promise((function(t){var n,i=this,s=ze.assign({},ft,{dur:ze.animation.duration,ease:ze.animation.ease},e),a=s.id,o=s.el,r=s.draw,l=s.dur,c=s.ease,u=s.loop,h=s.onStart,d=s.onFrame,p=s.onDone,f=s.pause,m=s.dir,v=s.defer,g={},b="linear",y=[],w=dt.linear,C="alternate"===m?"normal":m,_=!1,x=a||+performance.now()*Math.pow(10,14);if(Ae(o))throw new Error("Unknown element!");if("string"==typeof o&&(o=document.querySelector(o)),"function"!=typeof r&&"object"!=typeof r)throw new Error("Unknown draw object. Must be a function or object!");0===l&&(l=1),"alternate"===m&&"number"==typeof u&&(u*=2),"string"==typeof c?(n=/\(([^)]+)\)/.exec(c),b=c.split("(")[0],y=n?n[1].split(",").map((function(e){return parseFloat(e)})):[],w=dt[b]||dt.linear):w="function"==typeof c?c:dt.linear,ze.animation.elements[x]={element:o,id:null,stop:0,pause:0,loop:0,t:-1,started:0,paused:0};var k=function(){"object"==typeof r&&(g=ut(o,r,C)),"function"==typeof h&&h.apply(o),ze.animation.elements[x].loop+=1,ze.animation.elements[x].started=performance.now(),ze.animation.elements[x].duration=l,ze.animation.elements[x].id=requestAnimationFrame(S)},T=function(){cancelAnimationFrame(ze.animation.elements[x].id),delete ze.animation.elements[a],"function"==typeof p&&p.apply(o),t(i)},S=function(e){var t,n,i=ze.animation.elements[x].stop,s=ze.animation.elements[x].pause,a=ze.animation.elements[x].started;if(ze.animation.elements[x].paused&&(a=e-ze.animation.elements[x].t*l,ze.animation.elements[x].started=a),(n=((e-a)/l).toFixed(4))>1&&(n=1),n<0&&(n=0),t=w.apply(null,y)(n),ze.animation.elements[x].t=n,ze.animation.elements[x].p=t,s)ze.animation.elements[x].id=requestAnimationFrame(S);else{if(i>0)return 2===i&&("function"==typeof r?r.bind(o)(1,1):ct(o,g,1)),void T();"function"==typeof r?r.bind(o)(n,t):ct(o,g,t),"function"==typeof d&&d.apply(o,[n,t]),n<1&&(ze.animation.elements[x].id=requestAnimationFrame(S)),1===parseInt(n)&&(u?("alternate"===m&&(C="normal"===C?"reverse":"normal"),"boolean"==typeof u||u>ze.animation.elements[x].loop?setTimeout((function(){k()}),f):T()):"alternate"!==m||_?T():(C="normal"===C?"reverse":"normal",_=!0,k()))}};v>0?setTimeout((function(){k()}),v):k()}))}function vt(e,t){var n=ze.animation.elements[e];void 0!==n&&(Ae(t)&&(t=!0),n.stop=!0===t?2:1,"function"==typeof n.onStop&&n.onStop.apply(n.element))}function gt(e){var t=ze.animation.elements[e];void 0!==t&&(t.pause=1,t.paused=performance.now(),"function"==typeof t.onPause&&t.onPause.apply(t.element))}function bt(e){var t=ze.animation.elements[e];void 0!==t&&(t.pause=0,t.paused=0,"function"==typeof t.onResume&&t.onResume.apply(t.element))}var yt={loop:!1,onChainItem:null,onChainItemComplete:null,onChainComplete:null};ze.easing={},ze.extend(ze.easing,dt),ze.extend({animate:function(e){var t,n,i,s,a;return arguments.length>1?(t=ze(arguments[0])[0],n=arguments[1],i=arguments[2]||ze.animation.duration,s=arguments[3]||ze.animation.ease,a=arguments[4],"function"==typeof i&&(a=i,s=ze.animation.ease,i=ze.animation.duration),"function"==typeof s&&(a=s,s=ze.animation.ease),mt({el:t,draw:n,dur:i,ease:s,onDone:a})):mt(e)},chain:function e(t,n){var i=ze.extend({},yt,n);if("boolean"!=typeof i.loop&&i.loop--,!Array.isArray(t))return console.warn("Chain array is not defined!"),!1;t.reduce((function(e,t){return e.then((function(){return"function"==typeof i.onChainItem&&i.onChainItem(t),mt(t).then((function(){"function"==typeof i.onChainItemComplete&&i.onChainItemComplete(t)}))}))}),Promise.resolve()).then((function(){"function"==typeof i.onChainComplete&&i.onChainComplete(),i.loop&&e(t,i)}))},stop:vt,stopAll:function(e,t){ze.each(ze.animation.elements,(function(n,i){t?"string"==typeof t?Ye.call(i.element,t)&&vt(n,e):t.length?ze.each(t,(function(){i.element===this&&vt(n,e)})):t instanceof Element&&i.element===t&&vt(n,e):vt(n,e)}))},resume:bt,resumeAll:function(e){ze.each(ze.animation.elements,(function(t,n){e?"string"==typeof e?Ye.call(n.element,e)&&bt(t):e.length?ze.each(e,(function(){n.element===this&&bt(t)})):e instanceof Element&&n.element===e&&bt(t):bt(t)}))},pause:gt,pauseAll:function(e){ze.each(ze.animation.elements,(function(t,n){e?"string"==typeof e?Ye.call(n.element,e)&&gt(t):e.length?ze.each(e,(function(){n.element===this&&gt(t)})):e instanceof Element&&n.element===e&&gt(t):gt(t)}))}}),ze.fn.extend({animate:function(e){var t,n,i,s,a=this,o=e;return!Array.isArray(e)&&(arguments.length>1||1===arguments.length&&void 0===arguments[0].draw)?(t=arguments[0],n=arguments[1]||ze.animation.duration,i=arguments[2]||ze.animation.ease,s=arguments[3],"function"==typeof n&&(s=n,n=ze.animation.duration,i=ze.animation.ease),"function"==typeof i&&(s=i,i=ze.animation.ease),this.each((function(){return ze.animate({el:this,draw:t,dur:n,ease:i,onDone:s})}))):Array.isArray(e)?(ze.each(e,(function(){var e=this;a.each((function(){e.el=this,ze.animate(e)}))})),this):this.each((function(){o.el=this,ze.animate(o)}))},chain:function(e,t){return this.each((function(){var n=this;ze.each(e,(function(){this.el=n})),ze.chain(e,t)}))},stop:function(e){return this.each((function(){var t=this;ze.each(ze.animation.elements,(function(n,i){i.element===t&&vt(n,e)}))}))},pause:function(){return this.each((function(){var e=this;ze.each(ze.animation.elements,(function(t,n){n.element===e&&gt(t)}))}))},resume:function(){return this.each((function(){var e=this;ze.each(ze.animation.elements,(function(t,n){n.element===e&&bt(t)}))}))}}),ze.extend({hidden:function(e,t,n){return e=ze(e)[0],"string"==typeof t&&(t="true"===t.toLowerCase()),"function"==typeof t&&(n=t,t=!e.hidden),e.hidden=t,"function"==typeof n&&(ze.bind(n,e),n.call(e,arguments)),this},hide:function(e,t){var n=ze(e),i=(e=n[0]).style.display,s=getComputedStyle(e,null).display;return n.origin("display",{inline:i,css:s}),e.style.display="none","function"==typeof t&&(ze.bind(t,e),t.call(e,arguments)),this},show:function(e,t){var n=ze(e).origin("display");if((e=ze(e)[0]).style.display="",n){const t=n.inline||"",i=n.css||"";t&&"none"!==t?e.style.display=t:"none"===i&&(e.style.display="block")}else e.style.display="block";return 0===parseInt(e.style.opacity)&&(e.style.opacity="1"),"function"==typeof t&&(ze.bind(t,e),t.call(e,arguments)),this},visible:function(e,t,n){return void 0===t&&(t=!0),e.style.visibility=t?"visible":"hidden","function"==typeof n&&(ze.bind(n,e),n.call(e,arguments)),this},toggle:function(e,t){var n="none"!==getComputedStyle(e,null).display?"hide":"show";return ze[n](e,t)}}),ze.fn.extend({hide:function(){var e;return ze.each(arguments,(function(){"function"==typeof this&&(e=this)})),this.each((function(){ze.hide(this,e)}))},show:function(){var e;return ze.each(arguments,(function(){"function"==typeof this&&(e=this)})),this.each((function(){ze.show(this,e)}))},visible:function(e,t){return this.each((function(){ze.visible(this,e,t)}))},toggle:function(e){return this.each((function(){ze.toggle(this,e)}))},hidden:function(e,t){return this.each((function(){ze.hidden(this,e,t)}))}}),ze.extend({fx:{off:!1}}),ze.fn.extend({fadeIn:function(e,t,n){return this.each((function(){var i=this,s=ze(i),a=!(!Me(i)||Me(i)&&0==+s.style("opacity"));if(Ae(e)&&Ae(t)&&Ae(n)?(n=null,e=ze.animation.duration):"function"==typeof e&&(n=e,e=ze.animation.duration),"function"==typeof t&&(n=t,t=ze.animation.ease),ze.fx.off&&(e=0),a)return"function"==typeof n&&ze.proxy(n,this)(),this;var o=s.origin("display",void 0,"block");return i.style.opacity="0",i.style.display=o,ze.animate({el:i,draw:{opacity:1},dur:e,ease:t,onDone:function(){"function"==typeof n&&ze.proxy(n,this)()}})}))},fadeOut:function(e,t,n){return this.each((function(){var i=this,s=ze(i);return Ae(e)&&Ae(t)&&Ae(n)?(n=null,e=ze.animation.duration):"function"==typeof e&&(n=e,e=ze.animation.duration),"function"==typeof t&&(n=t,t=ze.animation.ease),s.origin("display",s.style("display")),Me(i)?ze.animate({el:i,draw:{opacity:0},dur:e,ease:t,onDone:function(){this.style.display="none","function"==typeof n&&ze.proxy(n,this)()}}):("function"==typeof n&&ze.proxy(n,this)(),this)}))},slideUp:function(e,t,n){return this.each((function(){var i,s=this,a=ze(s);if(0!==a.height())return Ae(e)&&Ae(t)&&Ae(n)?(n=null,e=ze.animation.duration):"function"==typeof e&&(n=e,e=ze.animation.duration),"function"==typeof t&&(n=t,t=ze.animation.ease),i=a.height(),a.origin("height",i),a.origin("display",ze(s).style("display")),a.css({overflow:"hidden"}),ze.animate({el:s,draw:{height:0},dur:e,ease:t,onDone:function(){a.hide().removeStyleProperty("overflow, height"),"function"==typeof n&&ze.proxy(n,this)()}})}))},slideDown:function(e,t,n){return this.each((function(){var i,s,a=this,o=ze(a);return Ae(e)&&Ae(t)&&Ae(n)?(n=null,e=ze.animation.duration):"function"==typeof e&&(n=e,e=ze.animation.duration),"function"==typeof t&&(n=t,t=ze.animation.ease),o.show().visible(!1),i=+o.origin("height",void 0,o.height()),0===parseInt(i)&&(i=a.scrollHeight),s=o.origin("display",o.style("display"),"block"),o.height(0).visible(!0),o.css({overflow:"hidden",display:"none"===s?"block":s}),ze.animate({el:a,draw:{height:i},dur:e,ease:t,onDone:function(){ze(a).removeStyleProperty("overflow, height, visibility"),"function"==typeof n&&ze.proxy(n,this)()}})}))},moveTo:function(e,t,n,i,s){var a={top:t,left:e};return"function"==typeof n&&(s=n,n=ze.animation.duration,i=ze.animation.ease),"function"==typeof i&&(s=i,i=ze.animation.ease),this.each((function(){ze.animate({el:this,draw:a,dur:n,ease:i,onDone:s})}))},centerTo:function(e,t,n,i,s){return"function"==typeof n&&(s=n,n=ze.animation.duration,i=ze.animation.ease),"function"==typeof i&&(s=i,i=ze.animation.ease),this.each((function(){var a={left:e-this.clientWidth/2,top:t-this.clientHeight/2};ze.animate({el:this,draw:a,dur:n,ease:i,onDone:s})}))},colorTo:function(e,t,n,i){var s={color:e};return"function"==typeof t&&(i=t,t=ze.animation.duration,n=ze.animation.ease),"function"==typeof n&&(i=n,n=ze.animation.ease),this.each((function(){ze.animate({el:this,draw:s,dur:t,ease:n,onDone:i})}))},backgroundTo:function(e,t,n,i){var s={backgroundColor:e};return"function"==typeof t&&(i=t,t=ze.animation.duration,n=ze.animation.ease),"function"==typeof n&&(i=n,n=ze.animation.ease),this.each((function(){ze.animate({el:this,draw:s,dur:t,ease:n,onDone:i})}))}}),ze.init=function(e,t){var n,i=this;if("string"==typeof e&&(e=e.trim()),this.uid=ze.uniqueId(),!e)return this;if("function"==typeof e)return ze.ready(e);if(e instanceof Element)return this.push(e),this;if(e instanceof ze)return ze.each(e,(function(){i.push(this)})),this;if("window"===e&&(e=window),"document"===e&&(e=document),"body"===e&&(e=document.body),"html"===e&&(e=document.documentElement),"doctype"===e&&(e=document.doctype),e&&(e.nodeType||e.self===window))return this.push(e),this;if(Ne(e))return ze.each(e,(function(){ze(this).each((function(){i.push(this)}))})),this;if("string"!=typeof e&&e.self&&e.self!==window)return this;if("#"===e||"."===e)return console.error("Selector can't be # or ."),this;if("@"===e[0])ze("[data-role]").each((function(){Fe(ze(this).attr("data-role"),",").indexOf(e.slice(1))>-1&&i.push(this)}));else if(1===(n=ze.parseHTML(e)).length&&3===n[0].nodeType)try{[].push.apply(this,document.querySelectorAll(e))}catch(e){}else ze.merge(this,n);return void 0!==t&&(t instanceof ze?this.each((function(){ze(t).append(i)})):t instanceof HTMLElement?ze(t).append(i):Le(t)&&ze.each(this,(function(){for(var e in t)qe(t,e)&&this.setAttribute(e,t[e])}))),this},ze.init.prototype=ze.fn,globalThis.$=ze,globalThis.m4q=ze;
/*!
     * HooksJS - The set of hooks  (https://hooks.io)
     * Copyright 2024 by Serhii Pimenov
     * Licensed under MIT
     !*/
class wt{val=null;constructor(e){this.val=e}get state(){return this.val}set state(e){Object.is(e,this.state)||(this.state=e)}}const Ct={effect:null,event:"load",target:globalThis,one:!1},_t={LOAD:"load",VIEWPORT:"viewport",ATTRIBUTE:"attribute",CHILDREN:"children",DATA:"data"},xt={effect:e=>e,target:globalThis,event:"load"};globalThis.Hooks={useEffect:({effect:e,target:t,event:n}=xt)=>{let i,s=n.toLowerCase();if("function"!=typeof e)throw Error("Effect must be a function!");if(!t)throw Error("Please specify a target element!");if(n===_t.LOAD?i=t:"string"==typeof t?i=document.querySelector(t):t instanceof HTMLElement&&(i=t),s===_t.LOAD){const t=document.querySelector(i);if(null!==t)e(t);else{const t=new MutationObserver(((t,n)=>{const s=document.querySelector(i);null!==s&&(e(s),n.disconnect())}));t.observe(document.body,{childList:!0,subtree:!0})}}else if(s===_t.VIEWPORT){new IntersectionObserver(((t,n)=>{t.forEach((t=>{t.isIntersecting&&e(i)}))}),{root:null,rootMargin:"0px",threshold:.5}).observe(i)}else if(s===_t.ATTRIBUTE){new MutationObserver((t=>{for(let n of t)n.target===i&&"attributes"===n.type&&e(i,n.attributeName,i.getAttribute(n.attributeName))})).observe(i,{attributes:!0})}else if(s===_t.CHILDREN){new MutationObserver((t=>{for(let n of t)n.target===i&&"childList"===n.type&&e(i,n.addedNodes,n.removedNodes)})).observe(i,{childList:!0,subtree:!0})}else if(s===_t.DATA){new MutationObserver((t=>{for(let n of t)n.target===i&&"characterData"===n.type&&e(i,i.textContent)})).observe(i,{characterData:!0})}},useState:(e,t)=>{let n=new wt(e),i=new Proxy(n,{get:function(e,t){return e[t]},set:function(e,n,i){const s=e[n];return e[n]=i,"function"==typeof t&&t({target:e,prop:n,oldVal:s,newVal:i}),!0}});const s=()=>1===Object.keys(i).length&&"val"===Object.keys(i)[0]?i.val:i;return[s,e=>("object"==typeof e?Object.keys(e).forEach((t=>{i[t]=e[t]})):i.val=e,s())]},useEvent:({effect:e,event:t,target:n,one:i}=Ct)=>{let s,a;if(n?"string"==typeof n?s=document.querySelector(n):n instanceof HTMLElement&&(s=n):s=globalThis,a=t||"load","function"!=typeof e)throw Error("Effect must be a function!");const o=t=>{i&&s.removeEventListener(a,o),e(t)};return s.addEventListener(a,o)},USE_EFFECT_EVENTS:_t},function(e){var t=e.meta("metro4:init").attr("content"),n=e.meta("metro4:locale").attr("content"),i=e.meta("metro4:week_start").attr("content"),s=e.meta("metro4:date_format").attr("content"),a=e.meta("metro4:date_format_input").attr("content"),o=e.meta("metro4:animation_duration").attr("content"),r=e.meta("metro4:callback_timeout").attr("content"),l=e.meta("metro4:timeout").attr("content"),c=e.meta("metro4:scroll_multiple").attr("content"),u=e.meta("metro4:cloak").attr("content"),h=e.meta("metro4:cloak_duration").attr("content"),d=e.meta("metro4:global_common").attr("content"),p=e.meta("metro4:blur_image").attr("content");void 0===window.METRO_BLUR_IMAGE&&(window.METRO_BLUR_IMAGE=void 0!==p&&JSON.parse(d)),void 0===window.METRO_GLOBAL_COMMON&&(window.METRO_GLOBAL_COMMON=void 0!==d&&JSON.parse(d));var f=e.meta("metro4:jquery").attr("content");window.jquery_present="undefined"!=typeof jQuery,void 0===window.METRO_JQUERY&&(window.METRO_JQUERY=void 0===f||JSON.parse(f)),window.useJQuery=window.jquery_present&&window.METRO_JQUERY;var m=e.meta("metro4:about").attr("content");void 0===window.METRO_SHOW_ABOUT&&(window.METRO_SHOW_ABOUT=void 0===m||JSON.parse(m));var v=e.meta("metro4:compile").attr("content");void 0===window.METRO_SHOW_COMPILE_TIME&&(window.METRO_SHOW_COMPILE_TIME=void 0===v||JSON.parse(v)),void 0===window.METRO_INIT&&(window.METRO_INIT=void 0===t||JSON.parse(t)),void 0===window.METRO_DEBUG&&(window.METRO_DEBUG=!0),void 0===window.METRO_WEEK_START&&(window.METRO_WEEK_START=void 0!==i?parseInt(i):0),void 0===window.METRO_DATE_FORMAT&&(window.METRO_DATE_FORMAT=void 0!==s?s:"YYYY-MM-DD"),void 0===window.METRO_DATE_FORMAT_INPUT&&(window.METRO_DATE_FORMAT_INPUT=void 0!==a?a:"YYYY-MM-DD"),void 0===window.METRO_LOCALE&&(window.METRO_LOCALE=void 0!==n?n:"en-US"),void 0===window.METRO_ANIMATION_DURATION&&(window.METRO_ANIMATION_DURATION=void 0!==o?parseInt(o):100),void 0===window.METRO_CALLBACK_TIMEOUT&&(window.METRO_CALLBACK_TIMEOUT=void 0!==r?parseInt(r):500),void 0===window.METRO_TIMEOUT&&(window.METRO_TIMEOUT=void 0!==l?parseInt(l):2e3),void 0===window.METRO_SCROLL_MULTIPLE&&(window.METRO_SCROLL_MULTIPLE=void 0!==c?parseInt(c):20),void 0===window.METRO_CLOAK_REMOVE&&(window.METRO_CLOAK_REMOVE=void 0!==u?(""+u).toLowerCase():"fade"),void 0===window.METRO_CLOAK_DURATION&&(window.METRO_CLOAK_DURATION=void 0!==h?parseInt(h):300),void 0===window.METRO_HOTKEYS_FILTER_CONTENT_EDITABLE&&(window.METRO_HOTKEYS_FILTER_CONTENT_EDITABLE=!0),void 0===window.METRO_HOTKEYS_FILTER_INPUT_ACCEPTING_ELEMENTS&&(window.METRO_HOTKEYS_FILTER_INPUT_ACCEPTING_ELEMENTS=!0),void 0===window.METRO_HOTKEYS_FILTER_TEXT_INPUTS&&(window.METRO_HOTKEYS_FILTER_TEXT_INPUTS=!0),void 0===window.METRO_HOTKEYS_BUBBLE_UP&&(window.METRO_HOTKEYS_BUBBLE_UP=!1),void 0===window.METRO_THROWS&&(window.METRO_THROWS=!0),window.METRO_MEDIA=[]}(m4q),function(){var e=m4q;if("undefined"==typeof m4q)throw new Error("Metro UI requires m4q helper!");if(!("MutationObserver"in window))throw new Error("Metro UI requires MutationObserver!");var t="ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0,n=function(e){return"string"!=typeof e?void 0:e.replace(/-/g,"").toLowerCase()},i={version:"5.0.0-rc7",build_time:"26.04.2024, 15:09:02",buildNumber:0,isTouchable:t,fullScreenEnabled:document.fullscreenEnabled,sheet:null,controlsPosition:{INSIDE:"inside",OUTSIDE:"outside"},groupMode:{ONE:"one",MULTI:"multi"},aspectRatio:{HD:"hd",SD:"sd",CINEMA:"cinema"},fullScreenMode:{WINDOW:"window",DESKTOP:"desktop"},position:{TOP:"top",BOTTOM:"bottom",LEFT:"left",RIGHT:"right",TOP_RIGHT:"top-right",TOP_LEFT:"top-left",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",LEFT_BOTTOM:"left-bottom",LEFT_TOP:"left-top",RIGHT_TOP:"right-top",RIGHT_BOTTOM:"right-bottom"},popoverEvents:{CLICK:"click",HOVER:"hover",FOCUS:"focus"},stepperView:{SQUARE:"square",CYCLE:"cycle",DIAMOND:"diamond"},listView:{LIST:"list",CONTENT:"content",ICONS:"icons",ICONS_MEDIUM:"icons-medium",ICONS_LARGE:"icons-large",TILES:"tiles",TABLE:"table"},events:{click:"click",start:t?"touchstart":"mousedown",stop:t?"touchend":"mouseup",move:t?"touchmove":"mousemove",enter:t?"touchstart":"mouseenter",startAll:"mousedown touchstart",stopAll:"mouseup touchend",moveAll:"mousemove touchmove",leave:"mouseleave",focus:"focus",blur:"blur",resize:"resize",keyup:"keyup",keydown:"keydown",keypress:"keypress",dblclick:"dblclick",input:"input",change:"change",cut:"cut",paste:"paste",scroll:"scroll",mousewheel:"mousewheel",inputchange:"change input propertychange cut paste copy drop",dragstart:"dragstart",dragend:"dragend",dragenter:"dragenter",dragover:"dragover",dragleave:"dragleave",drop:"drop",drag:"drag"},keyCode:{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,BREAK:19,CAPS:20,ESCAPE:27,SPACE:32,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,COMMA:188},media_queries:{FS:"(min-width: 0px)",XS:"(min-width: 360px)",SM:"(min-width: 576px)",MD:"(min-width: 768px)",LG:"(min-width: 992px)",XL:"(min-width: 1200px)",XXL:"(min-width: 1452px)"},media_sizes:{FS:0,XS:360,SM:576,LD:640,MD:768,LG:992,XL:1200,XXL:1452},media_mode:{FS:"fs",XS:"xs",SM:"sm",MD:"md",LG:"lg",XL:"xl",XXL:"xxl"},media_modes:["fs","xs","sm","md","lg","xl","xxl"],actions:{REMOVE:1,HIDE:2},hotkeys:{},locales:{},utils:{},colors:{},dialog:null,pagination:null,md5:null,storage:null,export:null,animations:null,cookie:null,template:null,defaults:{},about:function(){var e="<h3>About</h3><hr><div><b>Metro UI</b> - v"+i.version+"</div><div><b>M4Q</b> - "+m4q.version+"</div>";i.infobox.create(e)},info:function(){console.info(`%c METRO UI %c v${i.version} %c ${i.build_time} `,"color: pink; font-weight: bold; background: #800000","color: white; background: darkgreen","color: white; background: #0080fe;"),e.info()},showCompileTime:function(){return""},aboutDlg:function(){alert("Metro UI - v"+i.version)},ver:function(){return i.version},build:function(){return i.build},compile:function(){return""},observe:function(){new MutationObserver((function(t){t.map((function(t){if("attributes"===t.type&&"data-role"!==t.attributeName)if("data-hotkey"===t.attributeName)i.initHotkeys([t.target],!0);else{var n=e(t.target),s=n.data("metroComponent"),a=t.attributeName,o=n.attr(a),r=t.oldValue;void 0!==s&&(n.fire("attr-change",{attr:a,newValue:o,oldValue:r,__this:n[0]}),e.each(s,(function(){var e=i.getPlugin(n,this);e&&"function"==typeof e.changeAttribute&&e.changeAttribute(a,o,r)})))}else if("childList"===t.type&&t.addedNodes.length>0){var l,c,u,h=[],d=t.addedNodes;if(d.length){for(l=0;l<d.length;l++)u=d[l],void 0!==(c=e(u)).attr("data-role")&&h.push(u),e.each(c.find("[data-role]"),(function(){-1===h.indexOf(this)&&h.push(this)}));h.length&&i.initWidgets(h,"observe")}}}))})).observe(e("html")[0],{childList:!0,attributes:!0,subtree:!0})},init:function(){var n=e("[data-role]"),s=e("[data-hotkey]"),a=e("html"),o=this;window.METRO_BLUR_IMAGE&&a.addClass("use-blur-image"),window.METRO_SHOW_ABOUT&&i.info(!0),!0===t?a.addClass("metro-touch-device"):a.addClass("metro-no-touch-device"),i.sheet=this.utils.newCssSheet(),this.utils.addCssRule(i.sheet,"*, *::before, *::after","box-sizing: border-box;"),window.METRO_MEDIA=[],e.each(i.media_queries,(function(e,t){o.utils.media(t)&&window.METRO_MEDIA.push(i.media_mode[e])})),i.observe(),i.initHotkeys(s),i.initWidgets(n,"init"),"fade"!==window.METRO_CLOAK_REMOVE?(e(".m4-cloak").removeClass("m4-cloak"),e(window).fire("metro-initiated")):e(".m4-cloak").animate({draw:{opacity:1},dur:300,onDone:function(){e(".m4-cloak").removeClass("m4-cloak"),e(window).fire("metro-initiated")}})},initHotkeys:function(t,n){e.each(t,(function(){var t=e(this),s=!!t.attr("data-hotkey")&&t.attr("data-hotkey").toLowerCase(),a=!!t.attr("data-hotkey-func")&&t.attr("data-hotkey-func");!1!==s&&(!0===t.data("hotKeyBonded")&&!0!==n||(i.hotkeys[s]=[this,a],t.data("hotKeyBonded",!0),t.fire("hot-key-bonded",{__this:t[0],hotkey:s,fn:a})))}))},initWidgets:function(t){var i=this;e.each(t,(function(){var t=e(this);this.hasAttribute("data-role")&&t.attr("data-role").split(/\s*,\s*/).map((function(s){var a=i.utils.$(),o=n(s);if(void 0!==a.fn[o]&&void 0===t.attr("data-role-"+o))try{a.fn[o].call(t),t.attr("data-role-"+o,!0);var r=t.data("metroComponent");void 0===r?r=[o]:r.push(o),t.data("metroComponent",r),t.fire("create",{__this:t[0],name:o}),e(document).fire("component-create",{element:t[0],name:o})}catch(e){throw console.error("Error creating component "+s+" for ",t[0]),e}}))}))},plugin:function(e,t){var i=n(e),s=function(e){e.fn[i]=function(n){return this.each((function(){e.data(this,i,Object.create(t).init(n,this))}))}};s(m4q),window.useJQuery&&s(jQuery)},pluginExists:function(e){return"function"==typeof(window.useJQuery?jQuery:m4q).fn[n(e)]},destroyPlugin:function(t,s){var a,o,r=e(t),l=n(s);void 0!==(a=i.getPlugin(r,l))?"function"==typeof a.destroy?(a.destroy(),o=r.data("metroComponent"),this.utils.arrayDelete(o,l),r.data("metroComponent",o),e.removeData(r[0],l),r.removeAttr("data-role-"+l)):console.warn("Component "+s+" can not be destroyed: method destroy not found."):console.warn("Component "+s+" can not be destroyed: the element is not a Metro UI component.")},destroyPluginAll:function(t){var n=e(t),s=n.data("metroComponent");void 0!==s&&s.length>0&&e.each(s,(function(){i.destroyPlugin(n[0],this)}))},noop:function(){},noop_true:function(){return!0},noop_false:function(){return!1},noop_arg:function(e){return e},requestFullScreen:function(e){e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullScreen?e.webkitRequestFullScreen():e.msRequestFullscreen?e.msRequestFullscreen():e.requestFullscreen().catch((function(e){console.warn("Error attempting to enable full-screen mode: "+e.message+" "+e.name)}))},exitFullScreen:function(){document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.msExitFullscreen?document.msExitFullscreen():document.exitFullscreen().catch((function(e){console.warn("Error attempting to disable full-screen mode: "+e.message+" "+e.name)}))},inFullScreen:function(){return void 0!==(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)},$:function(){return window.useJQuery?jQuery:m4q},get$el:function(t){return i.$()(e(t)[0])},get$elements:function(t){return i.$()(e(t))},getPlugin:function(e,t){var s=n(t),a=i.get$el(e);return a.length?a.data(s):void 0},makePlugin:function(e,t,s){var a=n(t),o=i.get$elements(e);return o.length&&"function"==typeof o[a]?o[a](s):void 0},Component:function(t,s){var a=n(t),o=i.utils,r=e.extend({name:a},{_super:function(t,n,i,s){var a=this;this.elem=t,this.element=e(t),this.options=e.extend({},i,n),this.component=this.elem,this._setOptionsFromDOM(),this._runtime(),s&&"object"==typeof s&&e.each(s,(function(e,t){a[e]=t})),this._createExec()},_setOptionsFromDOM:function(){var t=this.element,n=this.options;e.each(t.data(),(function(e,t){if(e in n)try{n[e]=JSON.parse(t)}catch(i){n[e]=t}}))},_runtime:function(){var e,t=this.element,i=(t.attr("data-role")||"").toArray(",").map((function(e){return n(e)})).filter((function(e){return""!==e.trim()}));t.attr("data-role-"+this.name)||(t.attr("data-role-"+this.name,!0),-1===i.indexOf(this.name)&&(i.push(this.name),t.attr("data-role",i.join(","))),void 0===(e=t.data("metroComponent"))?e=[this.name]:e.push(this.name),t.data("metroComponent",e))},_createExec:function(){var e=this,t=this.options[this.name+"Deferred"];t?setTimeout((function(){e._create()}),t):e._create()},_fireEvent:function(t,n,i,s,a=null){var r,l=this.element,c=this.options,u=e.camelCase(t).capitalize();return r=(n=e.extend({},n,{__this:l[0]}))?Object.values(n):{},i&&(console.warn(i),console.warn("Event: on"+u),console.warn("Data: ",n),console.warn("Element: ",l[0])),!0!==s&&l.fire(u.toLowerCase(),n),o.exec(c["on"+u],r,a||l[0])},_fireEvents:function(t,n,i,s,a){var r,l=this;if(0!==arguments.length)return 1===arguments.length?(e.each(t,(function(){var e=this;l._fireEvent(e.name,e.data,e.log,e.noFire,a)})),o.objectLength(t)):void((Array.isArray(t)||"string"==typeof t)&&(r=Array.isArray(t)?t:t.toArray(","),e.each(r,(function(){l._fireEvent(this,n,i,s,a)}))))},getComponent:function(){return this.component},getComponentName:function(){return this.name}},s);return i.plugin(a,r),r},fetch:{status:function(e){return e.ok?Promise.resolve(e):Promise.reject(new Error(e.statusText))},json:function(e){return e.json()},text:function(e){return e.text()},form:function(e){return e.formData()},blob:function(e){return e.blob()},buffer:function(e){return e.arrayBuffer()}}};e(window).on(i.events.resize,(function(){window.METRO_MEDIA=[],e.each(i.media_queries,(function(e,t){i.utils.media(t)&&window.METRO_MEDIA.push(i.media_mode[e])}))})),window.Metro=i,!0===window.METRO_INIT&&e((function(){i.init()}))}(),function(e,t){m4q.extend(e.locales,{"en-US":{calendar:{months:["January","February","March","April","May","June","July","August","September","October","November","December","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Su","Mo","Tu","We","Th","Fr","Sa","Sun","Mon","Tus","Wen","Thu","Fri","Sat"],time:{days:"DAYS",hours:"HOURS",minutes:"MINS",seconds:"SECS",month:"MON",day:"DAY",year:"YEAR"},weekStart:0},buttons:{ok:"OK",cancel:"Cancel",done:"Done",today:"Today",now:"Now",clear:"Clear",help:"Help",yes:"Yes",no:"No",random:"Random",save:"Save",reset:"Reset"},table:{rowsCount:"Show entries:",search:"Search:",info:"Showing $1 to $2 of $3 entries",prev:"Prev",next:"Next",all:"All",inspector:"Inspector",skip:"Goto page",empty:"Nothing to show"},colorSelector:{addUserColorButton:"ADD TO SWATCHES",userColorsTitle:"USER COLORS"},switch:{on:"on",off:"off"}}})}(Metro),"function"!=typeof Array.prototype.shuffle&&(Array.prototype.shuffle=function(){for(var e,t,n=this.length;0!==n;)t=Math.floor(Math.random()*n),e=this[n-=1],this[n]=this[t],this[t]=e;return this}),"function"!=typeof Array.prototype.clone&&(Array.prototype.clone=function(){return this.slice(0)}),"function"!=typeof Array.prototype.unique&&(Array.prototype.unique=function(){for(var e=this.concat(),t=0;t<e.length;++t)for(var n=t+1;n<e.length;++n)e[t]===e[n]&&e.splice(n--,1);return e}),Number.prototype.format=function(e,t,n,i){var s="\\d(?=(\\d{"+(t||3)+"})+"+(e>0?"\\D":"$")+")",a=this.toFixed(Math.max(0,~~e));return(i?a.replace(".",i):a).replace(new RegExp(s,"g"),"$&"+(n||","))},String.prototype.toArray=function(e,t,n,i){return t=t||"string",n=null!=n&&n,(""+this).split(e=e||",").map((function(e){var s;switch(t){case"int":case"integer":s=isNaN(e)?e.trim():parseInt(e);break;case"number":case"float":s=isNaN(e)?e:parseFloat(e);break;case"date":s=n?Datetime.from(e,n,i||"en-US"):datetime(e);break;default:s=e.trim()}return s}))},String.prototype.capitalize=function(){return this.substr(0,1).toUpperCase()+this.substr(1)},function(e,t){e.utils={nothing:function(){},isVisible:function(e){var n=t(e)[0];return"none"!==this.getStyleOne(n,"display")&&"hidden"!==this.getStyleOne(n,"visibility")&&null!==n.offsetParent},isUrl:function(e){return/^(\.\/|\.\.\/|ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@\-\/]))?/.test(e)},isTag:function(e){return/^<\/?[\w\s="/.':;#-\/\?]+>/gi.test(e)},isEmbedObject:function(e){var n=!1;return t.each(["iframe","object","embed","video"],(function(){("string"==typeof e&&e.toLowerCase()===this||void 0!==e.nodeType&&e.tagName.toLowerCase()===this)&&(n=!0)})),n},isVideoUrl:function(e){return/youtu\.be|youtube|twitch|vimeo/gi.test(e)},isDate:function(e,t,n){var i;if(this.isDateObject(e))return!0;try{return i=t?Datetime.from(e,t,n||"en-US"):datetime(e),Datetime.isDatetime(i)}catch(e){return!1}},isDateObject:function(e){return"object"==typeof e&&void 0!==e.getMonth},isInt:function(e){return!isNaN(e)&&+e%1==0},isFloat:function(e){return!isNaN(e)&&+e%1!=0||/^\d*\.\d+$/.test(e)},isFunc:function(e){return this.isType(e,"function")},isObject:function(e){return this.isType(e,"object")},isObject2:function(e){return"object"==typeof e&&!Array.isArray(e)},isType:function(e,t){if(!this.isValue(e))return!1;if(typeof e===t)return e;if("tag"===(""+t).toLowerCase()&&this.isTag(e))return e;if("url"===(""+t).toLowerCase()&&this.isUrl(e))return e;if("array"===(""+t).toLowerCase()&&Array.isArray(e))return e;if(this.isTag(e)||this.isUrl(e))return!1;if(typeof window[e]===t)return window[e];if("string"==typeof e&&-1===e.indexOf("."))return!1;if("string"==typeof e&&/[/\s([]+/gm.test(e))return!1;if("number"==typeof e&&"number"!==t.toLowerCase())return!1;var n,i=e.split("."),s=window;for(n=0;n<i.length;n++)s=s[i[n]];return typeof s===t&&s},$:function(){return window.useJQuery?jQuery:m4q},isMetroObject:function(n,i){var s=t(n),a=e.getPlugin(n,i);return 0===s.length?(console.warn(i+" "+n+" not found!"),!1):void 0!==a||(console.warn("Element not contain role "+i+'! Please add attribute data-role="'+i+'" to element '+n),!1)},isJQuery:function(e){return"undefined"!=typeof jQuery&&e instanceof jQuery},isM4Q:function(e){return"undefined"!=typeof m4q&&e instanceof m4q},isQ:function(e){return this.isJQuery(e)||this.isM4Q(e)},embedUrl:function(e){return-1!==e.indexOf("youtu.be")&&(e="https://www.youtube.com/embed/"+e.split("/").pop()),"<div class='embed-container'><iframe src='"+e+"'></iframe></div>"},elementId:function(e){return e+"-"+(new Date).getTime()+t.random(1,1e3)},secondsToTime:function(e){return{d:Math.floor(e%31536e3/86400),h:Math.floor(e%31536e3%86400/3600),m:Math.floor(e%31536e3%86400%3600/60),s:Math.round(e%31536e3%86400%3600%60)}},secondsToFormattedString:function(e){var t=parseInt(e,10),n=Math.floor(t/3600),i=Math.floor((t-3600*n)/60),s=t-3600*n-60*i;return[Str.lpad(n,"0",2),Str.lpad(i,"0",2),Str.lpad(s,"0",2)].join(":")},func:function(e){return new Function("a",e)},exec:function(e,t,n){var i;if(null==e)return!1;var s=this.isFunc(e);!1===s&&(s=this.func(e));try{i=s.apply(n,t)}catch(e){if(i=null,!0===window.METRO_THROWS)throw e}return i},isOutsider:function(e){var n,i=t(e),s=i.clone();return s.removeAttr("data-role").css({visibility:"hidden",position:"absolute",display:"block"}),i.parent().append(s),n=this.inViewport(s[0]),s.remove(),!n},inViewport:function(e){var t=this.rect(e);return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)},rect:function(e){return e.getBoundingClientRect()},getCursorPosition:function(e,t){var n=this.rect(e);return{x:this.pageXY(t).x-n.left-window.pageXOffset,y:this.pageXY(t).y-n.top-window.pageYOffset}},getCursorPositionX:function(e,t){return this.getCursorPosition(e,t).x},getCursorPositionY:function(e,t){return this.getCursorPosition(e,t).y},objectLength:function(e){return Object.keys(e).length},percent:function(e,t,n){if(0===e)return 0;var i=100*t/e;return!0===n?Math.round(i):Math.round(100*i)/100},objectShift:function(e){var n=0;return t.each(e,(function(e){(0===n||n>e)&&(n=e)})),delete e[n],e},objectDelete:function(e,t){void 0!==e[t]&&delete e[t]},arrayDeleteByMultipleKeys:function(e,t){return t.forEach((function(t){delete e[t]})),e.filter((function(e){return void 0!==e}))},arrayDelete:function(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)},arrayDeleteByKey:function(e,t){e.splice(t,1)},nvl:function(e,t){return null==e?t:e},objectClone:function(e){var n={};for(var i in e)t.hasProp(e,i)&&(n[i]=e[i]);return n},github:function(e,n){var i=this;t.json("https://api.github.com/repos/"+e).then((function(e){i.exec(n,[e])}))},detectIE:function(){var e=window.navigator.userAgent,t=e.indexOf("MSIE ");if(t>0)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);if(e.indexOf("Trident/")>0){var n=e.indexOf("rv:");return parseInt(e.substring(n+3,e.indexOf(".",n)),10)}var i=e.indexOf("Edge/");return i>0&&parseInt(e.substring(i+5,e.indexOf(".",i)),10)},detectChrome:function(){return/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)},pageHeight:function(){var e=document.body,t=document.documentElement;return Math.max(e.scrollHeight,e.offsetHeight,t.clientHeight,t.scrollHeight,t.offsetHeight)},cleanPreCode:function(e){Array.prototype.slice.call(document.querySelectorAll(e),0).forEach((function(e){var t=e.textContent.replace(/^[\r\n]+/,"").replace(/\s+$/g,"");if(/^\S/gm.test(t))e.textContent=t;else{for(var n,i,s,a=/^[\t ]+/gm,o=1e3;n=a.exec(t);)(s=n[0].length)<o&&(o=s,i=n[0]);1e3!==o&&(e.textContent=t.replace(new RegExp("^"+i,"gm"),"").trim())}}))},coords:function(e){var n=t(e)[0].getBoundingClientRect();return{top:n.top+window.pageYOffset,left:n.left+window.pageXOffset}},positionXY:function(e,t){switch(t){case"client":return this.clientXY(e);case"screen":return this.screenXY(e);case"page":return this.pageXY(e);default:return{x:0,y:0}}},clientXY:function(e){return{x:e.changedTouches?e.changedTouches[0].clientX:e.clientX,y:e.changedTouches?e.changedTouches[0].clientY:e.clientY}},screenXY:function(e){return{x:e.changedTouches?e.changedTouches[0].screenX:e.screenX,y:e.changedTouches?e.changedTouches[0].screenY:e.screenY}},pageXY:function(e){return{x:e.changedTouches?e.changedTouches[0].pageX:e.pageX,y:e.changedTouches?e.changedTouches[0].pageY:e.pageY}},isRightMouse:function(e){return"which"in e?3===e.which:"button"in e?2===e.button:void 0},hiddenElementSize:function(e,n){var i,s,a=t(e).clone(!0);return a.removeAttr("data-role").css({visibility:"hidden",position:"absolute",display:"block"}),t("body").append(a),this.isValue(n)||(n=!1),i=a.outerWidth(n),s=a.outerHeight(n),a.remove(),{width:i,height:s}},getStyle:function(e,n){var i=t(e)[0];return window.getComputedStyle(i,n)},getStyleOne:function(e,t){return this.getStyle(e).getPropertyValue(t)},getInlineStyles:function(e){var n,i,s={},a=t(e)[0];for(n=0,i=a.style.length;n<i;n++){var o=a.style[n];s[o]=a.style[o]}return s},encodeURI:function(e){return encodeURI(e).replace(/%5B/g,"[").replace(/%5D/g,"]")},updateURIParameter:function(e,t,n){var i=new RegExp("([?&])"+t+"=.*?(&|$)","i"),s=-1!==e.indexOf("?")?"&":"?";return e.match(i)?e.replace(i,"$1"+t+"="+n+"$2"):e+s+t+"="+n},getURIParameter:function(e,t){e||(e=window.location.href),t=t.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)").exec(e);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null},getLocales:function(){return Object.keys(e.locales)},addLocale:function(n){e.locales=t.extend({},e.locales,n)},aspectRatioH:function(e,t){return"16/9"===t?9*e/16:"21/9"===t?9*e/21:"4/3"===t?3*e/4:void 0},aspectRatioW:function(e,t){return"16/9"===t?16*e/9:"21/9"===t?21*e/9:"4/3"===t?4*e/3:void 0},valueInObject:function(e,t){return Object.values(e).indexOf(t)>-1},keyInObject:function(e,t){return Object.keys(e).indexOf(t)>-1},inObject:function(e,t,n){return void 0!==e[t]&&e[t]===n},newCssSheet:function(e){var t=document.createElement("style");return void 0!==e&&t.setAttribute("media",e),t.appendChild(document.createTextNode("")),document.head.appendChild(t),t.sheet},addCssRule:function(e,t,n,i){e.insertRule(t+"{"+n+"}",i)},media:function(e){return window.matchMedia(e).matches},mediaModes:function(){return window.METRO_MEDIA},mediaExist:function(e){return window.METRO_MEDIA.indexOf(e)>-1},inMedia:function(e){return window.METRO_MEDIA.indexOf(e)>-1&&window.METRO_MEDIA.indexOf(e)===window.METRO_MEDIA.length-1},isValue:function(e){return null!=e&&""!==e},isNull:function(e){return null==e},isNegative:function(e){return parseFloat(e)<0},isPositive:function(e){return parseFloat(e)>0},isZero:function(e){return 0===parseFloat(e.toFixed(2))},between:function(e,t,n,i){return!0===i?e>=t&&e<=n:e>t&&e<n},parseMoney:function(e){return Number(parseFloat(e.replace(/[^0-9-.]/g,"")))},parseCard:function(e){return e.replace(/[^0-9]/g,"")},parsePhone:function(e){return this.parseCard(e)},parseNumber:function(e,t,n){return e.replace(new RegExp("\\"+t,"g"),"").replace(new RegExp("\\"+n,"g"),".")},nearest:function(e,t,n){return e/=t,e=Math[!0===n?"floor":"ceil"](e)*t},bool:function(e){switch(e){case!0:case"true":case 1:case"1":case"on":case"yes":return!0;default:return!1}},copy:function(e){var n,i,s=document.body,a=t(e)[0];if(document.createRange&&window.getSelection){n=document.createRange(),(i=window.getSelection()).removeAllRanges();try{n.selectNodeContents(a),i.addRange(n)}catch(e){n.selectNode(a),i.addRange(n)}}else s.createTextRange&&((n=s.createTextRange()).moveToElementText(a),n.select());document.execCommand("Copy"),window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&&document.selection.empty()},decCount:function(e){return e%1==0?0:e.toString().split(".")[1].length},classNames:function(){const t=Array.prototype.slice.call(arguments,0),n=[];for(let i of t)if(i)if("string"==typeof i)n.push(i);else if(e.utils.isObject(i))for(let e in i)i[e]&&n.push(e);else e.utils.nothing();return n.join(" ")},join:function(){const t=Array.prototype.slice.call(arguments,0),n=t.pop(),i=[];for(let n of t)n&&i.push(e.utils.isObject(n)?Object.values(n)[0]:n);return i.join(n)}},!0===window.METRO_GLOBAL_COMMON&&(window.Utils=e.utils)}(Metro,m4q),function(e,t){var n="hex",i="rgb",s="rgba",a="hsv",o="hsl",r="hsla",l="cmyk",c="unknown";e.colorsSetup=function(e){u=t.extend({},u,e)},void 0!==typeof window.metroColorsSetup&&e.colorsSetup(window.metroColorsSetup);var u={angle:30,resultType:"hex",results:6,baseLight:"#ffffff",baseDark:"self"};function h(e,t){for(e+=t;e>=360;)e-=360;for(;e<0;)e+=360;return e}function d(e){return Math.min(1,Math.max(0,e))}function p(e,t,n){this.r=e||0,this.g=t||0,this.b=n||0}function f(e,t,n,i){this.r=e||0,this.g=t||0,this.b=n||0,this.a=0===i?0:i||1}function m(e,t,n){this.h=e||0,this.s=t||0,this.v=n||0}function v(e,t,n){this.h=e||0,this.s=t||0,this.l=n||0}function g(e,t,n,i){this.h=e||0,this.s=t||0,this.l=n||0,this.a=0===i?0:i||1}function b(e,t,n,i){this.c=e||0,this.m=t||0,this.y=n||0,this.k=i||0}p.prototype.toString=function(){return"rgb("+[this.r,this.g,this.b].join(", ")+")"},f.prototype.toString=function(){return"rgba("+[this.r,this.g,this.b,parseFloat(this.a).toFixed(2)].join(", ")+")"},m.prototype.toString2=function(){return"hsv("+[this.h,this.s,this.v].join(", ")+")"},m.prototype.toString=function(){return"hsv("+[Math.round(this.h),Math.round(100*this.s)+"%",Math.round(100*this.v)+"%"].join(", ")+")"},v.prototype.toString2=function(){return"hsl("+[this.h,this.s,this.l].join(", ")+")"},v.prototype.toString=function(){return"hsl("+[Math.round(this.h),Math.round(100*this.s)+"%",Math.round(100*this.l)+"%"].join(", ")+")"},g.prototype.toString2=function(){return"hsla("+[this.h,this.s,this.l,this.a].join(", ")+")"},g.prototype.toString=function(){return"hsla("+[Math.round(this.h),Math.round(100*this.s)+"%",Math.round(100*this.l)+"%",parseFloat(this.a).toFixed(2)].join(", ")+")"},b.prototype.toString=function(){return"cmyk("+[this.c,this.m,this.y,this.k].join(", ")+")"};var y={PALETTES:{ALL:"all",METRO:"metro",STANDARD:"standard"},metro:{lime:"#a4c400",green:"#60a917",emerald:"#008a00",blue:"#00AFF0",teal:"#00aba9",cyan:"#1ba1e2",cobalt:"#0050ef",indigo:"#6a00ff",violet:"#aa00ff",pink:"#dc4fad",magenta:"#d80073",crimson:"#a20025",red:"#CE352C",orange:"#fa6800",amber:"#f0a30a",yellow:"#fff000",brown:"#825a2c",olive:"#6d8764",steel:"#647687",mauve:"#76608a",taupe:"#87794e"},standard:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32dc32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdd5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",slyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},all:{},init:function(){return this.all=t.extend({},this.standard,this.metro),this},color:function(e,t){return void 0!==this[t=t||this.PALETTES.ALL][e]&&this[t][e]},palette:function(e){return e=e||this.PALETTES.ALL,Object.keys(this[e])},expandHexColor:function(e){if("string"!=typeof e)throw new Error("Value is not a string!");if("#"===e[0]&&4===e.length){return"#"+e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,n,i){return t+t+n+n+i+i}))}return"#"===e[0]?e:"#"+e},colors:function(e){return e=e||this.PALETTES.ALL,Object.values(this[e])},random:function(e,i){var s;return e=e||n,i=void 0!==i?i:1,s="#"+((1<<24)+(t.random(0,255)<<16)+(t.random(0,255)<<8)+t.random(0,255)).toString(16).slice(1),"hex"===e?s:this.toColor(s,e,i)},parse:function(e){var t=e.toLowerCase().trim(),n=t.replace(/[^%\d.,]/g,"").split(",").map((function(e){return e.indexOf("%")>-1&&(e=""+parseInt(e)/100),e.indexOf(".")>-1?parseFloat(e):parseInt(e)}));return this.metro[t]?this.expandHexColor(this.metro[t]):this.standard[t]?this.expandHexColor(this.standard[t]):"#"===t[0]?this.expandHexColor(t):0===t.indexOf("rgba")&&4===n.length?new f(n[0],n[1],n[2],n[3]):0===t.indexOf("rgb")&&3===n.length?new p(n[0],n[1],n[2]):0===t.indexOf("cmyk")&&4===n.length?new b(n[0],n[1],n[2],n[3]):0===t.indexOf("hsv")&&3===n.length?new m(n[0],n[1],n[2]):0===t.indexOf("hsla")&&4===n.length?new g(n[0],n[1],n[2],n[3]):0===t.indexOf("hsl")&&3===n.length?new v(n[0],n[1],n[2]):void 0},createColor:function(e,t){var n;return e=e||"hex","string"==typeof(t=t||"#000000")&&(n=this.parse(t)),this.isColor(n)||(n="#000000"),this.toColor(n,e.toLowerCase())},isDark:function(e){if(this.isColor(e)){var t=this.toRGB(e);return(299*t.r+587*t.g+114*t.b)/1e3<128}},isLight:function(e){return!this.isDark(e)},isHSV:function(e){return e instanceof m},isHSL:function(e){return e instanceof v},isHSLA:function(e){return e instanceof g},isRGB:function(e){return e instanceof p},isRGBA:function(e){return e instanceof f},isCMYK:function(e){return e instanceof b},isHEX:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},isColor:function(e){var t="string"==typeof e?this.parse(e):e;return!!t&&(this.isHEX(t)||this.isRGB(t)||this.isRGBA(t)||this.isHSV(t)||this.isHSL(t)||this.isHSLA(t)||this.isCMYK(t))},check:function(e,n){var i=this,s="string"==typeof n?[n]:n,a=!1;if(t.each(s,(function(){i["is"+this.toUpperCase()](e)&&(a=!0)})),!a)throw new Error("Value is not a "+n+" color type!")},colorType:function(e){return this.isHEX(e)?n:this.isRGB(e)?i:this.isRGBA(e)?s:this.isHSV(e)?a:this.isHSL(e)?o:this.isHSLA(e)?r:this.isCMYK(e)?l:c},equal:function(e,t){return!(!this.isColor(e)||!this.isColor(t))&&this.toHEX(e)===this.toHEX(t)},colorToString:function(e){return e.toString()},hex2rgb:function(e){if("string"!=typeof e)throw new Error("Value is not a string!");var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(this.expandHexColor(e)),n=[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)];return t?new p(n[0],n[1],n[2]):null},rgb2hex:function(e){return this.check(e,"rgb"),"#"+((1<<24)+(e.r<<16)+(e.g<<8)+e.b).toString(16).slice(1)},rgb2hsv:function(e){this.check(e,"rgb");var t,n,i,s=new m,a=e.r/255,o=e.g/255,r=e.b/255,l=Math.max(a,o,r),c=Math.min(a,o,r),u=l-c;return i=l,n=0===l?0:1-c/l,t=l===c?0:l===a&&o>=r?(o-r)/u*60:l===a&&o<r?(o-r)/u*60+360:l===o?(r-a)/u*60+120:l===r?(a-o)/u*60+240:0,s.h=t,s.s=n,s.v=i,s},hsv2rgb:function(e){var t,n,i;this.check(e,"hsv");var s=e.h,a=100*e.s,o=100*e.v,r=(100-a)*o/100,l=s%60/60*(o-r),c=r+l,u=o-l;switch(Math.floor(s/60)){case 0:t=o,n=c,i=r;break;case 1:t=u,n=o,i=r;break;case 2:t=r,n=o,i=c;break;case 3:t=r,n=u,i=o;break;case 4:t=c,n=r,i=o;break;case 5:t=o,n=r,i=u}return new p(Math.round(255*t/100),Math.round(255*n/100),Math.round(255*i/100))},hsv2hex:function(e){return this.check(e,"hsv"),this.rgb2hex(this.hsv2rgb(e))},hex2hsv:function(e){return this.check(e,"hex"),this.rgb2hsv(this.hex2rgb(e))},rgb2cmyk:function(e){this.check(e,"rgb");var t=new b,n=e.r/255,i=e.g/255,s=e.b/255;return t.k=Math.min(1-n,1-i,1-s),t.c=1-t.k==0?0:(1-n-t.k)/(1-t.k),t.m=1-t.k==0?0:(1-i-t.k)/(1-t.k),t.y=1-t.k==0?0:(1-s-t.k)/(1-t.k),t.c=Math.round(100*t.c),t.m=Math.round(100*t.m),t.y=Math.round(100*t.y),t.k=Math.round(100*t.k),t},cmyk2rgb:function(e){return this.check(e,"cmyk"),new p(Math.floor(255*(1-e.c/100)*(1-e.k/100)),Math.ceil(255*(1-e.m/100)*(1-e.k/100)),Math.ceil(255*(1-e.y/100)*(1-e.k/100)))},hsv2hsl:function(e){var t,n,i,s;return this.check(e,"hsv"),t=e.h,i=(2-e.s)*e.v,n=e.s*e.v,0===i||0===(s=i<=1?i:2-i)?n=0:n/=s,new v(t,n,i/=2)},hsl2hsv:function(e){var t,n,i,s;return this.check(e,["hsl","hsla"]),t=e.h,i=((s=2*e.l)+(n=e.s*(s<=1?s:2-s)))/2,new m(t,n=s+n===0?0:2*n/(s+n),i)},rgb2websafe:function(e){return this.check(e,"rgb"),new p(51*Math.round(e.r/51),51*Math.round(e.g/51),51*Math.round(e.b/51))},rgba2websafe:function(e){this.check(e,"rgba");var t=this.rgb2websafe(e);return new f(t.r,t.g,t.b,e.a)},hex2websafe:function(e){return this.check(e,"hex"),this.rgb2hex(this.rgb2websafe(this.hex2rgb(e)))},hsv2websafe:function(e){return this.check(e,"hsv"),this.rgb2hsv(this.rgb2websafe(this.toRGB(e)))},hsl2websafe:function(e){return this.check(e,"hsl"),this.hsv2hsl(this.rgb2hsv(this.rgb2websafe(this.toRGB(e))))},cmyk2websafe:function(e){return this.check(e,"cmyk"),this.rgb2cmyk(this.rgb2websafe(this.cmyk2rgb(e)))},websafe:function(e){return this.isHEX(e)?this.hex2websafe(e):this.isRGB(e)?this.rgb2websafe(e):this.isRGBA(e)?this.rgba2websafe(e):this.isHSV(e)?this.hsv2websafe(e):this.isHSL(e)?this.hsl2websafe(e):this.isCMYK(e)?this.cmyk2websafe(e):e},toColor:function(e,t,n){var i;switch(t.toLowerCase()){case"hex":i=this.toHEX(e);break;case"rgb":i=this.toRGB(e);break;case"rgba":i=this.toRGBA(e,n);break;case"hsl":i=this.toHSL(e);break;case"hsla":i=this.toHSLA(e,n);break;case"hsv":i=this.toHSV(e);break;case"cmyk":i=this.toCMYK(e);break;default:i=e}return i},toHEX:function(e){var t="string"==typeof e?this.parse(e):e;if(!t)throw new Error("Unknown color format!");return"string"==typeof t?t:this.rgb2hex(this.toRGB(t))},toRGB:function(e){var t="string"==typeof e?this.parse(e):e;if(this.isRGB(t))return t;if(this.isRGBA(t))return new p(t.r,t.g,t.b);if(this.isHSV(t))return this.hsv2rgb(t);if(this.isHSL(t))return this.hsv2rgb(this.hsl2hsv(t));if(this.isHSLA(t))return this.hsv2rgb(this.hsl2hsv(t));if(this.isHEX(t))return this.hex2rgb(t);if(this.isCMYK(t))return this.cmyk2rgb(t);throw new Error("Unknown color format!")},toRGBA:function(e,t){if(this.isRGBA(e))return t&&(e.a=t),e;var n=this.toRGB(e);return new f(n.r,n.g,n.b,t)},toHSV:function(e){return this.rgb2hsv(this.toRGB(e))},toHSL:function(e){return this.hsv2hsl(this.rgb2hsv(this.toRGB(e)))},toHSLA:function(e,t){if(this.isHSLA(e))return t&&(e.a=t),e;var n=this.hsv2hsl(this.rgb2hsv(this.toRGB(e)));return n.a=t,new g(n.h,n.s,n.l,n.a)},toCMYK:function(e){return this.rgb2cmyk(this.toRGB(e))},grayscale:function(e){return this.desaturate(e,100)},lighten:function(e,t){var n,i,a;if(!this.isColor(e))throw new Error(e+" is not a valid color value!");return t=0===t?0:t||10,(n=this.toHSL(e)).l+=t/100,n.l=d(n.l),(i=this.colorType(e).toLowerCase())!==s&&i!==r||(a=e.a),this.toColor(n,i,a)},darken:function(e,t){return this.lighten(e,-t)},spin:function(e,t){var n,i,a,o;if(!this.isColor(e))throw new Error(e+" is not a valid color value!");return o=((n=this.toHSL(e)).h+t)%360,n.h=o<0?360+o:o,(i=this.colorType(e).toLowerCase())!==s&&i!==r||(a=e.a),this.toColor(n,i,a)},brighten:function(e,t){var n,i,a;if(!this.isColor(e))throw new Error(e+" is not a valid color value!");return(n=this.toRGB(e)).r=Math.max(0,Math.min(255,n.r-Math.round(-t/100*255))),n.g=Math.max(0,Math.min(255,n.g-Math.round(-t/100*255))),n.b=Math.max(0,Math.min(255,n.b-Math.round(-t/100*255))),(i=this.colorType(e).toLowerCase())!==s&&i!==r||(a=e.a),this.toColor(n,i,a)},saturate:function(e,t){var n,i,a;if(!this.isColor(e))throw new Error(e+" is not a valid color value!");return(n=this.toHSL(e)).s+=t/100,n.s=d(n.s),(i=this.colorType(e).toLowerCase())!==s&&i!==r||(a=e.a),this.toColor(n,i,a)},desaturate:function(e,t){var n,i,a;if(!this.isColor(e))throw new Error(e+" is not a valid color value!");return(n=this.toHSL(e)).s-=t/100,n.s=d(n.s),(i=this.colorType(e).toLowerCase())!==s&&i!==r||(a=e.a),this.toColor(n,i,a)},hueShift:function(e,t,n,i){var a,o=this.toHSV(e),l=this.colorType(e).toLowerCase(),c=o.h,u=n||0,h=i||0;for(c+=t||0;c>=360;)c-=360;for(;c<0;)c+=360;return o.h=c,o.s+=u,o.s>1&&(o.s=1),o.s<0&&(o.s=0),o.v+=h,o.v>1&&(o.v=1),o.v<0&&(o.v=0),l!==s&&l!==r||(a=e.a),this.toColor(o,l,a)},shade:function(e,t){if(!this.isColor(e))throw new Error(e+" is not a valid color value!");t/=100;var n,i,a,o,l=this.colorType(e).toLowerCase(),c=this.toRGB(e),u=t<0?0:255,h=t<0?-1*t:t;return n=Math.round((u-c.r)*h)+c.r,i=Math.round((u-c.g)*h)+c.g,a=Math.round((u-c.b)*h)+c.b,l!==s&&l!==r||(o=e.a),this.toColor(new p(n,i,a),l,o)},mix:function(e,t,n){n=0===n?0:n||50;var i=new p(0,0,0),s=this.toRGB(e),a=this.toRGB(t),o=n/100;return i.r=Math.round((a.r-s.r)*o+s.r),i.g=Math.round((a.g-s.g)*o+s.g),i.b=Math.round((a.b-s.b)*o+s.b),this.toHEX(i)},multiply:function(e,t){var n=this.toRGB(e),i=this.toRGB(t),s=new p;return n.b=Math.floor(n.b*i.b/255),n.g=Math.floor(n.g*i.g/255),n.r=Math.floor(n.r*i.r/255),this.toHEX(s)},materialPalette:function(e,n){var i=t.extend({},u,n),s=i.baseLight,a="self"!==i.baseDark&&i.baseDark?i.baseDark:this.multiply(e,e);return{50:this.mix(s,e,10),100:this.mix(s,e,30),200:this.mix(s,e,50),300:this.mix(s,e,70),400:this.mix(s,e,85),500:this.mix(s,e,100),600:this.mix(a,e,92),700:this.mix(a,e,83),800:this.mix(a,e,74),900:this.mix(a,e,65),A100:this.lighten(this.saturate(this.mix(a,e,15),80),65),A200:this.lighten(this.saturate(this.mix(a,e,15),80),55),A400:this.lighten(this.saturate(this.mix(s,e,100),55),10),A700:this.lighten(this.saturate(this.mix(a,e,83),65),10)}},monochromatic:function(e,n){for(var i=t.extend({},u,n),s=i.resultType,a=i.results,o=this.toHSV(e),r=o.h,l=o.s,c=o.v,h=[],d=1/a,p=this;a--;)h.push(new m(r,l,c)),c=(c+d)%1;return h.map((function(e){return p["to"+s.toUpperCase()](e)}))},complementary:function(e,n){var i=t.extend({},u,n),s=this.toHSL(e),a=this,o=i.resultType;return[s,new v(h(s.h,180),s.s,s.l)].map((function(e){return a["to"+o.toUpperCase()](e)}))},splitComplementary:function(e,n){var i=t.extend({},u,n),s=this.toHSL(e),a=s.h,o=this,r=i.resultType,l=i.angle;return[s,new v(h(a,180-l),s.s,s.l),new v(h(a,180+l),s.s,s.l)].map((function(e){return o["to"+r.toUpperCase()](e)}))},doubleComplementary:function(e,n){var i=t.extend({},u,n),s=i.resultType,a=i.angle,o=this.toHSL(e),r=o.h,l=this;return[o,new v(h(r,180),o.s,o.l),new v(h(r,a),o.s,o.l),new v(h(r,180+a),o.s,o.l)].map((function(e){return l["to"+s.toUpperCase()](e)}))},square:function(e,n){var i,s=t.extend({},u,n).resultType,a=[],o=this.toHSL(e),r=o.h,l=this;for(a.push(o),i=1;i<4;i++)r=h(r,90),a.push(new v(r,o.s,o.l));return a.map((function(e){return l["to"+s.toUpperCase()](e)}))},tetradic:function(e,n){var i=t.extend({},u,n),s=i.resultType,a=i.angle,o=this.toHSL(e),r=o.h,l=this;return[o,new v(h(r,180),o.s,o.l),new v(h(r,180-a),o.s,o.l),new v(h(r,-a),o.s,o.l)].map((function(e){return l["to"+s.toUpperCase()](e)}))},triadic:function(e,n){var i=t.extend({},u,n).resultType,s=this.toHSL(e),a=s.h,o=this;return[s,new v(h(a,120),s.s,s.l),new v(h(a,240),s.s,s.l)].map((function(e){return o["to"+i.toUpperCase()](e)}))},analogous:function(e,n){var i=t.extend({},u,n),s=i.resultType,a=i.angle,o=this.toHSL(e),r=this;return[o,new v(h(o.h,-a),o.s,o.l),new v(h(o.h,+a),o.s,o.l)].map((function(e){return r["to"+s.toUpperCase()](e)}))},createScheme:function(e,t,n){switch(t.toLowerCase()){case"analogous":case"analog":return this.analogous(e,n);case"triadic":case"triad":return this.triadic(e,n);case"tetradic":case"tetra":return this.tetradic(e,n);case"monochromatic":case"mono":return this.monochromatic(e,n);case"complementary":case"complement":case"comp":return this.complementary(e,n);case"double-complementary":case"double-complement":case"double":return this.doubleComplementary(e,n);case"split-complementary":case"split-complement":case"split":return this.splitComplementary(e,n);case"square":return this.square(e,n);case"material":return this.materialPalette(e,n)}},getScheme:function(){return this.createScheme.apply(this,arguments)},add:function(e,t,n){var i="string"==typeof e?this.parse(e):e,s="string"==typeof t?this.parse(t):t,a=this.toRGBA(i),o=this.toRGBA(s),r=new f,l=(""+n).toLowerCase()||"hex";return r.r=Math.round((a.r+o.r)/2),r.g=Math.round((a.g+o.g)/2),r.b=Math.round((a.b+o.b)/2),r.a=Math.round((a.a+o.a)/2),this["to"+l.toUpperCase()](r)}},w=function(e,t){this._setValue(e),this._setOptions(t)};w.prototype={_setValue:function(e){var t;t="string"==typeof e?y.parse(e):e,y.isColor(t)||(t="#000000"),this._value=t,this._type=y.colorType(this._value)},_setOptions:function(e){e="object"==typeof e?e:{},this._options=t.extend({},u,e)},getOptions:function(){return this._options},setOptions:function(e){this._setOptions(e)},setValue:function(e){this._setValue(e)},getValue:function(){return this._value},channel:function(e,t){var n=this._type.toUpperCase();return["red","green","blue"].indexOf(e)>-1&&(this.toRGB(),this._value[e[0]]=t,this["to"+n]()),"alpha"===e&&this._value.a&&(this._value.a=t),["hue","saturation","value"].indexOf(e)>-1&&(this.toHSV(),this._value[e[0]]=t,this["to"+n]()),["lightness"].indexOf(e)>-1&&(this.toHSL(),this._value[e[0]]=t,this["to"+n]()),["cyan","magenta","yellow","black"].indexOf(e)>-1&&(this.toCMYK(),this._value[e[0]]=t,this["to"+n]()),this},channels:function(e){var n=this;return t.each(e,(function(e,t){n.channel(e,t)})),this},toRGB:function(){return this._value=y.toRGB(this._value),this._type=i,this},rgb:function(){return this._value?new w(y.toRGB(this._value)):void 0},toRGBA:function(e){return y.isRGBA(this._value)?e&&(this._value=y.toRGBA(this._value,e)):this._value=y.toRGBA(this._value,e),this._type=s,this},rgba:function(e){return this._value?new w(y.toRGBA(this._value,e)):void 0},toHEX:function(){return this._value=y.toHEX(this._value),this._type=n,this},hex:function(){return this._value?new w(y.toHEX(this._value)):void 0},toHSV:function(){return this._value=y.toHSV(this._value),this._type=a,this},hsv:function(){return this._value?new w(y.toHSV(this._value)):void 0},toHSL:function(){return this._value=y.toHSL(this._value),this._type=o,this},hsl:function(){return this._value?new w(y.toHSL(this._value)):void 0},toHSLA:function(e){return y.isHSLA(this._value)?e&&(this._value=y.toHSLA(this._value,e)):this._value=y.toHSLA(this._value,e),this._type=r,this},hsla:function(e){return this._value?new w(y.toHSLA(this._value,e)):void 0},toCMYK:function(){return this._value=y.toCMYK(this._value),this._type=l,this},cmyk:function(){return this._value?new w(y.toCMYK(this._value)):void 0},toWebsafe:function(){return this._value=y.websafe(this._value),this._type=y.colorType(this._value),this},websafe:function(){return this._value?new w(y.websafe(this._value)):void 0},toString:function(){return this._value?y.colorToString(this._value):"undefined"},toDarken:function(e){return this._value=y.darken(this._value,e),this},darken:function(e){return new w(y.darken(this._value,e))},toLighten:function(e){return this._value=y.lighten(this._value,e),this},lighten:function(e){return new w(y.lighten(this._value,e))},isDark:function(){return this._value?y.isDark(this._value):void 0},isLight:function(){return this._value?y.isLight(this._value):void 0},toHueShift:function(e,t,n){return this._value=y.hueShift(this._value,e,t,n),this},hueShift:function(e,t,n){return new w(y.hueShift(this._value,e,t,n))},toGrayscale:function(){return this._value=y.grayscale(this._value,this._type),this},grayscale:function(){return new w(y.grayscale(this._value,this._type))},type:function(){return y.colorType(this._value)},createScheme:function(e,t,n){return this._value?y.createScheme(this._value,e,t,n):void 0},getScheme:function(){return this.createScheme.apply(this,arguments)},equal:function(e){return y.equal(this._value,e)},toAdd:function(e){return this._value=y.add(this._value,e,this._type),this},add:function(e){return new w(y.add(this._value,e,this._type))}},e.colors=y.init(),window.Color=e.Color=w,window.ColorPrimitive=e.colorPrimitive={RGB:p,RGBA:f,HSV:m,HSL:v,HSLA:g,CMYK:b},!0===window.METRO_GLOBAL_COMMON&&(window.Colors=e.colors)}(Metro,m4q),function(e,t){var n=e.utils,i={accordionDeferred:0,showMarker:!0,material:!1,duration:METRO_ANIMATION_DURATION,oneFrame:!0,showActive:!0,activeFrameClass:"",activeHeadingClass:"",activeContentClass:"",clsFrame:"",clsHeading:"",clsContent:"",clsAccordion:"",clsActiveFrame:"",clsActiveFrameHeading:"",clsActiveFrameContent:"",onFrameOpen:e.noop,onFrameBeforeOpen:e.noop_true,onFrameClose:e.noop,onFrameBeforeClose:e.noop_true,onAccordionCreate:e.noop};e.accordionSetup=function(e){i=t.extend({},i,e)},void 0!==typeof window.metroAccordionSetup&&e.accordionSetup(window.metroAccordionSetup),e.Component("accordion",{init:function(e,t){return this._super(t,e,i),this},_create:function(){var e=this.element;this._createStructure(),this._createEvents(),this._fireEvent("accordionCreate",{element:e})},_createStructure:function(){var e,n=this,i=this.element,s=this.options,a=i.children(".frame"),o=i.children(".frame.active");i.addClass("accordion").addClass(s.clsAccordion),a.addClass(s.clsFrame).each((function(){var e=t(this);e.children(".heading").addClass(s.clsHeading),e.children(".content").addClass(s.clsContent)})),!0===s.showMarker&&i.addClass("marker-on"),!0===s.material&&i.addClass("material"),e=0===o.length?a[0]:o[0],this._hideAll(),!0===s.showActive&&(!0===s.oneFrame?this._openFrame(e):t.each(o,(function(){n._openFrame(this)})))},_createEvents:function(){var n=this,i=this.element,s=this.options,a=i.children(".frame.active");i.on(e.events.click,".heading",(function(){var e=t(this),o=e.parent();if(e.closest(".accordion")[0]!==i[0])return!1;o.hasClass("active")?1===a.length&&s.oneFrame||n._closeFrame(o):n._openFrame(o)}))},_openFrame:function(e){var i=this.element,s=this.options,a=t(e);if(!1===n.exec(s.onFrameBeforeOpen,[a[0]],i[0]))return!1;!0===s.oneFrame&&this._closeAll(a[0]),a.addClass("active "+s.activeFrameClass).addClass(s.clsActiveFrame),a.children(".heading").addClass(s.activeHeadingClass).addClass(s.clsActiveFrameHeading),a.children(".content").addClass(s.activeContentClass).addClass(s.clsActiveFrameContent).slideDown(s.duration),this._fireEvent("frameOpen",{frame:a[0]})},_closeFrame:function(e){var i=this.element,s=this.options,a=t(e);a.hasClass("active")&&!1!==n.exec(s.onFrameBeforeClose,[a[0]],i[0])&&(a.removeClass("active "+s.activeFrameClass).removeClass(s.clsActiveFrame),a.children(".heading").removeClass(s.activeHeadingClass).removeClass(s.clsActiveFrameHeading),a.children(".content").removeClass(s.activeContentClass).removeClass(s.clsActiveFrameContent).slideUp(s.duration),this._fireEvent("frameClose",{frame:a[0]}))},_closeAll:function(e){var n=this,i=this.element.children(".frame");t.each(i,(function(){e!==this&&n._closeFrame(this)}))},_hideAll:function(){var e=this.element.children(".frame");t.each(e,(function(){t(this).children(".content").hide()}))},_openAll:function(){var e=this,n=this.element.children(".frame");t.each(n,(function(){e._openFrame(this)}))},open:function(e){var t=this.element.children(".frame").eq(e);this._openFrame(t)},changeAttribute:function(e,t){},destroy:function(){var t=this.element;return t.off(e.events.click,".heading"),t}})}(Metro,m4q),function(e,t){var n=e.utils,i={appbarDeferred:0,expand:!1,expandPoint:null,duration:100,onMenuOpen:e.noop,onMenuClose:e.noop,onBeforeMenuOpen:e.noop,onBeforeMenuClose:e.noop,onMenuCollapse:e.noop,onMenuExpand:e.noop,onAppBarCreate:e.noop};e.appBarSetup=function(e){i=t.extend({},i,e)},void 0!==typeof window.metroAppBarSetup&&e.appBarSetup(window.metroAppBarSetup),e.Component("app-bar",{init:function(e,t){return this._super(t,e,i,{id:n.elementId("app-bar")}),this},_create:function(){var e=this.element;this._createStructure(),this._createEvents(),this._fireEvent("app-bar-create",{element:e})},_createStructure:function(){var i,s,a=this.element,o=this.options,r=n.getStyleOne(a,"background-color");if(a.addClass("app-bar"),0===(i=a.find(".hamburger")).length){i=t("<button>").attr("type","button").addClass("hamburger menu-down");for(var l=0;l<3;l++)t("<span>").addClass("line").appendTo(i);"rgba(0, 0, 0, 0)"!==r&&!0!==e.colors.isLight(r)||i.addClass("dark")}a.prepend(i),0===(s=a.find(".app-bar-menu")).length?i.css("display","none"):n.addCssRule(e.sheet,".app-bar-menu li","list-style: none!important;"),"block"===i.css("display")?(s.hide().addClass("collapsed"),i.removeClass("hidden")):i.addClass("hidden"),(!0===o.expand||n.isValue(o.expandPoint)&&n.mediaExist(o.expandPoint))&&(a.addClass("app-bar-expand"),i.addClass("hidden"))},_createEvents:function(){var i=this,s=this.element,a=this.options,o=s.find(".app-bar-menu"),r=s.find(".hamburger");s.on(e.events.click,".hamburger",(function(){0!==o.length&&(o.hasClass("collapsed")?i.open():i.close())})),t(window).on(e.events.resize,(function(){!0!==a.expand&&(n.isValue(a.expandPoint)&&n.mediaExist(a.expandPoint)?(s.addClass("app-bar-expand"),i._fireEvent("menu-expand")):(s.removeClass("app-bar-expand"),i._fireEvent("menu-collapse"))),0!==o.length&&("block"!==r.css("display")?(o.show((function(){t(this).removeStyleProperty("display")})),r.addClass("hidden")):(r.removeClass("hidden"),r.hasClass("active")?o.show().removeClass("collapsed"):o.hide().addClass("collapsed")))}),{ns:this.id})},close:function(){var e=this,t=this.element,n=this.options,i=t.find(".app-bar-menu"),s=t.find(".hamburger");e._fireEvent("before-menu-close",{menu:i[0]}),i.slideUp(n.duration,(function(){i.addClass("collapsed").removeClass("opened"),s.removeClass("active"),e._fireEvent("menu-close",{menu:i[0]})}))},open:function(){var e=this,t=this.element,n=this.options,i=t.find(".app-bar-menu"),s=t.find(".hamburger");e._fireEvent("before-menu-open",{menu:i[0]}),i.slideDown(n.duration,(function(){i.removeClass("collapsed").addClass("opened"),s.addClass("active"),e._fireEvent("menu-open",{menu:i[0]})}))},changeAttribute:function(e){},destroy:function(){var n=this.element;return n.off(e.events.click,".hamburger"),t(window).off(e.events.resize,{ns:this.id}),n}})}(Metro,m4q),function(e,t){var n=e.utils,i={dropdownDeferred:0,dropFilter:null,toggleElement:null,noClose:!1,duration:50,checkDropUp:!1,dropUp:!1,onDrop:e.noop,onUp:e.noop,onDropdownCreate:e.noop};e.dropdownSetup=function(e){i=t.extend({},i,e)},void 0!==typeof window.metroDropdownSetup&&e.dropdownSetup(window.metroDropdownSetup),e.Component("dropdown",{init:function(e,t){return this._super(t,e,i,{_toggle:null,displayOrigin:null,isOpen:!1}),this},_create:function(){var e=this,t=this.element;this._createStructure(),this._createEvents(),this._fireEvent("dropdown-create",{element:t}),t.hasClass("open")&&(t.removeClass("open"),setTimeout((function(){e.open(!0)}),0))},_createStructure:function(){var e,i=this.element,s=this.options;s.dropUp&&i.addClass("drop-up"),e=null!==s.toggleElement?t(s.toggleElement):i.siblings(".dropdown-toggle").length>0?i.siblings(".dropdown-toggle"):i.prev(),this.displayOrigin=n.getStyleOne(i,"display"),i.hasClass("v-menu")&&i.addClass("for-dropdown"),i.css("display","none"),this._toggle=e},_createEvents:function(){var i=this,s=this.element,a=this.options,o=this._toggle,r=s.parent();o.on(e.events.click,(function(e){if(t(".active-container").removeClass("active-container"),"none"===s.css("display")||s.hasClass("keep-open")){if(t("[data-role*=dropdown]").each((function(e,o){s.parents("[data-role*=dropdown]").is(o)||t(o).hasClass("keep-open")||"none"===t(o).css("display")||(n.isValue(a.dropFilter)?t(o).closest(a.dropFilter).length>0&&i._close(o):i._close(o))})),s.hasClass("horizontal")){s.css({visibility:"hidden",display:"block"});var o=0;t.each(s.children("li"),(function(){o+=t(this).outerWidth(!0)})),s.css({visibility:"visible",display:"none"}),s.css("width",o)}i._open(s),r.addClass("active-container")}else i._close(s);e.preventDefault(),e.stopPropagation()})),!0===a.noClose&&s.addClass("keep-open").on(e.events.click,(function(e){e.stopPropagation()})),t(s).find("li.disabled a").on(e.events.click,(function(e){e.preventDefault()}))},_close:function(n,i){n=t(n);var s=e.getPlugin(n,"dropdown"),a=s._toggle,o=s.options,r="slideUp";a.removeClass("active-toggle").removeClass("active-control"),s.element.parent().removeClass("active-container"),i&&(r="hide"),n[r](i?0:o.duration,(function(){s._fireEvent("close"),s._fireEvent("up"),!o.dropUp&&o.checkDropUp&&s.element.removeClass("drop-up")})),this.isOpen=!1},_open:function(i,s){i=t(i);var a=e.getPlugin(i,"dropdown"),o=a._toggle,r=a.options;o.addClass("active-toggle").addClass("active-control"),i.slideDown(s?0:r.duration,(function(){!r.dropUp&&r.checkDropUp&&(n.inViewport(a.element[0])||(a.element.addClass("drop-up"),n.inViewport(a.element[0])||a.element.removeClass("drop-up"))),a._fireEvent("open"),a._fireEvent("drop")})),this.isOpen=!0},close:function(e){this._close(this.element,e)},open:function(e){this._open(this.element,e)},toggle:function(){this.isOpen?this.close():this.open()},changeAttribute:function(){},destroy:function(){this._toggle.off(e.events.click)}}),t(document).on(e.events.click,(function(){t("[data-role*=dropdown]").each((function(){var n=t(this);"none"===n.css("display")||n.hasClass("keep-open")||n.hasClass("stay-open")||n.hasClass("ignore-document-click")||e.getPlugin(n,"dropdown").close()}))}))}(Metro,m4q),function(e,t){var n={loop:!0,source:"img",iconClose:"<span class='default-icon-cross'>",iconPrev:"<span class='default-icon-chevron-left'>",iconNext:"<span class='default-icon-chevron-right'>",clsNext:"",clsPrev:"",clsClose:"",clsImage:"",clsImageContainer:"",clsImageWrapper:"",clsLightbox:"",onDrawImage:e.noop,onLightboxCreate:e.noop};e.lightboxSetup=function(e){n=t.extend({},n,e)},void 0!==typeof window.metroLightboxSetup&&e.lightboxSetup(window.metroLightboxSetup),e.Component("lightbox",{init:function(e,t){return this._super(t,e,n,{overlay:null,lightbox:null,current:null,items:[]}),this},_create:function(){var e=this.options;e.source||(e.source="img"),this._createStructure(),this._createEvents(),this._fireEvent("lightbox-create")},_createStructure:function(){var e,n,i=this.options;0===(n=t(".lightbox-overlay")).length&&(n=t("<div>").addClass("lightbox-overlay").appendTo("body").hide()),e=t("<div>").addClass("lightbox").addClass(i.clsLightbox).appendTo("body").hide(),t("<span>").addClass("lightbox__prev").addClass(i.clsPrev).html(i.iconPrev).appendTo(e),t("<span>").addClass("lightbox__next").addClass(i.clsNext).html(i.iconNext).appendTo(e),t("<span>").addClass("lightbox__closer").addClass(i.clsClose).html(i.iconClose).appendTo(e),t("<div>").addClass("lightbox__image").addClass(i.clsImageContainer).appendTo(e),this.component=e[0],this.lightbox=e,this.overlay=n},_createEvents:function(){var n=this,i=this.element,s=this.options,a=t(this.component);i.on(e.events.click,s.source,(function(){n.open(this)})),a.on(e.events.click,".lightbox__closer",(function(){n.close()})),a.on(e.events.click,".lightbox__prev",(function(){n.prev()})),a.on(e.events.click,".lightbox__next",(function(){n.next()}))},_setupItems:function(){var e=this.element,t=this.options,n=e.find(t.source);0!==n.length&&(this.items=n)},_goto:function(n){var i,s,a,o,r=this,l=this.options,c=t(n),u=t("<img>");(s=this.lightbox.find(".lightbox__image")).find(".lightbox__image-wrapper").remove(),a=t("<div>").addClass("lightbox__image-wrapper").addClass(l.clsImageWrapper).attr("data-title",c.attr("alt")||c.attr("data-title")||"").appendTo(s),o=t("<div>").appendTo(a),e.makePlugin(o,"activity",{type:"cycle",style:"color"}),this.current=n,"IMG"!==n.tagName&&"DIV"!==n.tagName||(i=c.attr("data-original")||c.attr("src"),u.attr("src",i),u[0].onload=function(){var e=this.height>this.width;u.addClass(e?"lightbox__image-portrait":"lightbox__image-landscape").addClass(l.clsImage),u.attr("alt",c.attr("alt")),u.appendTo(a),o.remove(),r._fireEvent("draw-image",{image:u[0],item:a[0]})})},_index:function(e){var t=-1;return this.items.each((function(n){this===e&&(t=n)})),t},next:function(){var e,t=this.current;if((e=this._index(t))+1>=this.items.length){if(!this.options.loop)return;e=-1}this._goto(this.items[e+1])},prev:function(){var e,t=this.current;if((e=this._index(t))-1<0){if(!this.options.loop)return;e=this.items.length}this._goto(this.items[e-1])},open:function(e){return this._setupItems(),this._goto(e),this.overlay.show(),this.lightbox.show(),this},close:function(){this.overlay.hide(),this.lightbox.hide()},changeAttribute:function(){},destroy:function(){this.element.remove()}})}(Metro,m4q),function(e,t){var n=e.utils,i={tabsDeferred:0,expand:!1,expandPoint:null,tabsPosition:"top",tabsType:"default",updateUri:!1,clsTabs:"",clsTabsList:"",clsTabsListItem:"",clsTabsListItemActive:"",onTab:e.noop,onTabOpen:e.noop,onTabClose:e.noop,onBeforeTab:e.noop_true,onTabsCreate:e.noop};e.tabsSetup=function(e){i=t.extend({},i,e)},void 0!==typeof window.metroTabsSetup&&e.tabsSetup(window.metroTabsSetup),e.Component("tabs",{init:function(e,t){return this._super(t,e,i,{_targets:[],id:n.elementId("tabs")}),this},_create:function(){var e=this.element;this.options;var n=e.find(".active").length>0?t(e.find(".active")[0]):void 0;this._createStructure(),this._createEvents(),this._open(n),this._fireEvent("tabs-create",{element:e})},_createStructure:function(){var i,s,a=this.element,o=this.options,r=a.parent(),l=r.hasClass("tabs"),c=l?r:t("<div>").addClass("tabs tabs-wrapper");if(c.addClass(o.tabsPosition.replace(["-","_","+"]," ")),a.addClass("tabs-list"),"default"!==o.tabsType&&a.addClass("tabs-"+o.tabsType),l||(c.insertBefore(a),a.appendTo(c)),a.data("expanded",!1),i=t("<div>").addClass("expand-title"),c.prepend(i),0===(s=c.find(".hamburger")).length){s=t("<button>").attr("type","button").addClass("hamburger menu-down").appendTo(c);for(var u=0;u<3;u++)t("<span>").addClass("line").appendTo(s);!0===e.colors.isLight(n.getStyleOne(c,"background-color"))&&s.addClass("dark")}c.addClass(o.clsTabs),a.addClass(o.clsTabsList),a.children("li").addClass(o.clsTabsListItem),!0!==o.expand||o.tabsPosition.includes("vertical")?n.isValue(o.expandPoint)&&n.mediaExist(o.expandPoint)&&!o.tabsPosition.includes("vertical")&&c.addClass("tabs-expand"):c.addClass("tabs-expand"),o.tabsPosition.includes("vertical")&&c.addClass("tabs-expand")},_createEvents:function(){var i=this,s=this.element,a=this.options,o=s.parent();t(window).on(e.events.resize,(function(){a.tabsPosition.includes("vertical")||(!0!==a.expand||a.tabsPosition.includes("vertical")?n.isValue(a.expandPoint)&&n.mediaExist(a.expandPoint)&&!a.tabsPosition.includes("vertical")?o.hasClass("tabs-expand")||o.addClass("tabs-expand"):o.hasClass("tabs-expand")&&o.removeClass("tabs-expand"):o.addClass("tabs-expand"))}),{ns:this.id}),o.on(e.events.click,".hamburger, .expand-title",(function(){!1===s.data("expanded")?(s.addClass("expand"),s.data("expanded",!0),o.find(".hamburger").addClass("active")):(s.removeClass("expand"),s.data("expanded",!1),o.find(".hamburger").removeClass("active"))})),s.on(e.events.click,"a",(function(e){var r=t(this),l=r.attr("href").trim(),c=r.parent("li");if(i._fireEvent("tab",{tab:c[0],target:c.children("a").attr("href")}),c.hasClass("active")&&e.preventDefault(),!0===s.data("expanded")&&(s.removeClass("expand"),s.data("expanded",!1),o.find(".hamburger").removeClass("active")),!0!==n.exec(a.onBeforeTab,[c,s],c[0]))return!1;n.isValue(l)&&"#"===l[0]&&(i._open(c),e.preventDefault())})),t(window).on("hashchange",(function(e){var n,s;a.updateUri&&(n=window.location.hash,s=i._findTabByTarget(n),i._open(t(s)))}))},_findTabByTarget:function(e){var n=this.element.find("li"),i=void 0;return n.each((function(n,s){i||t(s).children("a").attr("href")!==e||(i=s)})),i},_collectTargets:function(){var e=this,n=this.element.find("li");this._targets=[],t.each(n,(function(){var n=t(this).find("a").attr("href").trim();n.length>1&&"#"===n[0]&&e._targets.push(n)}))},_open:function(e){var n=this.element,i=this.options,s=n.find("li"),a=n.siblings(".expand-title"),o=n.find("li.active");if(0!==s.length){this._collectTargets(),void 0===e&&(e=t(s[0]));var r=e.find("a").attr("href");void 0!==r&&(s.removeClass("active").removeClass(i.clsTabsListItemActive),e.parent().hasClass("d-menu")?e.parent().parent().addClass("active"):e.addClass("active"),t.each(this._targets,(function(){var e=t(this);e.length>0&&e.hide()})),"#"!==r&&"#"===r[0]&&(i.updateUri&&(window.location.hash=r),t(r).show()),a.html(e.find("a").html()),e.addClass(i.clsTabsListItemActive),o.is(e)||(this._fireEvent("tab-open",{tab:e[0],target:e.children("a").attr("href")}),this._fireEvent("tab-close",{tab:o[0],target:o.children("a").attr("href")})))}},next:function(){var e;(e=this.element.find("li.active").next("li")).length>0&&this._open(e)},prev:function(){var e;(e=this.element.find("li.active").prev("li")).length>0&&this._open(e)},openByTarget:function(e){var n=this._findTabByTarget(e);n&&this._open(t(n))},open:function(e){var i=this.element.find("li");n.isValue(e)||(e=1),n.isInt(e)?n.isValue(i[e-1])&&this._open(t(i[e-1])):this._open(t(e))},changeAttribute:function(){},destroy:function(){var n=this.element,i=n.parent();return t(window).off(e.events.resize,{ns:this.id}),i.off(e.events.click,".hamburger, .expand-title"),n.off(e.events.click,"a"),n}})}(Metro,m4q),function(e,t){var n=e.utils,i={useCurrentSlice:!1,showInspectorButton:!1,inspectorButtonIcon:"<span class='default-icon-equalizer'>",tableDeferred:0,templateBeginToken:"<%",templateEndToken:"%>",paginationDistance:5,locale:METRO_LOCALE,horizontalScroll:!1,horizontalScrollStop:null,check:!1,checkType:"checkbox",checkStyle:1,checkColIndex:0,checkName:null,checkStoreKey:"TABLE:$1:KEYS",rownum:!1,rownumTitle:"#",filters:null,filtersOperator:"and",head:null,body:null,static:!1,source:null,searchMinLength:1,searchThreshold:500,searchFields:null,showRowsSteps:!0,showSearch:!0,showTableInfo:!0,showPagination:!0,paginationShortMode:!0,showActivity:!0,muteTable:!0,showSkip:!1,rows:10,rowsSteps:"10,25,50,100",staticView:!1,viewSaveMode:"client",viewSavePath:"TABLE:$1:OPTIONS",sortDir:"asc",decimalSeparator:".",thousandSeparator:",",tableRowsCountTitle:null,tableSearchTitle:null,tableSearchPlaceholder:"",tableInfoTitle:null,paginationPrevTitle:null,paginationNextTitle:null,allRecordsTitle:null,inspectorTitle:null,tableSkipTitle:null,emptyTableTitle:null,activityType:"atom",activityStyle:"color",activityTimeout:100,searchWrapper:null,rowsWrapper:null,infoWrapper:null,paginationWrapper:null,skipWrapper:null,cellWrapper:!0,clsComponent:"",clsTableContainer:"",clsTable:"",clsHead:"",clsHeadRow:"",clsHeadCell:"",clsBody:"",clsBodyRow:"",clsBodyCell:"",clsCellWrapper:"",clsFooter:"",clsFooterRow:"",clsFooterCell:"",clsTableTop:"",clsRowsCount:"",clsSearch:"",clsTableBottom:"",clsTableInfo:"",clsTablePagination:"",clsPagination:"",clsTableSkip:"",clsTableSkipInput:"",clsTableSkipButton:"",clsEvenRow:"",clsOddRow:"",clsRow:"",clsEmptyTableTitle:"",onDraw:e.noop,onDrawRow:e.noop,onDrawCell:e.noop,onAppendRow:e.noop,onAppendCell:e.noop,onSortStart:e.noop,onSortStop:e.noop,onSortItemSwitch:e.noop,onSearch:e.noop,onRowsCountChange:e.noop,onDataLoad:e.noop,onDataLoadError:e.noop,onDataLoaded:e.noop,onDataLoadEnd:e.noop,onDataSaveError:e.noop,onFilterRowAccepted:e.noop,onFilterRowDeclined:e.noop,onCheckClick:e.noop,onCheckClickAll:e.noop,onCheckDraw:e.noop,onViewSave:e.noop,onViewGet:e.noop,onViewCreated:e.noop,onTableCreate:e.noop,onSkip:e.noop};e.tableSetup=function(e){i=t.extend({},i,e)},void 0!==typeof window.metroTableSetup&&e.tableSetup(window.metroTableSetup),e.Component("table",{init:function(t,s){return this._super(s,t,i,{currentPage:1,pagesCount:1,searchString:"",data:null,activity:null,loadActivity:null,busy:!1,filters:[],wrapperInfo:null,wrapperSearch:null,wrapperRows:null,wrapperPagination:null,wrapperSkip:null,filterIndex:null,filtersIndexes:[],component:null,inspector:null,view:{},viewDefault:{},locale:e.locales["en-US"],input_interval:null,searchFields:[],id:n.elementId("table"),sort:{dir:"asc",colIndex:0},service:[],heads:[],items:[],foots:[],filteredItems:[],currentSlice:[],index:{}}),this},_create:function(){var i,s,a,o=this,r=this.element,l=this.options,c=n.elementId("table");if(n.isValue(r.attr("id"))||r.attr("id",c),n.isValue(e.locales[l.locale])&&(this.locale=e.locales[l.locale]),n.isValue(l.searchFields)&&(this.searchFields=l.searchFields.toArray()),n.isValue(l.head)){var u=l.head;l.head=n.isObject(l.head),l.head||(console.warn("Head "+u+" defined but not exists!"),l.head=null)}if(n.isValue(l.body)){var h=l.body;l.body=n.isObject(l.body),l.body||(console.warn("Body "+h+" defined but not exists!"),l.body=null)}if(!0===l.static&&(l.showPagination=!1,l.showRowsSteps=!1,l.showSearch=!1,l.showTableInfo=!1,l.showSkip=!1,l.rows=-1),(i=t("<div>").addClass("table-component")).insertBefore(r),s=t("<div>").addClass("table-container").addClass(l.clsTableContainer).appendTo(i),r.appendTo(s),!0===l.horizontalScroll&&s.addClass("horizontal-scroll"),!n.isNull(l.horizontalScrollStop)&&n.mediaExist(l.horizontalScrollStop)&&s.removeClass("horizontal-scroll"),i.addClass(l.clsComponent),this.activity=t("<div>").addClass("table-progress").appendTo(i),a=t("<div>").appendTo(this.activity),e.makePlugin(a,"activity",{type:l.activityType,style:l.activityStyle}),!0!==l.showActivity&&this.activity.css({visibility:"hidden"}),this.component=i[0],null!==l.source){this._fireEvent("data-load",{source:l.source});var d=n.isObject(l.source);!1!==d&&t.isPlainObject(d)?o._build(d):this.activity.show((function(){fetch(l.source).then(e.fetch.status).then(e.fetch.json).then((function(e){if(o.activity.hide(),"object"!=typeof e)throw new Error("Data for table is not a object");o._fireEvent("data-loaded",{source:l.source,data:e}),o._build(e)})).catch((function(e){o.activity.hide(),o._fireEvent("data-load-error",{source:l.source,error:e})}))}))}else o._build()},_createIndex:function(){var e=this,t=this.options.checkColIndex;setImmediate((function(){e.items.forEach((function(n,i){e.index[n[t]]=i}))}))},_build:function(t){var i,s,a=this,o=this.element,r=this.options,l=o.attr("id");r.rows=+r.rows,this.items=[],this.heads=[],this.foots=[],Array.isArray(r.head)&&(this.heads=r.head),Array.isArray(r.body)&&(this.items=r.body),n.isValue(t)?this._createItemsFromJSON(t):this._createItemsFromHTML(),this._createIndex(),this.view=this._createView(),this.viewDefault=n.objectClone(this.view),s=r.viewSavePath.replace("$1",l),"client"===r.viewSaveMode.toLowerCase()?(i=e.storage.getItem(s),n.isValue(i)&&n.objectLength(i)===n.objectLength(this.view)&&(this.view=i,this._fireEvent("view-get",{source:"client",view:i})),this._final()):fetch(s).then(e.fetch.status).then(e.fetch.json).then((function(e){n.isValue(e)&&n.objectLength(e)===n.objectLength(a.view)&&(a.view=e,a._fireEvent("view-get",{source:"server",view:e})),a._final()})).catch((function(e){a._final(),console.warn("Warning! Error loading view for table "+o.attr("id")+": "+e)}))},_final:function(){var t=this.element,n=this.options,i=t.attr("id");e.storage.delItem(n.checkStoreKey.replace("$1",i)),this._service(),this._createStructure(),this._createInspector(),this._createEvents(),this._fireEvent("table-create",{element:t})},_service:function(){var e=this.options;this.service=[{title:e.rownumTitle,format:void 0,name:void 0,sortable:!1,sortDir:void 0,clsColumn:"rownum-cell "+(!0!==e.rownum?"d-none":""),cls:"rownum-cell "+(!0!==e.rownum?"d-none":""),colspan:void 0,type:"rownum"},{title:"checkbox"===e.checkType?"<input type='checkbox' data-role='checkbox' class='table-service-check-all' data-style='"+e.checkStyle+"'>":"",format:void 0,name:void 0,sortable:!1,sortDir:void 0,clsColumn:"check-cell "+(!0!==e.check?"d-none":""),cls:"check-cell "+(!0!==e.check?"d-none":""),colspan:void 0,type:"rowcheck"}]},_createView:function(){var e;return e={},t.each(this.heads,(function(t){n.isValue(this.cls)&&(this.cls=this.cls.replace("hidden","")),n.isValue(this.clsColumn)&&(this.clsColumn=this.clsColumn.replace("hidden","")),e[t]={index:t,"index-view":t,show:!n.isValue(this.show)||this.show,size:n.isValue(this.size)?this.size:""}})),this._fireEvent("view-created",{view:e}),e},_createInspectorItems:function(e){var i,s,a=this,o=this.options,r=[],l=this.heads;for(e.html(""),i=0;i<l.length;i++)r[i]=null;for(t.each(l,(function(e){(s=t("<tr>")).data("index",e),s.data("index-view",e),t("<td>").html("<input type='checkbox' data-style='"+o.checkStyle+"' data-role='checkbox' name='column_show_check[]' value='"+e+"' "+(n.bool(a.view[e].show)?"checked":"")+">").appendTo(s),t("<td>").html(this.title).appendTo(s),t("<td>").html("<input type='number' data-role='spinner' name='column_size' value='"+a.view[e].size+"' data-index='"+e+"'>").appendTo(s),t("<td>").html("<button class='button square js-table-inspector-field-up' type='button'><span class='mif-arrow-up'></span></button><button class='button square js-table-inspector-field-down' type='button'><span class='mif-arrow-down'></span></button>").appendTo(s),r[a.view[e]["index-view"]]=s})),i=0;i<l.length;i++)r[i].appendTo(e)},_createInspector:function(){var e,n,i,s,a,o=this.options;(e=t("<div data-role='draggable' data-drag-element='.table-inspector-header' data-drag-area='body'>").addClass("table-inspector")).attr("for",this.element.attr("id")),t("<div class='table-inspector-header'>"+(o.inspectorTitle||this.locale.table.inspector)+"</div>").appendTo(e),n=t("<div>").addClass("table-wrap").appendTo(e),i=t("<table>").addClass("table subcompact"),s=t("<tbody>").appendTo(i),i.appendTo(n),this._createInspectorItems(s),a=t("<div class='table-inspector-actions'>").appendTo(e),t("<button class='button primary js-table-inspector-save' type='button'>").html(this.locale.buttons.save).appendTo(a),t("<button class='button secondary js-table-inspector-reset ml-2 mr-2' type='button'>").html(this.locale.buttons.reset).appendTo(a),t("<button class='button link js-table-inspector-cancel place-right' type='button'>").html(this.locale.buttons.cancel).appendTo(a),e.data("open",!1),this.inspector=e,t("body").append(e),this._createInspectorEvents()},_resetInspector:function(){var e=this.inspector.find("table tbody");this._createInspectorItems(e),this._createInspectorEvents()},_createHeadsFromHTML:function(){var e=this,i=this.element.find("thead");i.length>0&&t.each(i.find("tr > *"),(function(){var i,s,a,o=t(this);o.hasClass("rownum-cell")||o.hasClass("check-cell")||(i=n.isValue(o.data("sort-dir"))?o.data("sort-dir"):o.hasClass("sort-asc")?"asc":o.hasClass("sort-desc")?"desc":void 0,a=(a=(a=(a=o[0].className.replace("sortable-column","")).replace("sort-asc","")).replace("sort-desc","")).replace("hidden",""),s={type:"data",title:o.html(),name:n.isValue(o.data("name"))?o.data("name"):o.text().replace(" ","_"),sortable:o.hasClass("sortable-column")||n.isValue(o.data("sortable"))&&!0===JSON.parse(o.data("sortable")),sortDir:i,format:n.isValue(o.data("format"))?o.data("format"):"string",formatMask:n.isValue(o.data("format-mask"))?o.data("format-mask"):null,clsColumn:n.isValue(o.data("cls-column"))?o.data("cls-column"):"",cls:a,colspan:o.attr("colspan"),size:n.isValue(o.data("size"))?o.data("size"):"",show:!(o.hasClass("hidden")||n.isValue(o.data("show"))&&!1===JSON.parse(o.data("show"))),required:!!n.isValue(o.data("required"))&&!0===JSON.parse(o.data("required")),field:n.isValue(o.data("field"))?o.data("field"):"input",fieldType:n.isValue(o.data("field-type"))?o.data("field-type"):"text",validator:n.isValue(o.data("validator"))?o.data("validator"):null,template:n.isValue(o.data("template"))?o.data("template"):null},e.heads.push(s))}))},_createFootsFromHTML:function(){var e=this,i=this.element.find("tfoot");i.length>0&&t.each(i.find("tr > *"),(function(){var i,s=t(this);i={title:s.html(),name:!!n.isValue(s.data("name"))&&s.data("name"),cls:s[0].className,colspan:s.attr("colspan")},e.foots.push(i)}))},_createItemsFromHTML:function(){var e=this,n=this.element.find("tbody");n.length>0&&t.each(n.find("tr"),(function(){var n=t(this),i=[];t.each(n.children("td"),(function(){var e=t(this);i.push(e.html())})),e.items.push(i)})),this._createHeadsFromHTML(),this._createFootsFromHTML()},_createItemsFromJSON:function(e){var n=this;"string"==typeof e&&(e=JSON.parse(e)),void 0!==e.header?n.heads=e.header:this._createHeadsFromHTML(),void 0!==e.data&&t.each(e.data,(function(){var e=[];t.each(this,(function(){e.push(this)})),n.items.push(e)})),void 0!==e.footer?this.foots=e.footer:this._createFootsFromHTML()},_createTableHeader:function(){var e,i,s,a=this.element,o=this.options,r=a.find("thead"),l=[],c=o.staticView?this._createView():this.view;if(0===r.length&&(r=t("<thead>"),a.prepend(r)),r.clear().addClass(o.clsHead),0===this.heads.length)return r;for(e=t("<tr>").addClass(o.clsHeadRow).appendTo(r),t.each(this.service,(function(){var i=this,s=[],a=t("<th>");n.isValue(i.title)&&a.html(i.title),n.isValue(i.size)&&a.css({width:i.size}),n.isValue(i.cls)&&s.push(i.cls),s.push(o.clsHeadCell),a.addClass(s.join(" ")),e.append(a)})),s=this.heads,i=0;i<s.length;i++)l[i]=null;for(t.each(s,(function(e){var i=this,s=[],a=t("<th>");a.data("index",e),n.isValue(i.title)&&a.html(i.title),n.isValue(i.format)&&a.attr("data-format",i.format),n.isValue(i.formatMask)&&a.attr("data-format-mask",i.formatMask),n.isValue(i.name)&&a.attr("data-name",i.name),n.isValue(i.colspan)&&a.attr("colspan",i.colspan),n.isValue(i.size)&&a.attr("data-size",i.size),n.isValue(i.sortable)&&a.attr("data-sortable",i.sortable),n.isValue(i.sortDir)&&a.attr("data-sort-dir",i.sortDir),n.isValue(i.clsColumn)&&a.attr("data-cls-column",i.clsColumn),n.isValue(i.cls)&&a.attr("data-cls",i.cls),n.isValue(i.colspan)&&a.attr("colspan",i.colspan),n.isValue(i.show)&&a.attr("data-show",i.show),n.isValue(i.required)&&a.attr("data-required",i.required),n.isValue(i.field)&&a.attr("data-field",i.field),n.isValue(i.fieldType)&&a.attr("data-field-type",i.fieldType),n.isValue(i.validator)&&a.attr("data-validator",i.validator),n.isValue(i.template)&&a.attr("data-template",i.template),n.isValue(c[e].size)&&a.css({width:c[e].size}),!0===i.sortable&&(s.push("sortable-column"),n.isValue(i.sortDir)&&s.push("sort-"+i.sortDir)),n.isValue(i.cls)&&t.each(i.cls.toArray(),(function(){s.push(this)})),!1===n.bool(c[e].show)&&-1===s.indexOf("hidden")&&s.push("hidden"),s.push(o.clsHeadCell),n.bool(c[e].show)&&n.arrayDelete(s,"hidden"),a.addClass(s.join(" ")),l[c[e]["index-view"]]=a})),i=0;i<s.length;i++)l[i].appendTo(e)},_createTableBody:function(){var e,n,i=this.element;n=i.find("thead"),0===(e=i.find("tbody")).length&&(e=t("<tbody>").addClass(this.options.clsBody),0!==n.length?e.insertAfter(n):i.append(e)),e.clear()},_createTableFooter:function(){var e,i,s=this.element,a=this.options,o=s.find("tfoot");0===o.length&&(o=t("<tfoot>").appendTo(s)),o.clear().addClass(a.clsFooter),0!==this.foots.length&&(e=t("<tr>").addClass(a.clsHeadRow).appendTo(o),t.each(this.foots,(function(){var s=this;i=t("<th>").appendTo(e),void 0!==s.title&&i.html(s.title),void 0!==s.name&&i.addClass("foot-column-name-"+s.name),void 0!==s.cls&&i.addClass(s.cls),n.isValue(s.colspan)&&i.attr("colspan",s.colspan),i.appendTo(e)})))},_createTopBlock:function(){var i,s,a,o,r=this,l=this.element,c=this.options,u=t("<div>").addClass("table-top").addClass(c.clsTableTop).insertBefore(l.parent());return(i=n.isValue(this.wrapperSearch)?this.wrapperSearch:t("<div>").addClass("table-search-block").addClass(c.clsSearch).appendTo(u)).addClass(c.clsSearch),s=t("<input>").attr("type","text").attr("placeholder",c.tableSearchPlaceholder).appendTo(i),e.makePlugin(s,"input",{prepend:c.tableSearchTitle||r.locale.table.search}),!0!==c.showSearch&&i.hide(),(a=n.isValue(this.wrapperRows)?this.wrapperRows:t("<div>").addClass("table-rows-block").appendTo(u)).addClass(c.clsRowsCount),o=t("<select>").appendTo(a),t.each(c.rowsSteps.toArray(),(function(){var e=parseInt(this),n=t("<option>").attr("value",e).text(-1===e?c.allRecordsTitle||r.locale.table.all:e).appendTo(o);e===parseInt(c.rows)&&n.attr("selected","selected")})),e.makePlugin(o,"select",{filter:!1,prepend:c.tableRowsCountTitle||r.locale.table.rowsCount,onChange:function(e){(e=parseInt(e))!==parseInt(c.rows)&&(c.rows=e,r.currentPage=1,r._draw(),r._fireEvent("rows-count-change",{val:e}))}}),c.showInspectorButton&&t("<button>").addClass("button inspector-button").attr("type","button").html(c.inspectorButtonIcon).insertAfter(a),!0!==c.showRowsSteps&&a.hide(),u},_createBottomBlock:function(){var e,i,s,a=this.element,o=this.options,r=t("<div>").addClass("table-bottom").addClass(o.clsTableBottom).insertAfter(a.parent());return(e=n.isValue(this.wrapperInfo)?this.wrapperInfo:t("<div>").addClass("table-info").appendTo(r)).addClass(o.clsTableInfo),!0!==o.showTableInfo&&e.hide(),(i=n.isValue(this.wrapperPagination)?this.wrapperPagination:t("<div>").addClass("table-pagination").appendTo(r)).addClass(o.clsTablePagination),!0!==o.showPagination&&i.hide(),(s=n.isValue(this.wrapperSkip)?this.wrapperSkip:t("<div>").addClass("table-skip").appendTo(r)).addClass(o.clsTableSkip),t("<input type='text'>").addClass("input table-skip-input").addClass(o.clsTableSkipInput).appendTo(s),t("<button>").addClass("button table-skip-button").addClass(o.clsTableSkipButton).html(o.tableSkipTitle||this.locale.table.skip).appendTo(s),!0!==o.showSkip&&s.hide(),r},_createStructure:function(){var e,i=this,s=this.element,a=this.options,o=t(a.searchWrapper),r=t(a.infoWrapper),l=t(a.rowsWrapper),c=t(a.paginationWrapper),u=t(a.skipWrapper);o.length>0&&(this.wrapperSearch=o),r.length>0&&(this.wrapperInfo=r),l.length>0&&(this.wrapperRows=l),c.length>0&&(this.wrapperPagination=c),u.length>0&&(this.wrapperSkip=u),s.addClass(a.clsTable),this._createTableHeader(),this._createTableBody(),this._createTableFooter(),this._createTopBlock(),this._createBottomBlock();var h,d=!1;this.heads.length>0&&t.each(this.heads,(function(e){!d&&["asc","desc"].indexOf(this.sortDir)>-1&&(d=!0,i.sort.colIndex=e,i.sort.dir=this.sortDir)})),d&&(e=s.find("thead th"),this._resetSortClass(e),t(e.get(this.sort.colIndex+i.service.length)).addClass("sort-"+this.sort.dir),this.sorting()),n.isValue(a.filters)&&"string"==typeof a.filters&&t.each(a.filters.toArray(),(function(){!1!==(h=n.isFunc(this))&&i.filtersIndexes.push(i.addFilter(h))})),this.currentPage=1,this._draw()},_resetSortClass:function(e){t(e).removeClass("sort-asc sort-desc")},_createEvents:function(){var i,s=this,a=this.element,o=this.options,r=a.closest(".table-component"),l=r.find(".table-container"),c=r.find(".table-search-block input"),u=o.skipWrapper?t(o.skipWrapper).find(".table-skip-button"):r.find(".table-skip-button"),h=o.skipWrapper?t(o.skipWrapper).find(".table-skip-input"):r.find(".table-skip-input"),d=a.attr("id");r.find(".inspector-button").on(e.events.click,(function(){s.toggleInspector()})),u.on(e.events.click,(function(){var e=parseInt(h.val().trim());if(isNaN(e)||e<=0||e>s.pagesCount)return h.val(""),!1;h.val(""),s._fireEvent("skip",{skipTo:e,skipFrom:s.currentPage}),s.page(e)})),t(window).on(e.events.resize,(function(){!0===o.horizontalScroll&&(!n.isNull(o.horizontalScrollStop)&&n.mediaExist(o.horizontalScrollStop)?l.removeClass("horizontal-scroll"):l.addClass("horizontal-scroll"))}),{ns:this.id}),a.on(e.events.click,".sortable-column",(function(){if(!0===o.muteTable&&a.addClass("disabled"),s.busy)return!1;s.busy=!0;var e=t(this);s.activity.show((function(){setImmediate((function(){s.currentPage=1,s.sort.colIndex=e.data("index"),e.hasClass("sort-asc")||e.hasClass("sort-desc")?e.hasClass("sort-asc")?s.sort.dir="desc":s.sort.dir="asc":s.sort.dir=o.sortDir,s._resetSortClass(a.find(".sortable-column")),e.addClass("sort-"+s.sort.dir),s.sorting(),s._draw((function(){s.busy=!1,!0===o.muteTable&&a.removeClass("disabled")}))}))}))})),a.on(e.events.click,".table-service-check input",(function(){var i=t(this),a=i.is(":checked"),r=""+i.val(),l=o.checkStoreKey.replace("$1",d),c=e.storage,u=c.getItem(l);"radio"===i.attr("type")&&(u=[]),a?n.isValue(u)?-1===Array(u).indexOf(r)&&u.push(r):u=[r]:n.isValue(u)?n.arrayDelete(u,r):u=[],c.setItem(l,u),s._fireEvent("check-click",{check:this,status:a,data:u})})),a.on(e.events.click,".table-service-check-all input",(function(){var n,i=t(this).is(":checked"),a=o.checkStoreKey.replace("$1",d),r=e.storage,l=[];!0===o.useCurrentSlice?(n=r.getItem(a,[]),i?t.each(s.currentSlice,(function(){-1===n.indexOf(""+this[o.checkColIndex])&&n.push(""+this[o.checkColIndex])})):t.each(s.currentSlice,(function(){var t=""+this[o.checkColIndex];-1!==n.indexOf(t)&&e.utils.arrayDelete(n,t)})),l=n):i?t.each(s.filteredItems,(function(){-1===l.indexOf(this[o.checkColIndex])&&l.push(""+this[o.checkColIndex])})):l=[],r.setItem(a,l),s._draw(),s._fireEvent("check-click-all",{check:this,status:i,data:l})}));var p=function(){s.searchString=this.value.trim().toLowerCase(),clearInterval(s.input_interval),s.input_interval=!1,s.input_interval||(s.input_interval=setTimeout((function(){s.currentPage=1,s._draw(),clearInterval(s.input_interval),s.input_interval=!1}),o.searchThreshold))};function f(e){var n=t(e),i=n.parent();0!==s.filteredItems.length&&(i.hasClass("active")||(i.hasClass("service")?"prev"===n.data("page")?(s.currentPage--,0===s.currentPage&&(s.currentPage=1)):(s.currentPage++,s.currentPage>s.pagesCount&&(s.currentPage=s.pagesCount)):s.currentPage=n.data("page"),s._draw()))}c.on(e.events.inputchange,p),n.isValue(this.wrapperSearch)&&(i=this.wrapperSearch.find("input")).length>0&&i.on(e.events.inputchange,p),r.on(e.events.click,".pagination .page-link",(function(){f(this)})),n.isValue(this.wrapperPagination)&&this.wrapperPagination.on(e.events.click,".pagination .page-link",(function(){f(this)})),this._createInspectorEvents(),a.on(e.events.click,".js-table-crud-button",(function(){}))},_createInspectorEvents:function(){var i=this,s=this.inspector;this._removeInspectorEvents(),s.on(e.events.click,".js-table-inspector-field-up",(function(){var e,n=t(this).closest("tr"),s=n.prev("tr"),a=n.data("index");0!==s.length&&(n.insertBefore(s),n.addClass("flash"),setTimeout((function(){n.removeClass("flash")}),1e3),e=n.index(),n.data("index-view",e),i.view[a]["index-view"]=e,t.each(n.nextAll(),(function(){var n=t(this);e++,n.data("index-view",e),i.view[n.data("index")]["index-view"]=e})),i._createTableHeader(),i._draw())})),s.on(e.events.click,".js-table-inspector-field-down",(function(){var e,n=t(this).closest("tr"),s=n.next("tr"),a=n.data("index");0!==s.length&&(n.insertAfter(s),n.addClass("flash"),setTimeout((function(){n.removeClass("flash")}),1e3),e=n.index(),n.data("index-view",e),i.view[a]["index-view"]=e,t.each(n.prevAll(),(function(){var n=t(this);e--,n.data("index-view",e),i.view[n.data("index")]["index-view"]=e})),i._createTableHeader(),i._draw())})),s.on(e.events.click,"input[type=checkbox]",(function(){var e=t(this),s=e.is(":checked"),a=e.val(),o=["cls","clsColumn"];s?t.each(o,(function(){var e;e=n.isValue(i.heads[a][this])?i.heads[a][this].toArray(" "):[],n.arrayDelete(e,"hidden"),i.heads[a][this]=e.join(" "),i.view[a].show=!0})):t.each(o,(function(){var e;-1===(e=n.isValue(i.heads[a][this])?i.heads[a][this].toArray(" "):[]).indexOf("hidden")&&e.push("hidden"),i.heads[a][this]=e.join(" "),i.view[a].show=!1})),i._createTableHeader(),i._draw()})),s.find("input[type=number]").on(e.events.inputchange,(function(){var e=t(this),n=e.attr("data-index"),s=parseInt(e.val());i.view[n].size=0===s?"":s,i._createTableHeader()})),s.on(e.events.click,".js-table-inspector-save",(function(){i._saveTableView(),i.openInspector(!1)})),s.on(e.events.click,".js-table-inspector-cancel",(function(){i.openInspector(!1)})),s.on(e.events.click,".js-table-inspector-reset",(function(){i.resetView()}))},_removeInspectorEvents:function(){var t=this.inspector;t.off(e.events.click,".js-table-inspector-field-up"),t.off(e.events.click,".js-table-inspector-field-down"),t.off(e.events.click,"input[type=checkbox]"),t.off(e.events.click,".js-table-inspector-save"),t.off(e.events.click,".js-table-inspector-cancel"),t.off(e.events.click,".js-table-inspector-reset"),t.find("input[type=number]").off(e.events.inputchange)},_saveTableView:function(){var t=this,n=this.element,i=this.options,s=this.view,a=n.attr("id"),o=i.viewSavePath.replace("$1",a),r=e.storage;if("client"===i.viewSaveMode.toLowerCase())r.setItem(o,s),this._fireEvent("view-save",{target:"client",path:i.viewSavePath,view:s});else{var l={id:n.attr("id"),view:s};fetch(o,{method:"POST",body:JSON.stringify(l),header:{"Content-type":"application/json;charset=utf-8"}}).then(e.fetch.status).then(e.fetch.text).then((function(e){t._fireEvent("view-save",{target:"server",path:i.viewSavePath,view:s,post_data:l,response:e})})).catch((function(e){t._fireEvent("data-save-error",{source:i.viewSavePath,error:e,post_data:l})}))}},_info:function(e,t,i){var s,a=this.element,o=this.options,r=a.closest(".table-component"),l=n.isValue(this.wrapperInfo)?this.wrapperInfo:r.find(".table-info");0!==l.length&&(t>i&&(t=i),0===this.items.length&&(e=t=i=0),s=(s=(s=(s=o.tableInfoTitle||this.locale.table.info).replace("$1",e)).replace("$2",t)).replace("$3",i),l.html(s))},_paging:function(t){var i=this.element,s=this.options,a=i.closest(".table-component");this.pagesCount=Math.ceil(t/s.rows),e.pagination({length:t,rows:s.rows,current:this.currentPage,target:n.isValue(this.wrapperPagination)?this.wrapperPagination:a.find(".table-pagination"),claPagination:s.clsPagination,prevTitle:s.paginationPrevTitle||this.locale.table.prev,nextTitle:s.paginationNextTitle||this.locale.table.next,distance:!0===s.paginationShortMode?s.paginationDistance:0})},_filter:function(){var e,i=this,s=this.options;return e=n.isValue(this.searchString)&&i.searchString.length>=s.searchMinLength||this.filters.length>0?this.items.filter((function(e){var a,o,r,l="",c=0;if(i.filters.length>0){for(a="and"===s.filtersOperator.toLowerCase(),r=0;r<i.filters.length;r++)n.isNull(i.filters[r])||(c++,a="and"===s.filtersOperator.toLowerCase()?a&&n.exec(i.filters[r],[e,i.heads]):a||n.exec(i.filters[r],[e,i.heads]));0===c&&(a=!0)}else a=!0;return i.searchFields.length>0?t.each(i.heads,(function(t,n){i.searchFields.indexOf(n.name)>-1&&(l+="•"+e[t])})):l=e.join("•"),l=l.replace(/[\n\r]+|[\s]{2,}/g," ").trim().toLowerCase(),o=!(n.isValue(i.searchString)&&i.searchString.length>=s.searchMinLength)||~l.indexOf(i.searchString),(a=a&&o)?i._fireEvent("filter-row-accepted",{row:e}):i._fireEvent("filter-row-declined",{row:e}),a})):this.items,this._fireEvent("search",{search:i.searchString,items:e}),this.filteredItems=e,e},_draw:function(i){var s,a,o,r,l,c,u,h,d,p=this,f=this.element,m=this.options,v=f.find("tbody"),g=-1===parseInt(m.rows)?0:m.rows*(this.currentPage-1),b=-1===parseInt(m.rows)?this.items.length-1:g+m.rows-1,y=[],w=e.storage.getItem(m.checkStoreKey.replace("$1",f.attr("id"))),C=m.staticView?this.viewDefault:this.view;if(v.html(""),this.heads.length){if(d=this._filter(),this.currentSlice=d.slice(g,b+1),y=[],d.length>0){for(s=g;s<=b;s++)if(c=d[s],u=[],n.isValue(c)){for((o=t("<tr>").addClass(m.clsBodyRow)).data("original",c),h=s%2==0,r=t("<td>").html(s+1),void 0!==p.service[0].clsColumn&&r.addClass(p.service[0].clsColumn),r.appendTo(o),r=t("<td>"),l="checkbox"===m.checkType?t("<input type='checkbox' data-style='"+m.checkStyle+"' data-role='checkbox' name='"+(n.isValue(m.checkName)?m.checkName:"table_row_check")+"[]' value='"+d[s][m.checkColIndex]+"'>"):t("<input type='radio' data-style='"+m.checkStyle+"' data-role='radio' name='"+(n.isValue(m.checkName)?m.checkName:"table_row_check")+"' value='"+d[s][m.checkColIndex]+"'>"),n.isValue(w)&&Array.isArray(w)&&w.indexOf(""+d[s][m.checkColIndex])>-1&&(l.prop("checked",!0),y.push(c)),l.addClass("table-service-check"),this._fireEvent("check-draw",{check:l}),l.appendTo(r),void 0!==p.service[1].clsColumn&&r.addClass(p.service[1].clsColumn),r.appendTo(o),a=0;a<c.length;a++)u[a]=null;for(t.each(c,(function(e){var i=this,s=t("<td>");n.isValue(p.heads[e].template)&&(i=p.heads[e].template.replace(/%VAL%/g,i)),s.html(i),s.addClass(m.clsBodyCell),n.isValue(p.heads[e].clsColumn)&&s.addClass(p.heads[e].clsColumn),!1===n.bool(C[e].show)&&s.addClass("hidden"),n.bool(C[e].show)&&s.removeClass("hidden"),s.data("original",this),u[C[e]["index-view"]]=s,p._fireEvent("draw-cell",{td:s,val:i,cellIndex:e,head:p.heads[e],items:c}),!0===m.cellWrapper&&(i=t("<div>").addClass("data-wrapper").addClass(m.clsCellWrapper).html(s.html()),s.html("").append(i))})),a=0;a<c.length;a++)u[a].appendTo(o),p._fireEvent("append-cell",{td:u[a],tr:o,index:a});p._fireEvent("draw-row",{tr:o,view:p.view,heads:p.heads,items:c}),o.addClass(m.clsRow).addClass(h?m.clsEvenRow:m.clsOddRow).appendTo(v),p._fireEvent("append-row",{tr:o})}t(this.component).find(".table-service-check-all input").prop("checked",y.length)}else a=0,t.each(C,(function(){this.show&&a++})),!0===m.check&&a++,!0===m.rownum&&a++,o=t("<tr>").addClass(m.clsBodyRow).appendTo(v),(r=t("<td>").attr("colspan",a).addClass("text-center").html(t("<span>").addClass(m.clsEmptyTableTitle).html(m.emptyTableTitle||p.locale.table.empty))).appendTo(o);this._info(g+1,b+1,d.length),this._paging(d.length),this.activity&&this.activity.hide(),this._fireEvent("draw"),void 0!==i&&n.exec(i,null,f[0])}else console.warn("Heads is not defined for table ID "+f.attr("id"))},_getItemContent:function(e){var t,i=this.options,s=e[this.sort.colIndex],a=this.heads[this.sort.colIndex].format,o=n.isNull(this.heads)||n.isNull(this.heads[this.sort.colIndex])||!n.isValue(this.heads[this.sort.colIndex].formatMask)?"%Y-%m-%d":this.heads[this.sort.colIndex].formatMask,r=this.heads&&this.heads[this.sort.colIndex]&&this.heads[this.sort.colIndex].thousandSeparator?this.heads[this.sort.colIndex].thousandSeparator:i.thousandSeparator,l=this.heads&&this.heads[this.sort.colIndex]&&this.heads[this.sort.colIndex].decimalSeparator?this.heads[this.sort.colIndex].decimalSeparator:i.decimalSeparator;if(t=(""+s).toLowerCase().replace(/[\n\r]+|[\s]{2,}/g," ").trim(),n.isValue(t)&&n.isValue(a))switch(-1!==["number","int","float","money"].indexOf(a)&&(t=n.parseNumber(t,r,l)),a){case"date":t=o?Datetime.from(t,o,i.locale):datetime(t);break;case"number":t=+t;break;case"int":t=parseInt(t);break;case"float":t=parseFloat(t);break;case"money":t=n.parseMoney(t);break;case"card":t=n.parseCard(t);break;case"phone":t=n.parsePhone(t)}return t},addItem:function(e,t){if(!Array.isArray(e))return console.warn("Item is not an array and can't be added"),this;this.items.push(e),!1!==t&&this.draw()},addItems:function(e,t){if(!Array.isArray(e))return console.warn("Items is not an array and can't be added"),this;e.forEach((function(e){Array.isArray(e)&&this.items.push(e,!1)})),this.draw(),!1!==t&&this.draw()},updateItem:function(e,t,i){var s=this.items[this.index[e]],a=null;return n.isNull(s)?(console.warn("Item is undefined for update"),this):(isNaN(t)&&this.heads.forEach((function(e,n){e.name===t&&(a=n)})),n.isNull(a)?(console.warn("Item is undefined for update. Field "+t+" not found in data structure"),this):(s[a]=i,this.items[this.index[e]]=s,this))},getItem:function(e){return this.items[this.index[e]]},deleteItem:function(e,t){var i,s=[],a=n.isFunc(t);for(i=0;i<this.items.length;i++)a?n.exec(t,[this.items[i][e]])&&s.push(i):this.items[i][e]===t&&s.push(i);return this.items=n.arrayDeleteByMultipleKeys(this.items,s),this},deleteItemByName:function(e,t){var i,s,a=[],o=n.isFunc(t);for(i=0;i<this.heads.length;i++)if(this.heads[i].name===e){s=i;break}for(i=0;i<this.items.length;i++)o?n.exec(t,[this.items[i][s]])&&a.push(i):this.items[i][s]===t&&a.push(i);return this.items=n.arrayDeleteByMultipleKeys(this.items,a),this},draw:function(){return this._draw(),this},sorting:function(e){var t=this;return n.isValue(e)&&(this.sort.dir=e),this._fireEvent("sort-start",{items:this.items}),this.items.sort((function(e,n){var i=t._getItemContent(e),s=t._getItemContent(n),a=0;return i<s&&(a="asc"===t.sort.dir?-1:1),i>s&&(a="asc"===t.sort.dir?1:-1),0!==a&&t._fireEvent("sort-item-switch",{a:e,b:n,result:a}),a})),this._fireEvent("sort-stop",{items:this.items}),this},search:function(e){return this.searchString=e.trim().toLowerCase(),this.currentPage=1,this._draw(),this},_rebuild:function(e){var n,i=this,s=this.element,a=!1;this._createIndex(),!0===e&&(this.view=this._createView()),this._createTableHeader(),this._createTableBody(),this._createTableFooter(),this.heads.length>0&&t.each(this.heads,(function(e){!a&&["asc","desc"].indexOf(this.sortDir)>-1&&(a=!0,i.sort.colIndex=e,i.sort.dir=this.sortDir)})),a&&(n=s.find(".sortable-column"),this._resetSortClass(n),t(n.get(i.sort.colIndex)).addClass("sort-"+i.sort.dir),this.sorting()),i.currentPage=1,i._draw()},setHeads:function(e){return this.heads=e,this},setHeadItem:function(e,t){var n,i;for(n=0;n<this.heads.length;n++)if(this.heads[n].name===e){i=n;break}return this.heads[i]=t,this},setItems:function(e){return this.items=e,this},setData:function(e){var t=this,n=this.options;return this.activity.show((function(){t.items=[],t.heads=[],t.foots=[],Array.isArray(n.head)&&(t.heads=n.head),Array.isArray(n.body)&&(t.items=n.body),t._createItemsFromJSON(e),t._rebuild(!0),t.activity.hide()})),this},loadData:function(t,i){var s=this,a=this.element,o=this.options;n.isValue(i)||(i=!0),a.html(""),n.isValue(t)?(o.source=t,this._fireEvent("data-load",{source:o.source}),s.activity.show((function(){fetch(o.source).then(e.fetch.status).then(e.fetch.json).then((function(e){s.activity.hide(),s.items=[],s.heads=[],s.foots=[],s._fireEvent("data-loaded",{source:o.source,data:e}),Array.isArray(o.head)&&(s.heads=o.head),Array.isArray(o.body)&&(s.items=o.body),s._createItemsFromJSON(e),s._rebuild(i),s._resetInspector(),s._fireEvent("data-load-end",{source:o.source,data:e})})).catch((function(e){s.activity.hide(),s._fireEvent("data-load-error",{source:o.source,error:e})}))}))):this._rebuild(i)},reload:function(e){this.loadData(this.options.source,e)},clear:function(){return this.items=[],this.draw()},next:function(){if(0!==this.items.length){if(this.currentPage++,!(this.currentPage>this.pagesCount))return this._draw(),this;this.currentPage=this.pagesCount}},prev:function(){if(0!==this.items.length){if(this.currentPage--,0!==this.currentPage)return this._draw(),this;this.currentPage=1}},first:function(){if(0!==this.items.length)return this.currentPage=1,this._draw(),this},last:function(){if(0!==this.items.length)return this.currentPage=this.pagesCount,this._draw(),this},page:function(e){return e<=0&&(e=1),e>this.pagesCount&&(e=this.pagesCount),this.currentPage=e,this._draw(),this},addFilter:function(e,t){var i,s=null,a=n.isFunc(e);if(!1!==a){for(i=0;i<this.filters.length;i++)if(n.isNull(this.filters[i])){s=i,this.filters[i]=a;break}return n.isNull(s)&&(this.filters.push(a),s=this.filters.length-1),!0===t&&(this.currentPage=1,this.draw()),s}},removeFilter:function(e,t){return this.filters[e]=null,!0===t&&(this.currentPage=1,this.draw()),this},removeFilters:function(e){return this.filters=[],!0===e&&(this.currentPage=1,this.draw()),this},getItems:function(){return this.items},getHeads:function(){return this.heads},getView:function(){return this.view},getFilteredItems:function(){return this.filteredItems.length>0?this.filteredItems:this.items},getSelectedItems:function(){var i=this.element,s=this.options,a=e.storage.getItem(s.checkStoreKey.replace("$1",i.attr("id"))),o=[];return n.isValue(a)?(t.each(this.items,(function(){-1!==a.indexOf(""+this[s.checkColIndex])&&o.push(this)})),o):[]},getStoredKeys:function(){var t=this.element,n=this.options;return e.storage.getItem(n.checkStoreKey.replace("$1",t.attr("id")),[])},clearSelected:function(t){var n=this.element,i=this.options;e.storage.setItem(i.checkStoreKey.replace("$1",n.attr("id")),[]),n.find("table-service-check-all input").prop("checked",!1),!0===t&&this._draw()},getFilters:function(){return this.filters},getFiltersIndexes:function(){return this.filtersIndexes},openInspector:function(e){var n=this.inspector;e?n.show(0,(function(){n.css({top:(t(window).height()-n.outerHeight(!0))/2+pageYOffset,left:(t(window).width()-n.outerWidth(!0))/2+pageXOffset}).data("open",!0)})):n.hide().data("open",!1)},closeInspector:function(){this.openInspector(!1)},toggleInspector:function(){this.openInspector(!this.inspector.data("open"))},resetView:function(){this.view=this._createView(),this._createTableHeader(),this._createTableFooter(),this._draw(),this._resetInspector(),this._saveTableView()},rebuildIndex:function(){this._createIndex()},getIndex:function(){return this.index},export:function(i,s,a,o){var r,l,c,u,h,d,p,f,m=e.export,v=this,g=this.options,b=document.createElement("table"),y=t("<thead>").appendTo(b),w=t("<tbody>").appendTo(b),C=[];if("function"==typeof m.tableToCSV){for(s=n.isValue(s)?s.toLowerCase():"all-filtered",a=n.isValue(a)?a:n.elementId("table")+"-export.csv",h=t("<tr>"),c=this.heads,l=0;l<c.length;l++)C[l]=null;for(t.each(c,(function(e){!1!==n.bool(v.view[e].show)&&(d=t("<th>"),n.isValue(this.title)&&d.html(this.title),C[v.view[e]["index-view"]]=d)})),l=0;l<c.length;l++)n.isValue(C[l])&&C[l].appendTo(h);for(h.appendTo(y),"checked"===s?(p=0,f=(u=this.getSelectedItems()).length-1):"view"===s?(u=this._filter(),p=-1===parseInt(g.rows)?0:g.rows*(this.currentPage-1),f=-1===parseInt(g.rows)?u.length-1:p+g.rows-1):"all"===s?(p=0,f=(u=this.items).length-1):(p=0,f=(u=this._filter()).length-1),r=p;r<=f;r++)if(n.isValue(u[r])){for(h=t("<tr>"),c=u[r],l=0;l<c.length;l++)C[l]=null;for(t.each(c,(function(e){!1!==n.bool(v.view[e].show)&&(d=t("<td>").html(this),C[v.view[e]["index-view"]]=d)})),l=0;l<c.length;l++)n.isValue(C[l])&&C[l].appendTo(h);h.appendTo(w)}m.tableToCSV(b,a,o),b.remove()}},changeAttribute:function(e){var t=this,i=this.element,s=this.options;switch(e){case"data-check":s.check=n.bool(i.attr("data-check")),t._service(),t._createTableHeader(),t._draw();break;case"data-rownum":s.rownum=n.bool(i.attr("data-rownum")),t._service(),t._createTableHeader(),t._draw()}},destroy:function(){var i=this.element,s=i.closest(".table-component"),a=s.find("input"),o=s.find("select");if(a.data("input").destroy(),o.data("select").destroy(),t(window).off(e.events.resize,{ns:this.id}),i.off(e.events.click,".sortable-column"),i.off(e.events.click,".table-service-check input"),i.off(e.events.click,".table-service-check-all input"),a.off(e.events.inputchange),n.isValue(this.wrapperSearch)){var r=this.wrapperSearch.find("input");r.length>0&&r.off(e.events.inputchange)}return s.off(e.events.click,".pagination .page-link"),n.isValue(this.wrapperPagination)&&this.wrapperPagination.off(e.events.click,".pagination .page-link"),i.off(e.events.click,".js-table-crud-button"),this._removeInspectorEvents(),i}})}(Metro,m4q),function(e,t){var n=e.utils,i={dialogDeferred:0,closeButton:!1,leaveOverlayOnClose:!1,toTop:!1,toBottom:!1,locale:METRO_LOCALE,title:"",content:"",actions:{},actionsAlign:"right",defaultAction:!0,overlay:!0,overlayColor:"#000000",overlayAlpha:.5,overlayClickClose:!1,width:"480",height:"auto",shadow:!0,closeAction:!0,clsDialog:"",clsTitle:"",clsContent:"",clsAction:"",clsDefaultAction:"",clsOverlay:"",autoHide:0,removeOnClose:!1,show:!1,_runtime:!1,onShow:e.noop,onHide:e.noop,onOpen:e.noop,onClose:e.noop,onDialogCreate:e.noop};e.dialogSetup=function(e){i=t.extend({},i,e)},void 0!==typeof window.metroDialogSetup&&e.dialogSetup(window.metroDialogSetup),e.Component("dialog",{_counter:0,init:function(e,t){return this._super(t,e,i,{interval:null,overlay:null,id:n.elementId("dialog")}),this},_create:function(){var t=this.options;this.locale=void 0!==e.locales[t.locale]?e.locales[t.locale]:e.locales["en-US"],this._build()},_build:function(){var i,s=this,a=this.element,o=this.options,r=t("body");if(a.addClass("dialog"),!0===o.shadow&&a.addClass("shadow-on"),""!==o.title&&this.setTitle(o.title),""!==o.content&&this.setContent(o.content),!0===o.defaultAction||!1!==o.actions&&"object"==typeof o.actions&&n.objectLength(o.actions)>0){var l,c=a.find(".dialog-actions");0===c.length&&(c=t("<div>").addClass("dialog-actions").addClass("text-"+o.actionsAlign).appendTo(a)),!0===o.defaultAction&&0===n.objectLength(o.actions)&&0===a.find(".dialog-actions > *").length&&(l=t("<button>").addClass("button js-dialog-close").addClass(o.clsDefaultAction).html(this.locale.buttons.ok)).appendTo(c),n.isObject(o.actions)&&t.each(n.isObject(o.actions),(function(){var i=this;l=t("<button>").addClass("button").addClass(i.cls).html(i.caption),void 0!==i.onclick&&l.on(e.events.click,(function(){n.exec(i.onclick,[a])})),l.appendTo(c)}))}!0===o.overlay&&(i=this._overlay(),this.overlay=i),!0===o.closeAction&&a.on(e.events.click,".js-dialog-close",(function(){s.close()}));var u=a.find("closer");0===u.length&&(u=t("<span>").addClass("button square closer js-dialog-close")).appendTo(a),!0!==o.closeButton&&u.hide(),a.css({width:o.width,height:o.height,visibility:"hidden",top:"100%",left:(t(window).width()-a.outerWidth())/2}),a.addClass(o.clsDialog),a.find(".dialog-title").addClass(o.clsTitle),a.find(".dialog-content").addClass(o.clsContent),a.find(".dialog-actions").addClass(o.clsAction),a.appendTo(r),o.show&&this.open(),t(window).on(e.events.resize,(function(){s.setPosition()}),{ns:this.id}),this._fireEvent("dialog-create",{element:a})},_overlay:function(){var n=this.options,i=t("<div>");return i.addClass("overlay").addClass(n.clsOverlay),"transparent"===n.overlayColor?i.addClass("transparent"):i.css({background:e.colors.toRGBA(n.overlayColor,n.overlayAlpha)}),i},hide:function(t){var i=this.element,s=0;this.options.onHide!==e.noop&&(s=500,this._fireEvent("hide")),setTimeout((function(){n.exec(t,null,i[0]),i.css({visibility:"hidden",top:"100%"})}),s)},show:function(e){var t=this.element;this.setPosition(),t.css({visibility:"visible"}),this._fireEvent("show"),n.exec(e,null,t[0])},setPosition:function(){var e,n,i=this.element,s=this.options;!0!==s.toTop&&!0!==s.toBottom?((e=(t(window).height()-i.outerHeight())/2)<0&&(e=0),n="auto"):(!0===s.toTop&&(e=0,n="auto"),!0!==s.toTop&&!0===s.toBottom&&(n=0,e="auto")),i.css({top:e,bottom:n,left:(t(window).width()-i.outerWidth())/2})},setContent:function(e){var i=this.element,s=i.find(".dialog-content");0===s.length&&(s=t("<div>").addClass("dialog-content")).appendTo(i),!n.isQ(e)&&n.isFunc(e)&&(e=n.exec(e)),n.isQ(e)?e.appendTo(s):s.html(e)},setTitle:function(e){var n=this.element,i=n.find(".dialog-title");0===i.length&&(i=t("<div>").addClass("dialog-title")).appendTo(n),i.html(e)},close:function(){var e=this,i=this.element,s=this.options;n.bool(s.leaveOverlayOnClose)||t("body").find(".overlay").remove(),this.hide((function(){i.data("open",!1),e._fireEvent("close"),!0===s.removeOnClose&&i.remove()}))},open:function(){var n=this,i=this.element,s=this.options;!0===s.overlay&&0===t(".overlay").length&&(this.overlay.appendTo(t("body")),!0===s.overlayClickClose&&this.overlay.on(e.events.click,(function(){n.close()}))),this.show((function(){n._fireEvent("open"),i.data("open",!0),parseInt(s.autoHide)>0&&setTimeout((function(){n.close()}),parseInt(s.autoHide))}))},toggle:function(){this.element.data("open")?this.close():this.open()},isOpen:function(){return!0===this.element.data("open")},changeAttribute:function(e){},destroy:function(){var n=this.element;return n.off(e.events.click,".js-dialog-close"),n.find(".button").off(e.events.click),t(window).off(e.events.resize,{ns:this.id}),n}}),e.dialog={isDialog:function(e){return n.isMetroObject(e,"dialog")},open:function(t,n,i){if(!this.isDialog(t))return!1;var s=e.getPlugin(t,"dialog");void 0!==i&&s.setTitle(i),void 0!==n&&s.setContent(n),s.open()},close:function(n){if(!this.isDialog(n))return!1;e.getPlugin(t(n)[0],"dialog").close()},toggle:function(n){if(!this.isDialog(n))return!1;e.getPlugin(t(n)[0],"dialog").toggle()},isOpen:function(n){if(!this.isDialog(n))return!1;e.getPlugin(t(n)[0],"dialog").isOpen()},remove:function(n){if(!this.isDialog(n))return!1;var i=e.getPlugin(t(n)[0],"dialog");i.options.removeOnClose=!0,i.close()},create:function(n){var i;i=t("<div>").appendTo(t("body"));var s=t.extend({},{show:!0,closeAction:!0,removeOnClose:!0},void 0!==n?n:{});return s._runtime=!0,e.makePlugin(i,"dialog",s)}}}(Metro,m4q),function(e,t){var n=e.utils,i={inputDeferred:0,label:"",autocomplete:null,autocompleteUrl:null,autocompleteUrlMethod:"GET",autocompleteUrlKey:null,autocompleteDivider:",",autocompleteListHeight:200,history:!1,historyPreset:"",historyDivider:"|",preventSubmit:!1,defaultValue:"",size:"default",prepend:"",append:"",copyInlineStyles:!1,searchButton:!1,clearButton:!0,revealButton:!0,clearButtonIcon:"<span class='default-icon-cross'></span>",revealButtonIcon:"<span class='default-icon-eye'></span>",searchButtonIcon:"<span class='default-icon-search'></span>",customButtons:[],searchButtonClick:"submit",badge:null,clsComponent:"",clsInput:"",clsPrepend:"",clsAppend:"",clsClearButton:"",clsRevealButton:"",clsCustomButton:"",clsSearchButton:"",clsLabel:"",onAutocompleteSelect:e.noop,onHistoryChange:e.noop,onHistoryUp:e.noop,onHistoryDown:e.noop,onClearClick:e.noop,onRevealClick:e.noop,onSearchButtonClick:e.noop,onEnterClick:e.noop,onInputCreate:e.noop};e.inputSetup=function(e){i=t.extend({},i,e)},void 0!==typeof window.metroInputSetup&&e.inputSetup(window.metroInputSetup),e.Component("input",{init:function(e,t){return this._super(t,e,i,{history:[],historyIndex:-1,autocomplete:[]}),this},_create:function(){var e=this.element;this._createStructure(),this._createEvents(),this._fireEvent("input-create",{element:e})},_createStructure:function(){var e=this,i=this.element,s=this.options,a=t("<div>").addClass("input "+i[0].className),o=t("<div>").addClass("button-group");(n.isValue(s.historyPreset)&&(t.each(s.historyPreset.toArray(s.historyDivider),(function(){e.history.push(this)})),e.historyIndex=e.history.length-1),void 0===i.attr("type")&&i.attr("type","text"),a.insertBefore(i),i.appendTo(a),o.appendTo(a),n.isValue(i.val().trim())||i.val(s.defaultValue),!0!==s.clearButton||i[0].readOnly||t("<button>").addClass("button input-clear-button").addClass(s.clsClearButton).attr("tabindex",-1).attr("type","button").html(s.clearButtonIcon).appendTo(o),"password"===i.attr("type")&&!0===s.revealButton&&t("<button>").addClass("button input-reveal-button").addClass(s.clsRevealButton).attr("tabindex",-1).attr("type","button").html(s.revealButtonIcon).appendTo(o),!0===s.searchButton&&t("<button>").addClass("button input-search-button").addClass(s.clsSearchButton).attr("tabindex",-1).attr("type","submit"===s.searchButtonClick?"submit":"button").html(s.searchButtonIcon).appendTo(o),n.isValue(s.prepend))&&t("<div>").html(s.prepend).addClass("prepend").addClass(s.clsPrepend).appendTo(a);n.isValue(s.append)&&t("<div>").html(s.append).addClass("append").addClass(s.clsAppend).appendTo(a);if("string"==typeof s.customButtons&&(s.customButtons=n.isObject(s.customButtons)),"object"==typeof s.customButtons&&n.objectLength(s.customButtons)>0&&t.each(s.customButtons,(function(){var e=this,n=t("<button>");n.addClass("button input-custom-button").addClass(s.clsCustomButton).addClass(e.cls).attr("tabindex",-1).attr("type","button").html(e.html),e.attr&&"object"==typeof e.attr&&t.each(e.attr,(function(e,t){n.attr(Str.dashedName(e),t)})),n.data("action",e.onclick),n.appendTo(o)})),n.isValue(i.attr("data-exclaim"))&&a.attr("data-exclaim",i.attr("data-exclaim")),"rtl"===i.attr("dir")&&a.addClass("rtl").attr("dir","rtl"),i[0].className="",!0===s.copyInlineStyles)for(var r=0,l=i[0].style.length;r<l;r++)a.css(i[0].style[r],i.css(i[0].style[r]));if(a.addClass(s.clsComponent),i.addClass(s.clsInput),"default"!==s.size&&a.css({width:s.size}),n.isNull(s.autocomplete)&&n.isNull(s.autocompleteUrl)||t("<div>").addClass("autocomplete-list").css({maxHeight:s.autocompleteListHeight,display:"none"}).appendTo(a),n.isValue(s.autocomplete)){var c=n.isObject(s.autocomplete);this.autocomplete=!1!==c?c:s.autocomplete.toArray(s.autocompleteDivider)}if(n.isValue(s.autocompleteUrl)&&fetch(s.autocompleteUrl,{method:s.autocompleteUrlMethod}).then((function(e){return e.text()})).then((function(t){var n=[];try{n=JSON.parse(t),s.autocompleteUrlKey&&(n=n[s.autocompleteUrlKey])}catch(e){n=t.split("\n")}e.autocomplete=e.autocomplete.concat(n)})),s.label){var u=t("<label>").addClass("label-for-input").addClass(s.clsLabel).html(s.label).insertBefore(a);i.attr("id")&&u.attr("for",i.attr("id")),"rtl"===i.attr("dir")&&u.addClass("rtl")}s.badge&&a.append(t("<div>").addClass("badge").html(s.badge)),i.is(":disabled")?this.disable():this.enable()},_createEvents:function(){var i=this,s=this.element,a=this.options,o=s.closest(".input"),r=o.find(".autocomplete-list");o.on(e.events.click,".input-clear-button",(function(){var e=s.val();s.val(n.isValue(a.defaultValue)?a.defaultValue:"").fire("clear").fire("change").fire("keyup").focus(),r.length>0&&r.css({display:"none"}),i._fireEvent("clear-click",{prev:e,val:s.val()})})),o.on(e.events.click,".input-reveal-button",(function(){"password"===s.attr("type")?s.attr("type","text"):s.attr("type","password"),i._fireEvent("reveal-click",{val:s.val()})})),o.on(e.events.click,".input-search-button",(function(){"submit"!==a.searchButtonClick?i._fireEvent("search-button-click",{val:s.val(),button:this}):this.form.submit()})),o.on(e.events.click,".input-custom-button",(function(){var e=t(this),i=e.data("action");n.exec(i,[s.val(),e],this)})),s.on(e.events.keyup,(function(t){var n=s.val().trim();a.history&&t.keyCode===e.keyCode.ENTER&&""!==n&&(s.val(""),i.history.push(n),i.historyIndex=i.history.length-1,i._fireEvent("history-change",{val:n,history:i.history,historyIndex:i.historyIndex}),!0===a.preventSubmit&&t.preventDefault()),a.history&&t.keyCode===e.keyCode.UP_ARROW&&(i.historyIndex--,i.historyIndex>=0?(s.val(""),s.val(i.history[i.historyIndex]),i._fireEvent("history-down",{val:s.val(),history:i.history,historyIndex:i.historyIndex})):i.historyIndex=0,t.preventDefault()),a.history&&t.keyCode===e.keyCode.DOWN_ARROW&&(i.historyIndex++,i.historyIndex<i.history.length?(s.val(""),s.val(i.history[i.historyIndex]),i._fireEvent("history-up",{val:s.val(),history:i.history,historyIndex:i.historyIndex})):i.historyIndex=i.history.length-1,t.preventDefault())})),s.on(e.events.keydown,(function(t){t.keyCode===e.keyCode.ENTER&&i._fireEvent("enter-click",{val:s.val()})})),s.on(e.events.blur,(function(){o.removeClass("focused")})),s.on(e.events.focus,(function(){o.addClass("focused")})),s.on(e.events.input,(function(){var e=this.value.toLowerCase();i._drawAutocompleteList(e)})),o.on(e.events.click,".autocomplete-list .item",(function(){var e=t(this).attr("data-autocomplete-value");s.val(e),r.css({display:"none"}),s.trigger("change"),i._fireEvent("autocomplete-select",{value:e})}))},_drawAutocompleteList:function(e){var n,i=this,s=this.element.closest(".input").find(".autocomplete-list");0!==s.length&&(s.html(""),n=this.autocomplete.filter((function(t){return t.toLowerCase().indexOf(e)>-1})),s.css({display:n.length>0?"block":"none"}),t.each(n,(function(){var n,a=this,o=a.toLowerCase().indexOf(e),r=t("<div>").addClass("item").attr("data-autocomplete-value",a);n=0===o?"<strong>"+a.substr(0,e.length)+"</strong>"+a.substr(e.length):a.substr(0,o)+"<strong>"+a.substr(o,e.length)+"</strong>"+a.substr(o+e.length),r.html(n).appendTo(s),i._fireEvent("draw-autocomplete-item",{item:r})})))},getHistory:function(){return this.history},getHistoryIndex:function(){return this.historyIndex},setHistoryIndex:function(e){this.historyIndex=e>=this.history.length?this.history.length-1:e},setHistory:function(e,i){var s=this,a=this.options;n.isNull(e)||(Array.isArray(e)||"string"!=typeof e||(e=e.toArray(a.historyDivider)),!0===i?t.each(e,(function(){s.history.push(this)})):this.history=e,this.historyIndex=this.history.length-1)},clear:function(){this.element.val("")},toDefault:function(){this.element.val(n.isValue(this.options.defaultValue)?this.options.defaultValue:"")},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},setAutocompleteList:function(e){var t=n.isObject(e);!1!==t?this.autocomplete=t:"string"==typeof e&&(this.autocomplete=e.toArray(this.options.autocompleteDivider))},changeAttribute:function(e){if("disabled"===e)this.toggleState()},destroy:function(){var t=this.element,n=t.parent(),i=n.find(".input-clear-button"),s=n.find(".input-reveal-button"),a=n.find(".input-custom-button");return i.length>0&&i.off(e.events.click),s.length>0&&(s.off(e.events.start),s.off(e.events.stop)),a.length>0&&i.off(e.events.click),t.off(e.events.blur),t.off(e.events.focus),t}}),t(document).on(e.events.click,(function(){t(".input .autocomplete-list").hide()}))}(Metro,m4q),function(e,t){var n=e.utils,i={checkboxDeferred:0,transition:!0,style:1,caption:"",captionPosition:"right",indeterminate:!1,clsCheckbox:"",clsCheck:"",clsCaption:"",onCheckboxCreate:e.noop};e.checkboxSetup=function(e){i=t.extend({},i,e)},void 0!==typeof window.metroCheckboxSetup&&e.checkboxSetup(window.metroCheckboxSetup),e.Component("checkbox",{init:function(e,t){return this._super(t,e,i,{origin:{className:""}}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("checkbox-create")},_createStructure:function(){var e,n=this.element,i=this.options,s=t("<span>").addClass("check"),a=t("<span>").addClass("caption").html(i.caption);n.attr("type","checkbox"),void 0!==n.attr("readonly")&&n.on("click",(function(e){e.preventDefault()})),e=n.wrap("<label>").addClass("checkbox "+n[0].className).addClass(2===i.style?"style2":""),s.appendTo(e),a.appendTo(e),!0===i.transition&&e.addClass("transition-on"),"left"===i.captionPosition&&e.addClass("caption-left"),this.origin.className=n[0].className,n[0].className="",e.addClass(i.clsCheckbox),a.addClass(i.clsCaption),s.addClass(i.clsCheck),i.indeterminate&&(n[0].indeterminate=!0),n.is(":disabled")?this.disable():this.enable()},_createEvents:function(){var e=this.element,t=e.siblings(".check");e.on("focus",(function(){t.addClass("focused")})),e.on("blur",(function(){t.removeClass("focused")}))},indeterminate:function(e){var t=this.element;e=!!n.isNull(e)||n.bool(e),t[0].indeterminate=e,t.attr("data-indeterminate",e)},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},toggle:function(e){var t=this.element;return this.indeterminate(!1),n.isValue(e)?-1===e?this.indeterminate(!0):t.prop("checked",1===e):t.prop("checked",!n.bool(t.prop("checked"))),this},changeAttribute:function(e){var t,i=this.element,s=this.options,a=i.parent();switch(e){case"disabled":this.toggleState();break;case"data-indeterminate":i[0].indeterminate=!0===JSON.parse(i.attr("data-indeterminate"));break;case"data-style":t=parseInt(i.attr("data-style")),n.isInt(t)&&(s.style=t,a.removeClass("style1 style2").addClass("style"+t))}},destroy:function(){var e=this.element;return e.off("focus"),e.off("blur"),e}})}(Metro,m4q),function(e,t){var n=e.utils,i={checkboxDeferred:0,state:-1,transition:!0,style:1,caption:"",captionPosition:"right",clsCheckbox:"",clsCheck:"",clsCaption:"",onCheckboxCreate:e.noop};e.metroCheckboxThreeStateSetup=function(e){i=t.extend({},i,e)},void 0!==typeof window.metroCheckboxThreeStateSetup&&e.metroCheckboxThreeStateSetup(window.metroCheckboxThreeStateSetup),e.Component("checkbox-three-state",{init:function(e,t){return this._super(t,e,i,{origin:{className:""},state:-1}),this},_create:function(){var e=this.options;this.elem.checked&&(e.state=1),this.elem.checked=!1,-1===e.state||"unchecked"===e.state?this.state=-1:0===e.state||"indeterminate"===e.state?this.state=0:this.state=1,this._createStructure(),this._createEvents(),this._fireEvent("checkbox-create")},_indeterminate:function(e){var t=this.element;e=!!n.isNull(e)||n.bool(e),t[0].indeterminate=e,t.attr("data-indeterminate",e)},_createStructure:function(){var e,n=this.element,i=this.options,s=t("<span>").addClass("check"),a=t("<span>").addClass("caption").html(i.caption);n.attr("type","checkbox"),void 0!==n.attr("readonly")&&n.on("click",(function(e){e.preventDefault()})),e=n.wrap("<label>").addClass("checkbox "+n[0].className).addClass(2===i.style?"style2":""),s.appendTo(e),a.appendTo(e),!0===i.transition&&e.addClass("transition-on"),"left"===i.captionPosition&&e.addClass("caption-left"),this.origin.className=n[0].className,n[0].className="",e.addClass(i.clsCheckbox),a.addClass(i.clsCaption),s.addClass(i.clsCheck),this._drawState(),n.is(":disabled")?this.disable():this.enable()},_drawState:function(){var e=this.element;e[0].checked=!1,this._indeterminate(!1),0===this.state?(e[0].checked=!0,this._indeterminate(!0)):1===this.state&&(e[0].checked=!0)},_createEvents:function(){var e=this.element,t=e.siblings(".check"),n=this;e.on("click",(function(){n.state++,2===n.state&&(n.state=-1),n._drawState()})),e.on("focus",(function(){t.addClass("focused")})),e.on("blur",(function(){t.removeClass("focused")}))},check:function(){this.setCheckState(1)},uncheck:function(){this.setCheckState(-1)},indeterminate:function(){this.setCheckState(0)},setCheckState:function(e){return this.state=-1===e||"unchecked"===e?-1:0===e||"indeterminate"===e?0:1,this._drawState(),this},getCheckState:function(e){if(!e)return this.state;switch(this.state){case-1:return"unchecked";case 0:return"indeterminate";case 1:return"checked"}},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggle:function(){this.state++,2===this.state&&(this.state=-1),this._drawState()},changeAttribute:function(e,t){var i,s=this.element,a=this.options,o=s.parent();switch(e){case"disabled":!function(){this.elem.disabled?this.disable():this.enable()}();break;case"data-style":i=parseInt(s.attr("data-style")),n.isInt(i)&&(a.style=i,o.removeClass("style1 style2").addClass("style"+i));break;case"data-state":!function(e){this.toggle(e)}(t)}},destroy:function(){var e=this.element;return e.off("focus"),e.off("blur"),e}})}(Metro,m4q),function(e,t){var n=e.utils,i={radioDeferred:0,transition:!0,style:1,caption:"",captionPosition:"right",clsRadio:"",clsCheck:"",clsCaption:"",onRadioCreate:e.noop};e.radioSetup=function(e){i=t.extend({},i,e)},void 0!==typeof window.metroRadioSetup&&e.radioSetup(window.metroRadioSetup),e.Component("radio",{init:function(e,t){return this._super(t,e,i,{origin:{className:""}}),this},_create:function(){var e=this.element;this._createStructure(),this._createEvents(),this._fireEvent("radio-create",{element:e})},_createStructure:function(){var e=this.element,n=this.options,i=t("<label>").addClass("radio "+e[0].className).addClass(2===n.style?"style2":""),s=t("<span>").addClass("check"),a=t("<span>").addClass("caption").html(n.caption);e.attr("type","radio"),i.insertBefore(e),e.appendTo(i),s.appendTo(i),a.appendTo(i),!0===n.transition&&i.addClass("transition-on"),"left"===n.captionPosition&&i.addClass("caption-left"),this.origin.className=e[0].className,e[0].className="",i.addClass(n.clsRadio),a.addClass(n.clsCaption),s.addClass(n.clsCheck),e.is(":disabled")?this.disable():this.enable()},_createEvents:function(){var e=this.element,t=e.siblings(".check");e.on("focus",(function(){t.addClass("focused")})),e.on("blur",(function(){t.removeClass("focused")}))},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},changeAttribute:function(e){var t,i=this.element,s=this.options,a=i.parent();switch(e){case"disabled":this.toggleState();break;case"data-style":t=parseInt(i.attr("data-style")),n.isInt(t)&&(s.style=t,a.removeClass("style1 style2").addClass("style"+t))}},destroy:function(){return this.element}})}(Metro,m4q),function(e,t){var n=e.utils,i={id:"",label:"",size:"normal",selectDeferred:0,clearButton:!1,clearButtonIcon:"<span class='default-icon-cross'></span>",usePlaceholder:!1,placeholder:"",addEmptyValue:!1,emptyValue:"",duration:0,prepend:"",append:"",filterPlaceholder:"Search...",filter:!0,copyInlineStyles:!1,dropHeight:200,dropWidth:null,dropFullSize:!1,checkDropUp:!0,dropUp:!1,showGroupName:!1,shortTag:!0,clsSelect:"",clsSelectInput:"",clsPrepend:"",clsAppend:"",clsOption:"",clsOptionActive:"",clsOptionGroup:"",clsDropList:"",clsDropContainer:"",clsSelectedItem:"",clsSelectedItemRemover:"",clsLabel:"",clsGroupName:"",onClear:e.noop,onChange:e.noop,onUp:e.noop,onDrop:e.noop,onItemSelect:e.noop,onItemDeselect:e.noop,onSelectCreate:e.noop};e.selectSetup=function(e){i=t.extend({},i,e)},void 0!==typeof window.metroSelectSetup&&e.selectSetup(window.metroSelectSetup),e.Component("select",{init:function(e,t){return this._super(t,e,i,{list:null,placeholder:null,observer:null}),this},_create:function(){var e=this.element;this._createSelect(),this._createEvents(),this._fireEvent("select-create",{element:e})},_setPlaceholder:function(){var e=this.element,t=this.options,i=e.siblings(".select-input");!0!==t.usePlaceholder||n.isValue(e.val())&&e.val()!=t.emptyValue||i.html(this.placeholder)},_addTag:function(e,n){var i,s,a=this.element,o=this.options,r=a.closest(".select");return i=t("<div>").addClass("tag").addClass(o.shortTag?"short-tag":"").addClass(o.clsSelectedItem).html("<span class='title'>"+e+"</span>").data("option",n),t("<span>").addClass("remover").addClass(o.clsSelectedItemRemover).html("&times;").appendTo(i),r.hasClass("input-large")?s="large":r.hasClass("input-small")&&(s="small"),i.addClass(s),i},_addOption:function(e,i,s,a,o){var r,l,c=t(e),u=this.element,h=this.options,d=n.isValue(c.attr("data-template"))?c.attr("data-template").replace("$1",e.text):e.text,p=c.attr("data-display");r=t("<li>").addClass(h.clsOption).data("option",e).attr("data-text",e.text).attr("data-value",e.value?e.value:""),l=t("<a>").html(d),p&&(r.attr("data-display",p),d=p),r.addClass(e.className),r.data("group",o),c.is(":disabled")&&r.addClass("disabled"),c.is(":selected")&&(h.showGroupName&&o&&(d+="&nbsp;<span class='selected-item__group-name "+h.clsGroupName+"'>"+o+"</span>"),a?(r.addClass("d-none"),s.append(this._addTag(d,r))):(u.val(e.value),s.html(d),u.fire("change",{val:e.value}),r.addClass("active"))),r.append(l).appendTo(i)},_addOptionGroup:function(e,n,i,s){var a=this,o=this.options,r=t(e);t("<li>").html(e.label).addClass("group-title").addClass(o.clsOptionGroup).appendTo(n),t.each(r.children(),(function(){a._addOption(this,n,i,s,e.label)}))},_createOptions:function(){var e=this,n=this.element,i=this.options,s=n.parent().find("ul").empty(),a=n.find("option[selected]").length>0,o=n[0].multiple,r=n.siblings(".select-input");n.siblings(".select-input").empty(),!0===i.addEmptyValue&&n.prepend(t("<option "+(a?"":"selected")+" value='"+i.emptyValue+"' class='d-none'></option>")),t.each(n.children(),(function(){"OPTION"===this.tagName?e._addOption(this,s,r,o,null):"OPTGROUP"===this.tagName&&e._addOptionGroup(this,s,r,o)}))},_createSelect:function(){var i,s,a,o,r,l,c=this,u=this.element,h=this.options,d=t("<label>"),p=u[0].multiple,f=n.elementId("select"),m=t("<div>").addClass("button-group"),v=n.elementId("select-focus-trigger"),g=t("<input type='checkbox'>").addClass("select-focus-trigger").attr("id",v);(this.placeholder=t("<span>").addClass("placeholder").html(h.placeholder),d.attr("id",h.id?h.id:f).attr("for",v),d[0].className=e.utils.classNames(u[0].className,"input-"+h.size,"select",h.clsSelect),(l=t("<span>").addClass("dropdown-toggle")).appendTo(d),p&&d.addClass("multiple"),d.insertBefore(u),u.appendTo(d),m.appendTo(d),g.appendTo(d),i=t("<div>").addClass("select-input").addClass(h.clsSelectInput).attr("name","__"+f+"__"),s=t("<div>").addClass("drop-container").addClass(h.clsDropContainer),!1===h.dropFullSize?h.dropWidth&&s.css({width:+h.dropWidth}):d.addClass("drop-full-size"),a=t("<div>").appendTo(s),o=t("<ul>").addClass("option-list").addClass(h.clsDropList).css({"max-height":h.dropHeight}),r=t("<input type='text' data-role='input'>").attr("placeholder",h.filterPlaceholder).appendTo(a),d.append(i),d.append(s),s.append(a),!0!==h.filter&&a.hide(),s.append(o),this._createOptions(),this._setPlaceholder(),e.makePlugin(s,"dropdown",{dropFilter:".select",duration:h.duration,toggleElement:[d],checkDropUp:h.checkDropUp,dropUp:h.dropUp,onDrop:function(){var n,i;l.addClass("active-toggle"),n=t(".select .drop-container"),t.each(n,(function(){var n=t(this);if(!n.is(s)){var i=e.getPlugin(n,"dropdown");i&&i.close&&i.close()}})),r.val("").trigger(e.events.keyup),void 0!==(i=o.find("li.active").length>0?t(o.find("li.active")[0]):void 0)&&(o[0].scrollTop=i.position().top-(o.height()-i.height())/2),c._fireEvent("drop",{list:o[0]})},onUp:function(){l.removeClass("active-toggle"),c._fireEvent("up",{list:o[0]})}}),this.list=o,!0!==h.clearButton||u[0].readOnly)?m.addClass("d-none"):t("<button>").addClass("button input-clear-button").addClass(h.clsClearButton).attr("tabindex",-1).attr("type","button").html(h.clearButtonIcon).appendTo(m);""===h.prepend||p||t("<div>").html(h.prepend).addClass("prepend").addClass(h.clsPrepend).appendTo(d);""===h.append||p||t("<div>").html(h.append).addClass("append").addClass(h.clsAppend).appendTo(d);if(!0===h.copyInlineStyles)for(var b=0,y=u[0].style.length;b<y;b++)d.css(u[0].style[b],u.css(u[0].style[b]));if("rtl"===u.attr("dir")&&d.addClass("rtl").attr("dir","rtl"),h.label){var w=t("<label>").addClass("label-for-input").addClass(h.clsLabel).html(h.label).insertBefore(d);u.attr("id")&&w.attr("for",u.attr("id")),"rtl"===u.attr("dir")&&w.addClass("rtl")}u.is(":disabled")?this.disable():this.enable(),this.observer=new MutationObserver(this._updateSelect.bind(this)),this.observer.observe(u[0],{childList:!0,subtree:!0})},_updateSelect:function(e){for(let t of e)"childList"===t.type&&(t.addedNodes.length||t.removedNodes.length)&&this._createOptions()},_createEvents:function(){var n=this,i=this.element,s=this.options,a=i.closest(".select"),o=a.find(".drop-container"),r=i.siblings(".select-input"),l=o.find("input"),c=o.find("ul"),u=a.find(".input-clear-button"),h=a.find(".select-focus-trigger");h.on("focus",(function(){a.addClass("focused")})),h.on("blur",(function(){a.removeClass("focused")})),u.on(e.events.click,(function(e){i.val(s.emptyValue),i[0].multiple&&c.find("li").removeClass("d-none"),r.clear(),n._setPlaceholder(),e.preventDefault(),e.stopPropagation(),n._fireEvent("clear"),n._fireEvent("change",{selected:n.getSelected()})})),i.on(e.events.change,(function(){n._setPlaceholder()})),a.on(e.events.click,(function(){t(".focused").removeClass("focused"),a.addClass("focused")})),r.on(e.events.click,(function(){t(".focused").removeClass("focused"),a.addClass("focused")})),c.on(e.events.click,"li",(function(a){if(t(this).hasClass("group-title"))return a.preventDefault(),void a.stopPropagation();var l,u=t(this),h=u.attr("data-display"),d=u.data("value"),p=u.data("group"),f=h||u.children("a").html(),m=u.data("option"),v=i.find("option");s.showGroupName&&p&&(f+="&nbsp;<span class='selected-item__group-name "+s.clsGroupName+"'>"+p+"</span>"),i[0].multiple?(u.addClass("d-none"),r.append(n._addTag(f,u))):(c.find("li.active").removeClass("active").removeClass(s.clsOptionActive),u.addClass("active").addClass(s.clsOptionActive),r.html(f),e.getPlugin(o,"dropdown").close()),t.each(v,(function(){this===m&&(this.selected=!0)})),n._fireEvent("item-select",{val:d,option:m,leaf:u[0]}),l=n.getSelected(),n._fireEvent("change",{selected:l})})),r.on("click",".tag .remover",(function(e){var s,a=t(this).closest(".tag"),o=a.data("option"),r=o.data("option");o.removeClass("d-none"),t.each(i.find("option"),(function(){this===r&&(this.selected=!1)})),a.remove(),n._fireEvent("item-deselect",{option:r}),s=n.getSelected(),n._fireEvent("change",{selected:s}),e.preventDefault(),e.stopPropagation()})),l.on(e.events.keyup,(function(){var e,n=this.value.toUpperCase(),i=c.find("li");for(e=0;e<i.length;e++)t(i[e]).hasClass("group-title")||(i[e].getElementsByTagName("a")[0].innerHTML.toUpperCase().indexOf(n)>-1?i[e].style.display="":i[e].style.display="none")})),l.on(e.events.click,(function(e){e.preventDefault(),e.stopPropagation()})),o.on(e.events.click,(function(e){e.preventDefault(),e.stopPropagation()}))},disable:function(){this.element.data("disabled",!0),this.element.closest(".select").addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.closest(".select").removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},reset:function(e){var i,s=this.element,a=s.find("option"),o=s.closest(".select");t.each(a,(function(){this.selected=!n.isNull(e)&&this.defaultSelected})),this.list.find("li").remove(),o.find(".select-input").html(""),this._createOptions(),i=this.getSelected(),this._fireEvent("change",{selected:i})},getSelected:function(){var e=this.element,t=[];return e.find("option").each((function(){this.selected&&t.push(this.value)})),t},val:function(e){var i,s,a,o,r,l,c=this,u=this.element,h=this.options,d=u.siblings(".select-input"),p=u.find("option"),f=this.list.find("li"),m=[],v=void 0!==u.attr("multiple");if(n.isNull(e))return t.each(p,(function(){this.selected&&m.push(this.value)})),v?m:m[0];t.each(p,(function(){this.selected=!1})),f.removeClass("active").removeClass(h.clsOptionActive),d.html(""),!1===Array.isArray(e)&&(e=[e]),t.each(e,(function(){for(s=0;s<p.length;s++)if(i=p[s],a=n.isValue(i.getAttribute("data-template"))?i.getAttribute("data-template").replace("$1",i.text):i.text,""+i.value==""+this){i.selected=!0;break}for(s=0;s<f.length;s++)if(o=t(f[s]),l=o.data("group"),""+o.attr("data-value")==""+this){h.showGroupName&&l&&(a+="&nbsp;<span class='selected-item__group-name'>"+l+"</span>"),v?(o.addClass("d-none"),d.append(c._addTag(a,o))):(o.addClass("active").addClass(h.clsOptionActive),d.html(a));break}})),r=this.getSelected(),this._fireEvent("change",{selected:r})},options:function(e,t,n){return this.data(e,t,n)},data:function(e,i,s){var a,o,r=this.element,l=s||",";return o="string"==typeof i?i.toArray(l).map((function(e){return isNaN(e)?e:+e})):Array.isArray(i)?i.slice().map((function(e){return isNaN(e)?e:+e})):[],r.empty(),"string"==typeof e?r.html(e):n.isObject2(e)&&t.each(e,(function(e,i){if(n.isObject2(i))a=t("<optgroup label=''>").attr("label",e).appendTo(r),t.each(i,(function(e,n){var i=t("<option>").attr("value",e).text(n).appendTo(a);o.indexOf(+e)>-1&&i.prop("selected",!0)}));else{var s=t("<option>").attr("value",e).text(i).appendTo(r);o.indexOf(e)>-1&&s.prop("selected",!0)}})),this._createOptions(),this},addOption:function(e,n,i){var s=this.element,a=t("<option>").attr("value",e).text(n||e);return s.append(a),i&&a.prop("selected",!0),this._createOptions(),this},addOptions:function(n){var i=this;return n?(Array.isArray(n)?t.each(n,(function(){var t=this;e.utils.isObject2(t)?i.addOption(t.val,t.title,t.selected):i.addOption(t)})):e.utils.isObject2(n)&&t.each(n,(function(e,t){i.addOption(e,t)})),this):this},removeOption:function(e){return this.element.find("option").each((function(){var n=t(this);n.attr("value")==e&&n.remove()})),this._createOptions(),this},removeOptions:function(e){var n=this.element.find("option");return e&&Array.isArray(e)?(n.each((function(){var n=t(this),i=n.attr("value");e.indexOf(i)>-1&&n.remove()})),this._createOptions(),this):this},changeAttribute:function(e){"disabled"===e&&this.toggleState()},destroy:function(){var t=this.element,n=t.closest(".select"),i=n.find(".drop-container"),s=t.siblings(".select-input"),a=i.find("input"),o=i.find("ul"),r=n.find(".input-clear-button");return n.off(e.events.click),n.off(e.events.click,".input-clear-button"),s.off(e.events.click),a.off(e.events.blur),a.off(e.events.focus),o.off(e.events.click,"li"),a.off(e.events.keyup),i.off(e.events.click),r.off(e.events.click),i.data("dropdown").destroy(),t}}),t(document).on(e.events.click,(function(){t(".select").removeClass("focused")}),{ns:"blur-select-elements"})}(Metro,m4q)}();

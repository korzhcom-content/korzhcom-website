!function(){"use strict";var e,t,n,i,a,o,r,s,l="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};
/*!
	 * Datetime v1.0.0, (https://github.com/olton/DatetimeJS.git)
	 * Copyright 2021 by Serhii Pimenov (https://pimenov.com.ua)
	 * Datetime.js is a minimalist JavaScript library that parses, validates, manipulates, and displays dates and times for modern browsers with comfortable modern API.
	 * Build at 11/01/2021 21:09:55
	 * Licensed under MIT
	 !*/!function(e){var t="YYYY-MM-DDTHH:mm:ss.sss",n="Invalid date",i=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|m{1,2}|s{1,3}/g;e.DATETIME_LOCALES={en:{months:"January February March April May June July August September October November December".split(" "),monthsShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),weekdaysShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),weekdaysMin:"Su Mo Tu We Th Fr Sa".split(" "),weekStart:0}};var a={ms:"Milliseconds",s:"Seconds",m:"Minutes",h:"Hours",D:"Date",d:"Day",M:"Month",Y:"FullYear",y:"Year",t:"Time"},o="ms",r="second",s="minute",l="hour",u="day",c="week",h="month",d="year",f=function(e,t,n){var i=""+e;return n&&i.length>=n?i:Array(n+1-i.length).join(t)+i},p=function(e){return null==e},m=function(){var e;return arguments[0]instanceof v?m(arguments[0].value):(e=[].slice.call(Array.isArray(arguments[0])?arguments[0]:arguments),new(Function.prototype.bind.apply(v,[this].concat(e))))},v=function(){var t=[].slice.call(arguments);if(this.value=new(Function.prototype.bind.apply(Date,[this].concat(t))),this.locale="en",this.weekStart=e.DATETIME_LOCALES.en.weekStart,this.utcMode=!1,this.mutable=!0,isNaN(this.value.getTime()))throw new Error(n)};v.DEFAULT_FORMAT=t,v.REGEX_FORMAT=i,v.INVALID_DATE=n,v.lpad=f,v.not=p,v.isDatetime=function(e){return e instanceof v},v.now=function(e){return m()[e?"val":"time"]()},v.locale=function(t,n){e.DATETIME_LOCALES[t]=n},v.getLocale=function(t){return e.DATETIME_LOCALES[t||"en"]||e.DATETIME_LOCALES.en},v.parse=function(e){return m(Date.parse(e))},v.align=function(e,t){var n,i,a=e instanceof v?e:m(e);switch(t){case r:n=a.ms(0);break;case s:n=v.align(a,r)[r](0);break;case l:n=v.align(a,s)[s](0);break;case u:n=v.align(a,l)[l](0);break;case h:n=v.align(a,u)[u](1);break;case d:n=v.align(a,h)[h](0);break;case c:i=a.weekDay(),n=v.align(a,u).addDay(-i);break;default:n=a}return n},v.alignEnd=function(e,t){var n,i,a=e instanceof v?e:m(e);switch(t){case o:n=a.ms(999);break;case r:n=v.alignEnd(a,o);break;case s:n=v.alignEnd(a,r)[r](59);break;case l:n=v.alignEnd(a,s)[s](59);break;case u:n=v.alignEnd(a,l)[l](23);break;case h:n=v.alignEnd(a,u)[u](1).add(1,h).add(-1,u);break;case d:n=v.alignEnd(a,u)[h](11)[u](31);break;case c:i=a.weekDay(),n=v.alignEnd(a,"day").addDay(6-i);break;default:n=a}return n},v.extend=function(e){for(var t,n,i=arguments.length,a=1;a<i;a++)if(null!=(t=arguments[a]))for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},v.use=function(e){v.extend(v.prototype,e)},v.useStatic=function(e){v.extend(v,e)},v.prototype={immutable:function(e){return this.mutable=!(p(e)||e),this},utc:function(){return this.utcMode=!0,this},local:function(){return this.utcMode=!1,this},useLocale:function(e){return v.getLocale(e)?(this.locale=e,this.weekStart=v.getLocale(e).weekStart,this):(console.warn("Locale "+e+" is not defined!"),this)},clone:function(){var e=m(this.value);return e.locale=this.locale,e.weekStart=this.weekStart,e.mutable=this.mutable,e},align:function(e){return this.mutable?(this.value=v.align(this,e).val(),this):this.clone().immutable(!1).align(e).immutable(!this.mutable)},alignEnd:function(e){return this.mutable?(this.value=v.alignEnd(this,e).val(),this):this.clone().immutable(!1).alignEnd(e).immutable(!this.mutable)},val:function(e){return e instanceof Date?this.mutable?(this.value=e,this):m(e):this.value},year2:function(){return+(""+this.year()).substr(-2)},_set:function(e,t){var n="set"+(this.utcMode&&"t"!==e?"UTC":"")+a[e];if(this.mutable)return this.value[n](t),this;var i=this.clone();return i.value[n](t),i},_get:function(e){var t="get"+(this.utcMode&&"t"!==e?"UTC":"")+a[e];return this.value[t]()},_work:function(e,t){return arguments.length&&null!=t?this._set(e,t):this._get(e)},ms:function(e){return this._work("ms",e)},second:function(e){return this._work("s",e)},minute:function(e){return this._work("m",e)},hour:function(e){return this._work("h",e)},day:function(e){return this._work("D",e)},month:function(e){return this._work("M",e)},year:function(e){return this._work("Y",e)},time:function(e){return this._work("t",e)},weekDay:function(e){if(!arguments.length||p(e))return this.utcMode?this.value.getUTCDay():this.value.getDay();var t=e-this.weekDay();return this.day(this.day()+t),this},get:function(e){return"function"!=typeof this[e]?this:this[e]()},set:function(e,t){return"function"!=typeof this[e]?this:this[e](t)},add:function(e,t){switch(t){case l:return this.time(this.time()+60*e*60*1e3);case s:return this.time(this.time()+60*e*1e3);case r:return this.time(this.time()+1e3*e);case o:return this.time(this.time()+e);case u:return this.day(this.day()+e);case c:return this.day(this.day()+7*e);case h:return this.month(this.month()+e);case d:return this.year(this.year()+e)}},addHour:function(e){return this.add(e,l)},addMinute:function(e){return this.add(e,s)},addSecond:function(e){return this.add(e,r)},addMs:function(e){return this.add(e,o)},addDay:function(e){return this.add(e,u)},addWeek:function(e){return this.add(e,c)},addMonth:function(e){return this.add(e,h)},addYear:function(e){return this.add(e,d)},format:function(e,n){var a=e||t,o=v.getLocale(n||this.locale),r=this.year(),s=this.year2(),l=this.month(),u=this.day(),c=this.weekDay(),h=this.hour(),d=this.minute(),p=this.second(),m=this.ms(),g={YY:s,YYYY:r,M:l+1,MM:f(l+1,"0",2),MMM:o.monthsShort[l],MMMM:o.months[l],D:u,DD:f(u,"0",2),d:c,dd:o.weekdaysMin[c],ddd:o.weekdaysShort[c],dddd:o.weekdays[c],H:h,HH:f(h,"0",2),m:d,mm:f(d,"0",2),s:p,ss:f(p,"0",2),sss:f(m,"0",3)};return a.replace(i,(function(e,t){return t||g[e]}))},valueOf:function(){return this.value.valueOf()},toString:function(){return this.value.toString()}},e.Datetime=v,e.datetime=m}("undefined"==typeof self?void 0===l?window:l:self),e=Datetime.prototype.format,Datetime.use({buddhist:function(){return this.year()+543},format:function(t,n){t=t||Datetime.DEFAULT_FORMAT;var i={BB:(this.buddhist()+"").slice(-2),BBBB:this.buddhist()},a=t.replace(/(\[[^\]]+])|B{4}|B{2}/g,(function(e,t){return t||i[e]}));return e.bind(this)(a,n)}}),Datetime.use({calendar:function(e){return Datetime.calendar(this,e)}}),Datetime.useStatic({calendar:function(e,t){var n,i=e instanceof Datetime?e.clone().align("month"):datetime(e),a=0===t||t?t:i.weekStart,o=a?i.isoWeekDay():i.weekDay(),r=Datetime.getLocale(i.locale),s=datetime(),l={month:r.months[i.month()],days:[],weekstart:t?1:0,weekdays:function(e,t){if(0===t)return e;var n=e[0];return e.slice(1).concat([n])}(r.weekdaysMin,a),today:s.format("YYYY-MM-DD"),weekends:[],week:[]};for(i.addDay(a?1-o:-o),n=0;n<42;n++)l.days.push(i.format("YYYY-MM-DD")),i.add(1,"day");for(l.weekends=l.days.filter((function(e,t){return 0===a?[0,6,7,13,14,20,21,27,28,34,35,41].indexOf(t)>-1:[5,6,12,13,19,20,26,27,33,34,40,41].indexOf(t)>-1})),i=s.clone(),o=a?i.isoWeekDay():i.weekDay(),i.addDay(a?1-o:-o),n=0;n<7;n++)l.week.push(i.format("YYYY-MM-DD")),i.add(1,"day");return l}}),t=Datetime.prototype.format,Datetime.use({century:function(){return parseInt(this.year()/100)},format:function(e,n){e=e||Datetime.DEFAULT_FORMAT;var i={C:this.century()},a=e.replace(/(\[[^\]]+])|C/g,(function(e,t){return t||i[e]}));return t.bind(this)(a,n)}}),Datetime.use({same:function(e){return this.time()===datetime(e).time()},compare:function(e,t,n){var i,a,o=datetime(e),r=datetime(this.value);switch(-1===["<",">",">=","<=","=","!="].indexOf(n=n||"=")&&(n="="),t=(t||"ms").toLowerCase(),i=r.align(t).time(),a=o.align(t).time(),n){case"<":return i<a;case">":return i>a;case"<=":return i<=a;case">=":return i>=a;case"=":return i===a;case"!=":return i!==a}},between:function(e,t){return this.younger(e)&&this.older(t)},older:function(e,t){return this.compare(e,t,"<")},olderOrEqual:function(e,t){return this.compare(e,t,"<=")},younger:function(e,t){return this.compare(e,t,">")},youngerOrEqual:function(e,t){return this.compare(e,t,">=")},equal:function(e,t){return this.compare(e,t,"=")},notEqual:function(e,t){return this.compare(e,t,"!=")},diff:function(e){var t=datetime(e),n=Math.abs(this.time()-t.time()),i=Math.abs(this.month()-t.month()+12*(this.year()-t.year()));return{ms:n,second:Math.ceil(n/1e3),minute:Math.ceil(n/6e4),hour:Math.ceil(n/36e5),day:Math.ceil(n/864e5),month:i,year:Math.floor(i/12)}},distance:function(e,t){return this.diff(e)[t]}}),Datetime.use({dayOfYear:function(){var e=this.month(),t=this.day();return[0,31,59,90,120,151,181,212,243,273,304,334][e]+t+(e>1&&this.isLeapYear()?1:0)}}),Datetime.use({daysInMonth:function(){return datetime(this.value).add(1,"month").day(1).add(-1,"day").day()},daysInYear:function(){return this.isLeapYear()?366:365},daysInYearMap:function(){var e=[],t=datetime(this.value);t.month(0).day(1);for(var n=0;n<12;n++)t.add(1,"month").add(-1,"day"),e.push(t.day()),t.day(1).add(1,"month");return e},daysInYearObj:function(e,t){var n=this.daysInYearMap(),i={},a=Datetime.getLocale(e||this.locale);return n.forEach((function(e,n){i[a[t?"monthsShort":"months"][n]]=e})),i}}),Datetime.use({decade:function(){return 10*Math.floor(this.year()/10)},decadeStart:function(){var e=this.decade();return(this.mutable?this:this.clone()).year(e).month(0).day(1)},decadeEnd:function(){var e=this.decade()+9;return(this.mutable?this:this.clone()).year(e).month(11).day(31)},decadeOfMonth:function(){var e=this.clone().add(1,"month").day(1).add(-1,"day").day()/3,t=this.day();return t<=e?1:t<=2*e?2:3}}),Datetime.useStatic({from:function(e,t,n){var i,a,o,r,s,l,u,c,h,d,f,p,m,v,g,y,b,w,C,k=function(e,t){return e.map((function(e){return e.toLowerCase()})).indexOf(t.toLowerCase())},_=function(e){for(var t,n,i={month:["M","mm","%m"],day:["D","dd","%d"],year:["YY","YYYY","yy","yyyy","%y"],hour:["h","hh","%h"],minute:["m","mi","i","ii","%i"],second:["s","ss","%s"],ms:["sss"]},a=-1,r=0;r<i[e].length;r++)if(t=i[e][r],-1!==(n=o.indexOf(t))){a=n;break}return a};if(Datetime.not(t)||""===(""+t).trim())return datetime();if(i=e.replace(/[\/,.:\s]/g,"-"),a=t.toLowerCase().replace(/[^a-zA-Z0-9%]/g,"-"),o=a.split("-"),r=i.split("-"),""===i.replace(/-/g,"").trim())throw new Error(Datetime.INVALID_DATE);return s=_("month"),l=_("day"),u=_("year"),c=_("hour"),h=_("minute"),d=_("second"),f=_("ms"),s>-1&&r[s]?isNaN(parseInt(r[s]))?(r[s]=function(e){var t=-1,i=Datetime.getLocale(n||"en");return Datetime.not(e)?-1:(-1===(t=k(i.months,e))&&void 0!==i.monthsParental&&(t=k(i.monthsParental,e)),-1===t&&(e=e.substr(0,3),t=k(i.monthsShort,e)),-1===t?-1:t+1)}(r[s]),-1===r[s]&&(s=-1)):((C=parseInt(r[s]))<1||C>12)&&(s=-1):s=-1,p=u>-1&&r[u]?r[u]:0,m=s>-1&&r[s]?r[s]:1,v=l>-1&&r[l]?r[l]:1,g=c>-1&&r[c]?r[c]:0,y=h>-1&&r[h]?r[h]:0,b=d>-1&&r[d]?r[d]:0,w=f>-1&&r[f]?r[f]:0,datetime(p,m-1,v,g,y,b,w)}}),function(){var e=Datetime.prototype.format,t=Datetime.lpad;Datetime.use({ampm:function(e){var t=this.hour()<12?"AM":"PM";return e?t.toLowerCase():t},hour12:function(e,t){var n=e;return 0===arguments.length?this.hour()%12:("pm"===(t=t||"am").toLowerCase()&&(n+=12),this.hour(n))},format:function(n,i){var a,o,r=this.hour12();return n=n||Datetime.DEFAULT_FORMAT,a={a:"["+this.ampm(!0)+"]",A:"["+this.ampm(!1)+"]",h:r,hh:t(r,"0",2)},o=n.replace(/(\[[^\]]+])|a|A|h{1,2}/g,(function(e,t){return t||a[e]})),e.bind(this)(o,i)}})}(),Datetime.use({isLeapYear:function(){var e=this.year();return e%4==0&&e%100!=0||e%400==0}}),function(){var e=Datetime.prototype.format,t=Datetime.align,n=Datetime.alignEnd;Datetime.useStatic({align:function(e,n){var i,a,o=e instanceof Datetime?e:datetime(e);if("isoWeek"===n)a=o.isoWeekDay(),i=t(o,"day").addDay(1-a);else i=t.apply(this,[o,n]);return i},alignEnd:function(e,t){var i,a,o=e instanceof Datetime?e:datetime(e);if("isoWeek"===t)a=o.isoWeekDay(),i=n(o,"day").addDay(7-a);else i=n.apply(this,[o,t]);return i}}),Datetime.use({isoWeekDay:function(e){var t=(this.weekDay()+6)%7+1;return!arguments.length||Datetime.not(e)?t:this.addDay(e-t)},format:function(t,n){t=t||Datetime.DEFAULT_FORMAT;var i={I:this.isoWeekDay()},a=t.replace(/(\[[^\]]+])|I{1,2}/g,(function(e,t){return t||i[e]}));return e.bind(this)(a,n)}})}(),Datetime.useStatic({max:function(){return[].slice.call(arguments).map((function(e){return datetime(e)})).sort((function(e,t){return t.time()-e.time()}))[0]}}),Datetime.use({max:function(){return Datetime.max.apply(this,[this].concat([].slice.call(arguments)))}}),Datetime.useStatic({min:function(){return[].slice.call(arguments).map((function(e){return datetime(e)})).sort((function(e,t){return e.time()-t.time()}))[0]}}),Datetime.use({min:function(){return Datetime.min.apply(this,[this].concat([].slice.call(arguments)))}}),n=Datetime.align,i=Datetime.alignEnd,a=Datetime.prototype.add,Datetime.useStatic({align:function(e,t){var i=e instanceof Datetime?e:datetime(e);return"quarter"===t?Datetime.align(i,"day").day(1).month(3*i.quarter()-3):n.apply(this,[i,t])},alignEnd:function(e,t){var n=e instanceof Datetime?e:datetime(e);return"quarter"===t?Datetime.align(n,"quarter").add(3,"month").add(-1,"ms"):i.apply(this,[n,t])}}),Datetime.use({quarter:function(){var e=this.month();return e<=2?1:e<=5?2:e<=8?3:4},add:function(e,t){return"quarter"===t?this.month(this.month()+3*e):a.bind(this)(e,t)},addQuarter:function(e){return this.add(e,"quarter")}}),Datetime.useStatic({sort:function(e,t){var n,i,a={};switch("string"==typeof t||"object"!=typeof t||Datetime.not(t)?(a.format=Datetime.DEFAULT_FORMAT,a.dir=t&&"DESC"===t.toUpperCase()?"DESC":"ASC",a.returnAs="datetime"):(a.format=t.format||Datetime.DEFAULT_FORMAT,a.dir=(t.dir||"ASC").toUpperCase(),a.returnAs=t.format?"string":t.returnAs||"datetime"),i=e.map((function(e){return datetime(e)})).sort((function(e,t){return e.valueOf()-t.valueOf()})),"DESC"===a.dir&&i.reverse(),a.returnAs){case"string":n=i.map((function(e){return e.format(a.format)}));break;case"date":n=i.map((function(e){return e.val()}));break;default:n=i}return n}}),o=/(%[a-z])/gi,r=Datetime.lpad,Datetime.use({strftime:function(e,t){var n=e||"%Y-%m-%dT%H:%M:%S.%Q%t",i=Datetime.getLocale(t||this.locale),a=this.year(),s=this.year2(),l=this.month(),u=this.day(),c=this.weekDay(),h=this.hour(),d=this.hour12(),f=this.minute(),p=this.second(),m=this.ms(),v=this.time(),g=r(u,"0",2),y=r(l+1,"0",2),b=r(h,"0",2),w=r(d,"0",2),C=r(f,"0",2),k=r(p,"0",2),_=r(m,"0",3),x=this,T=function(){var e=datetime(x.value);return e.day(x.day()-(x.weekDay()+6)%7+3),e},S={"%a":i.weekdaysShort[c],"%A":i.weekdays[c],"%b":i.monthsShort[l],"%h":i.monthsShort[l],"%B":i.months[l],"%c":this.toString().substring(0,this.toString().indexOf(" (")),"%C":this.century(),"%d":g,"%D":[g,y,a].join("/"),"%e":u,"%F":[a,y,g].join("-"),"%G":T().year(),"%g":(""+T().year()).slice(2),"%H":b,"%I":w,"%j":r(this.dayOfYear(),"0",3),"%k":b,"%l":w,"%m":y,"%n":l+1,"%M":C,"%p":this.ampm(),"%P":this.ampm(!0),"%s":Math.round(v/1e3),"%S":k,"%u":this.isoWeekDay(),"%V":this.isoWeekNumber(),"%w":c,"%x":this.toLocaleDateString(),"%X":this.toLocaleTimeString(),"%y":s,"%Y":a,"%z":this.timezone().replace(":",""),"%Z":this.timezoneName(),"%r":[w,C,k].join(":")+" "+this.ampm(),"%R":[b,C].join(":"),"%T":[b,C,k].join(":"),"%Q":_,"%q":m,"%t":this.timezone()};return n.replace(o,(function(e){return 0===S[e]||S[e]?S[e]:e}))}}),function(){var e=Datetime.prototype.format;Datetime.use({utcOffset:function(){return this.value.getTimezoneOffset()},timezone:function(){return this.toTimeString().replace(/.+GMT([+-])(\d{2})(\d{2}).+/,"$1$2:$3")},timezoneName:function(){return this.toTimeString().replace(/.+\((.+?)\)$/,"$1")},format:function(t,n){t=t||Datetime.DEFAULT_FORMAT;var i={Z:this.utcMode?"Z":this.timezone(),ZZ:this.timezone().replace(":",""),ZZZ:"[GMT]"+this.timezone(),z:this.timezoneName()},a=t.replace(/(\[[^\]]+])|Z{1,3}|z/g,(function(e,t){return t||i[e]}));return e.bind(this)(a,n)}})}(),Datetime.useStatic({isToday:function(e){var t=datetime(e).align("day"),n=datetime().align("day");return t.time()===n.time()}}),Datetime.use({isToday:function(){return Datetime.isToday(this)},today:function(){var e=datetime();return this.mutable?this.val(e.val()):e}}),Datetime.useStatic({isTomorrow:function(e){var t=datetime(e).align("day"),n=datetime().align("day").add(1,"day");return t.time()===n.time()}}),Datetime.use({isTomorrow:function(){return Datetime.isTomorrow(this)},tomorrow:function(){return this.mutable?this.add(1,"day"):this.clone().add(1,"day")}}),Datetime.use({toDateString:function(){return this.value.toDateString()},toISOString:function(){return this.value.toISOString()},toJSON:function(){return this.value.toJSON()},toGMTString:function(){return this.value.toGMTString()},toLocaleDateString:function(){return this.value.toLocaleDateString()},toLocaleString:function(){return this.value.toLocaleString()},toLocaleTimeString:function(){return this.value.toLocaleTimeString()},toTimeString:function(){return this.value.toTimeString()},toUTCString:function(){return this.value.toUTCString()},toDate:function(){return new Date(this.value)}}),Datetime.useStatic({timestamp:function(){return(new Date).getTime()/1e3}}),Datetime.use({unix:function(e){var t;return!arguments.length||Datetime.not(e)?Math.floor(this.valueOf()/1e3):(t=1e3*e,this.mutable?this.time(t):datetime(this.value).time(t))},timestamp:function(){return this.unix()}}),function(){var e=Datetime.prototype.format,t=Datetime.lpad;Datetime.use({weekNumber:function(e){var t,n,i,a,o;return e=+e||0,i=(i=(n=datetime(this.year(),0,1)).weekDay()-e)>=0?i:i+7,a=Math.floor((this.time()-n.time()-6e4*(this.utcOffset()-n.utcOffset()))/864e5)+1,i<4?(o=Math.floor((a+i-1)/7)+1)>52&&(o=(t=(t=datetime(this.year()+1,0,1).weekDay()-e)>=0?t:t+7)<4?1:53):o=Math.floor((a+i-1)/7),o},isoWeekNumber:function(){return this.weekNumber(1)},weeksInYear:function(e){return datetime(this.value).month(11).day(31).weekNumber(e)},format:function(n,i){var a,o,r=this.weekNumber(),s=this.isoWeekNumber();return n=n||Datetime.DEFAULT_FORMAT,a={W:r,WW:t(r,"0",2),WWW:s,WWWW:t(s,"0",2)},o=n.replace(/(\[[^\]]+])|W{1,4}/g,(function(e,t){return t||a[e]})),e.bind(this)(o,i)}})}(),Datetime.useStatic({isYesterday:function(e){var t=datetime(e).align("day"),n=datetime().align("day").add(-1,"day");return t.time()===n.time()}}),Datetime.use({isYesterday:function(){return Datetime.isYesterday(this)},yesterday:function(){return this.mutable?this.add(-1,"day"):this.clone().add(-1,"day")}}),function(){function e(e){var t,n=Math.floor(e/1e3),i=Math.floor(n/60),a=Math.floor(i/60),o=Math.floor(a/24),r=Math.floor(o/30),s=Math.floor(r/12);return s>=1&&(t=s+" year"),r>=1&&s<1&&(t=r+" mon"),o>=1&&o<=30&&(t=o+" days"),a&&a<24&&(t=a+" hour"),i&&i>=40&&i<60&&(t="less a hour"),i&&i<40&&(t=i+" min"),n&&n>=30&&n<60&&(t=n+" sec"),n<30&&(t="few sec"),t}Datetime.useStatic({timeLapse:function(t){var n=datetime(t);return e(datetime()-n)}}),Datetime.use({timeLapse:function(){return e(datetime()-+this)}})}(),s=Datetime.getLocale,Datetime.getLocale=function(e){var t;return Metro?(Metro.locales[e]||(e="en-US"),{months:(t=Metro.locales[e].calendar).months.filter((function(e,t){return t<12})),monthsShort:t.months.filter((function(e,t){return t>11})),weekdays:t.days.filter((function(e,t){return t<7})),weekdaysShort:t.days.filter((function(e,t){return t>13})),weekdaysMin:t.days.filter((function(e,t){return t>6&&t<14})),weekStart:t.weekStart}):(e="en",s.call(this,e))},
/*! 
	 * Cake string library 1.0.0
	 * https://github.com/olton/cake
	 *
	 * Copyright 2020-2021 Serhii Pimenov
	 * Released under the MIT license
	 */
function(){var e=function(e){return null==e},t="\\s\\uFEFF\\xA0",n="\\u0300-\\u036F\\u1AB0-\\u1AFF\\u1DC0-\\u1DFF\\u20D0-\\u20FF\\uFE20-\\uFE2F",i="a-z\\xB5\\xDF-\\xF6\\xF8-\\xFF\\u0101\\u0103\\u0105\\u0107\\u0109\\u010B\\u010D\\u010F\\u0111\\u0113\\u0115\\u0117\\u0119\\u011B\\u011D\\u011F\\u0121\\u0123\\u0125\\u0127\\u0129\\u012B\\u012D\\u012F\\u0131\\u0133\\u0135\\u0137\\u0138\\u013A\\u013C\\u013E\\u0140\\u0142\\u0144\\u0146\\u0148\\u0149\\u014B\\u014D\\u014F\\u0151\\u0153\\u0155\\u0157\\u0159\\u015B\\u015D\\u015F\\u0161\\u0163\\u0165\\u0167\\u0169\\u016B\\u016D\\u016F\\u0171\\u0173\\u0175\\u0177\\u017A\\u017C\\u017E-\\u0180\\u0183\\u0185\\u0188\\u018C\\u018D\\u0192\\u0195\\u0199-\\u019B\\u019E\\u01A1\\u01A3\\u01A5\\u01A8\\u01AA\\u01AB\\u01AD\\u01B0\\u01B4\\u01B6\\u01B9\\u01BA\\u01BD-\\u01BF\\u01C6\\u01C9\\u01CC\\u01CE\\u01D0\\u01D2\\u01D4\\u01D6\\u01D8\\u01DA\\u01DC\\u01DD\\u01DF\\u01E1\\u01E3\\u01E5\\u01E7\\u01E9\\u01EB\\u01ED\\u01EF\\u01F0\\u01F3\\u01F5\\u01F9\\u01FB\\u01FD\\u01FF\\u0201\\u0203\\u0205\\u0207\\u0209\\u020B\\u020D\\u020F\\u0211\\u0213\\u0215\\u0217\\u0219\\u021B\\u021D\\u021F\\u0221\\u0223\\u0225\\u0227\\u0229\\u022B\\u022D\\u022F\\u0231\\u0233-\\u0239\\u023C\\u023F\\u0240\\u0242\\u0247\\u0249\\u024B\\u024D\\u024F",a="\\x41-\\x5a\\xc0-\\xd6\\xd8-\\xde\\u0100\\u0102\\u0104\\u0106\\u0108\\u010a\\u010c\\u010e\\u0110\\u0112\\u0114\\u0116\\u0118\\u011a\\u011c\\u011e\\u0120\\u0122\\u0124\\u0126\\u0128\\u012a\\u012c\\u012e\\u0130\\u0132\\u0134\\u0136\\u0139\\u013b\\u013d\\u013f\\u0141\\u0143\\u0145\\u0147\\u014a\\u014c\\u014e\\u0150\\u0152\\u0154\\u0156\\u0158\\u015a\\u015c\\u015e\\u0160\\u0162\\u0164\\u0166\\u0168\\u016a\\u016c\\u016e\\u0170\\u0172\\u0174\\u0176\\u0178\\u0179\\u017b\\u017d\\u0181\\u0182\\u0184\\u0186\\u0187\\u0189-\\u018b\\u018e-\\u0191\\u0193\\u0194\\u0196-\\u0198\\u019c\\u019d\\u019f\\u01a0\\u01a2\\u01a4\\u01a6\\u01a7\\u01a9\\u01ac\\u01ae\\u01af\\u01b1-\\u01b3\\u01b5\\u01b7\\u01b8\\u01bc\\u01c4\\u01c5\\u01c7\\u01c8\\u01ca\\u01cb\\u01cd\\u01cf\\u01d1\\u01d3\\u01d5\\u01d7\\u01d9\\u01db\\u01de\\u01e0\\u01e2\\u01e4\\u01e6\\u01e8\\u01ea\\u01ec\\u01ee\\u01f1\\u01f2\\u01f4\\u01f6-\\u01f8\\u01fa\\u01fc\\u01fe\\u0200\\u0202\\u0204\\u0206\\u0208\\u020a\\u020c\\u020e\\u0210\\u0212\\u0214\\u0216\\u0218\\u021a\\u021c\\u021e\\u0220\\u0222\\u0224\\u0226\\u0228\\u022a\\u022c\\u022e\\u0230\\u0232\\u023a\\u023b\\u023d\\u023e\\u0241\\u0243-\\u0246\\u0248\\u024a\\u024c\\u024e",o=new RegExp("^["+t+"]+"),r=new RegExp("["+t+"]+$"),s=new RegExp("^\\d+$"),u=/[<>&"'`]/g,c=/(<([^>]+)>)/gi,h=new RegExp("(?:["+a+"]["+n+"]*)?(?:["+i+"]["+n+"]*)+|(?:["+a+"]["+n+"]*)+(?!["+i+"])|["+"\\d]+|[\\u2700-\\u27BF]|[^\\x00-\\x2F\\x3A-\\x40\\x5B-\\x60\\x7b-\\xBF\\xD7\\xF7\\u2000-\\u206F"+t+"]+","g"),d=/[A-Z\xC0-\xD6\xD8-\xDE]?[a-z\xDF-\xF6\xF8-\xFF]+|[A-Z\xC0-\xD6\xD8-\xDE]+(?![a-z\xDF-\xF6\xF8-\xFF])|\d+/g,f=new RegExp("^(?:["+i+a+"]["+n+"]*)+$"),p=new RegExp("^((?:["+i+a+"]["+n+"]*)|["+"\\d])+$"),m=/^[\x01-\xFF]*$/;function v(t,n){return e(t)?n:t}function g(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e(t)?n:"string"==typeof t?t:Array.isArray(t)?t.join(""):JSON.stringify(t)}function y(t,n,i){var a;return a=e(n)?m.test(t)?d:h:n instanceof RegExp?n:new RegExp(n,v(i,"")),v(g(t).match(a),[])}function b(e,t){var n=g(e),i=n.substr(1);return n.substr(0,1).toUpperCase()+(t?i.toLowerCase():i)}function w(e){return g(e).toLowerCase()}function C(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return g(e).split("").filter((function(e){return!t.includes(e)}))}function k(e){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k(e)}function _(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function x(e){return function(e){if(Array.isArray(e))return T(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var S=function(e,t){var n=t.toLowerCase(),i=t.toUpperCase();return e+(t===n?i:n)};function E(e){for(var t=x(e),n=0;n<t.length;++n)for(var i=n+1;i<t.length;++i)t[n]===t[i]&&t.splice(i--,1);return t}var O={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};function I(e){return O[e]}var A={"<":/(&lt;)|(&#x0*3c;)|(&#0*60;)/gi,">":/(&gt;)|(&#x0*3e;)|(&#0*62;)/gi,"&":/(&amp;)|(&#x0*26;)|(&#0*38;)/gi,'"':/(&quot;)|(&#x0*22;)|(&#0*34;)/gi,"'":/(&#x0*27;)|(&#0*39;)/gi,"`":/(&#x0*60;)|(&#0*96;)/gi},M=Object.keys(A);function D(e,t){return e.replace(A[t],t)}function L(e,t,n){return g(e).substr(t,n)}var R=9007199254740991;function F(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:R;return e<t?t:e>n?n:e}function N(e){return e===1/0?R:e===-1/0?-R:~~e}function P(t,n){var i=g(t),a=e(n)||isNaN(n)?i.length:F(N(n),0,R),o=i;if(0===n)return"";for(var r=0;r<a-1;r++)i+=o;return i}function H(e,t){return P(e,t-e.length+1).substr(0,t)}var B=function(t,n,i,a){var o=g(t),r=e(n)||isNaN(n)?o.length:F(N(n),0,R),s=i.length,l=r-o.length;if(l<=0||0===s)return o;var u=H(i,l);return a?u+o:o+u};var j=Array.prototype.reduce,V=Array.prototype.reduceRight;function U(e,t){return q(W(e,t),t)}function q(t,n){var i=g(t);if(e(n))return i.replace(o,"");if(""===n||""===i)return i;"string"!=typeof n&&(n="");var a=!0;return j.call(i,(function(e,t){return a&&n.includes(t)?e:(a=!1,e+t)}),"")}function W(t,n){var i=g(t);if(e(n))return i.replace(r,"");if(""===n||""===i)return i;"string"!=typeof n&&(n="");var a=!0;return V.call(i,(function(e,t){return a&&n.includes(t)?e:(a=!1,t+e)}),"")}var Y={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};var z=Object.create(null);function G(e){return function(e,t){for(var n,i,a,o,r,s,l,u=1,c=e.length,h="",d=0;d<c;d++)if("string"==typeof e[d])h+=e[d];else if("object"===k(e[d])){if((i=e[d]).keys){n=t[u];for(var f=0;f<i.keys.length;f++){if(void 0===n)throw new Error(G('[sprintf] Cannot access property "%s" of undefined value "%s"',i.keys[f],i.keys[f-1]));n=n[i.keys[f]]}}else n=i.param_no?t[i.param_no]:t[u++];if(Y.not_type.test(i.type)&&Y.not_primitive.test(i.type)&&n instanceof Function&&(n=n()),Y.numeric_arg.test(i.type)&&"number"!=typeof n&&isNaN(n))throw new TypeError(G("[sprintf] expecting number but found %T",n));switch(Y.number.test(i.type)&&(s=n>=0),i.type){case"b":n=parseInt(n,10).toString(2);break;case"c":n=String.fromCharCode(parseInt(n,10));break;case"d":case"i":n=parseInt(n,10);break;case"j":n=JSON.stringify(n,null,i.width?parseInt(i.width):0);break;case"e":n=i.precision?parseFloat(n).toExponential(i.precision):parseFloat(n).toExponential();break;case"f":n=i.precision?parseFloat(n).toFixed(i.precision):parseFloat(n);break;case"g":n=i.precision?String(Number(n.toPrecision(i.precision))):parseFloat(n);break;case"o":n=(parseInt(n,10)>>>0).toString(8);break;case"s":n=String(n),n=i.precision?n.substring(0,i.precision):n;break;case"t":n=String(!!n),n=i.precision?n.substring(0,i.precision):n;break;case"T":n=Object.prototype.toString.call(n).slice(8,-1).toLowerCase(),n=i.precision?n.substring(0,i.precision):n;break;case"u":n=parseInt(n,10)>>>0;break;case"v":n=n.valueOf(),n=i.precision?n.substring(0,i.precision):n;break;case"x":n=(parseInt(n,10)>>>0).toString(16);break;case"X":n=(parseInt(n,10)>>>0).toString(16).toUpperCase()}Y.json.test(i.type)?h+=n:(!Y.number.test(i.type)||s&&!i.sign?l="":(l=s?"+":"-",n=n.toString().replace(Y.sign,"")),o=i.pad_char?"0"===i.pad_char?"0":i.pad_char.charAt(1):" ",r=i.width-(l+n).length,a=i.width&&r>0?o.repeat(r):"",h+=i.align?l+n+a:"0"===o?l+a+n:a+l+n)}return h}(function(e){if(z[e])return z[e];for(var t,n=e,i=[],a=0;n;){if(null!==(t=Y.text.exec(n)))i.push(t[0]);else if(null!==(t=Y.modulo.exec(n)))i.push("%");else{if(null===(t=Y.placeholder.exec(n)))throw new SyntaxError("[sprintf] unexpected placeholder");if(t[2]){a|=1;var o=[],r=t[2],s=[];if(null===(s=Y.key.exec(r)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(o.push(s[1]);""!==(r=r.substring(s[0].length));)if(null!==(s=Y.key_access.exec(r)))o.push(s[1]);else{if(null===(s=Y.index_access.exec(r)))throw new SyntaxError("[sprintf] failed to parse named argument key");o.push(s[1])}t[2]=o}else a|=2;if(3===a)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");i.push({placeholder:t[0],param_no:t[1],keys:t[2],sign:t[3],pad_char:t[4],align:t[5],width:t[6],precision:t[7],type:t[8]})}n=n.substring(t[0].length)}return z[e]=i}(e),arguments)}var $,X,J={camelCase:function(e){return y(g(e)).map((function(e,t){return 0===t?e.toLowerCase():b(e)})).join("")},capitalize:b,chars:C,count:function(e){return g(e).length},countChars:function(e,t){return C(e,t).length},countUniqueChars:function(e,t){return E(C(e,t)).length},countSubstr:function(e,t){var n=g(e),i=g(t);return""===n||""===i?0:n.split(i).length-1},countWords:function(e,t,n){return y(e,t,n).length},countUniqueWords:function(e,t,n){return E(y(e,t,n)).length},dashedName:function(e){return y(g(e)).map((function(e){return e.toLowerCase()})).join("-")},decapitalize:function(e){var t=g(e);return t.substr(0,1).toLowerCase()+t.substr(1)},kebab:function(e){return y(g(e)).map((function(e){return e.toLowerCase()})).join("-")},lower:w,reverse:function(e,t){return C(g(e),t).reverse().join("")},shuffle:function(e){return function(e){for(var t,n,i=x(e),a=i.length;0!==a;)n=Math.floor(Math.random()*a),t=i[a-=1],i[a]=i[n],i[n]=t;return i}(g(e).split("")).join("")},snake:function(e){return y(g(e)).map((function(e){return e.toLowerCase()})).join("_")},swap:function(e){return g(e).split("").reduce(S,"")},title:function(t,n){var i=g(t),a=m.test(i)?d:h,o=Array.isArray(n)?n:e(n)?[]:n.split();return t.replace(a,(function(e,t){return t&&o.includes(i[t-1])?w(e):b(e)}))},upper:function(e){return g(e).toUpperCase()},words:y,wrap:function(e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"")+g(e)+t},wrapTag:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"div";return"<".concat(t,">").concat(g(e),"</").concat(t,">")},escapeHtml:function(e){return g(e).replace(u,I)},unescapeHtml:function(e){return M.reduce(D,g(e))},unique:function(e,t){return E(C(e,t)).join("")},uniqueWords:function(e,t,n){return E(y(e,t,n)).join("")},substr:L,first:function(e,t){var n=g(e);return n?L(n,0,t):""},last:function(e,t){var n=g(e);return n?L(n,n.length-t):""},truncate:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"...",a=g(t),o=e(n)||isNaN(n)?a.length:F(N(n),0,R);return L(a,0,o)+(a.length===o?"":i)},slice:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=g(e),i=[],a=Math.round(n.length/t),o=0;o<t;o++)i.push(L(n,o*a,a));return i},prune:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=g(t),o=e(n)||isNaN(n)?a.length:F(N(n),0,R),r=0,s=m.test(a)?d:h;return a.replace(s,(function(e,t){var n=t+e.length;n<=o-i.length&&(r=n)})),a.substr(0,r)+i},repeat:P,pad:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:" ",a=g(t),o=e(n)||isNaN(n)?a.length:F(N(n),0,R),r=i.length,s=o-a.length,l=N(s/2),u=s%2;return s<=0||0===r?a:H(i,l)+a+H(i,l+u)},lpad:function(e,t){return B(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:" ",!0)},rpad:function(e,t){return B(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:" ",!1)},insert:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=g(e);return i.substr(0,n)+t+i.substr(n)},trim:U,ltrim:q,rtrim:W,endsWith:function(e,t,n){return g(e).endsWith(t,n)},isAlpha:function(e){return f.test(g(e))},isAlphaDigit:function(e){return p.test(g(e))},isDigit:function(e){return s.test(g(e))},isBlank:function(e){return 0===U(e).length},isEmpty:function(e){return 0===g(e).length},isLower:function(e){var t=g(e);return t.toLowerCase()===t},isUpper:function(e){var t=g(e);return t.toUpperCase()===t},startWith:function(e,t,n){return g(e).startsWith(t,n)},stripTags:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return g(e).replace(/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,(function(e,n){return t.includes(n)?e:""}))},stripTagsAll:function(e){return g(e).replace(c,"")},sprintf:G,vsprintf:function(e,t){return G.apply(null,[e].concat(t||[]))},includes:function(e,t,n){return g(e).includes(t,n)}},K=null;$=Symbol.toPrimitive,X=Symbol.toStringTag;var Q=function(){function e(){var t,n,i,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),i=void 0,(n="_value")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,this._value=""+a}var t,n,i;return t=e,n=[{key:$,value:function(e){return"number"===e?+this.value:this.value}},{key:"toString",value:function(){return this.value}},{key:"escapeHtml",value:function(){return this.value=J.escapeHtml(this.value),this}},{key:"unescapeHtml",value:function(){return this.value=J.unescapeHtml(this.value),this}},{key:"camelCase",value:function(){return this.value=J.camelCase(this.value),this}},{key:"capitalize",value:function(e){return this.value=J.capitalize(this.value,e),this}},{key:"chars",value:function(){return J.chars(this.value)}},{key:"count",value:function(){return J.count(this.value)}},{key:"countChars",value:function(e){return J.countChars(this.value,e)}},{key:"countUniqueChars",value:function(e){return J.countUniqueChars(this.value,e)}},{key:"countSubstr",value:function(e){return J.countSubstr(this.value,e)}},{key:"countWords",value:function(e,t){return J.countWords(this.value,e,t)}},{key:"countUniqueWords",value:function(e,t){return J.countUniqueWords(this.value,e,t)}},{key:"dashedName",value:function(){return this.value=J.dashedName(this.value),this}},{key:"decapitalize",value:function(){return this.value=J.decapitalize(this.value),this}},{key:"kebab",value:function(){return this.value=J.kebab(this.value),this}},{key:"lower",value:function(){return this.value=J.lower(this.value),this}},{key:"reverse",value:function(){return this.value=J.reverse(this.value),this}},{key:"shuffle",value:function(){return this.value=J.shuffle(this.value),this}},{key:"snake",value:function(){return this.value=J.snake(this.value),this}},{key:"swap",value:function(){return this.value=J.swap(this.value),this}},{key:"title",value:function(){return this.value=J.title(this.value),this}},{key:"upper",value:function(){return this.value=J.upper(this.value),this}},{key:"words",value:function(e,t){return J.words(this.value,e,t)}},{key:"wrap",value:function(e,t){return this.value=J.wrap(this.value,e,t),this}},{key:"wrapTag",value:function(e){return this.value=J.wrapTag(this.value,e),this}},{key:"pad",value:function(e,t){return this.value=J.pad(this.value,e,t),this}},{key:"lpad",value:function(e,t){return this.value=J.lpad(this.value,e,t),this}},{key:"rpad",value:function(e,t){return this.value=J.rpad(this.value,e,t),this}},{key:"repeat",value:function(e){return this.value=J.repeat(this.value,e),this}},{key:"prune",value:function(e,t){return this.value=J.prune(this.value,e,t),this}},{key:"slice",value:function(e){return J.slice(this.value,e)}},{key:"truncate",value:function(e,t){return this.value=J.truncate(this.value,e,t),this}},{key:"last",value:function(e){return this.value=J.last(this.value,e),this}},{key:"first",value:function(e){return this.value=J.first(this.value,e),this}},{key:"substr",value:function(e,t){return this.value=J.substr(this.value,e,t),this}},{key:"unique",value:function(e){return J.unique(this.value,e)}},{key:"uniqueWords",value:function(e,t){return J.uniqueWords(this.value,e,t)}},{key:"insert",value:function(e,t){return this.value=J.insert(this.value,e,t),this}},{key:"trim",value:function(e){return this.value=J.trim(this.value,e),this}},{key:"ltrim",value:function(e){return this.value=J.ltrim(this.value,e),this}},{key:"rtrim",value:function(e){return this.value=J.rtrim(this.value,e),this}},{key:"endsWith",value:function(e,t){return J.endsWith(this.value,e,t)}},{key:"startWith",value:function(e,t){return J.startWith(this.value,e,t)}},{key:"isAlpha",value:function(){return J.isAlpha(this.value)}},{key:"isAlphaDigit",value:function(){return J.isAlphaDigit(this.value)}},{key:"isDigit",value:function(){return J.isDigit(this.value)}},{key:"isBlank",value:function(){return J.isBlank(this.value)}},{key:"isEmpty",value:function(){return J.isEmpty(this.value)}},{key:"isLower",value:function(){return J.isLower(this.value)}},{key:"isUpper",value:function(){return J.isUpper(this.value)}},{key:"stripTagsAll",value:function(){return this.value=J.stripTagsAll(this.value),this}},{key:"stripTags",value:function(e){return this.value=J.stripTags(this.value,e),this}},{key:"sprintf",value:function(e){return J.sprintf(this.value,e)}},{key:"vsprintf",value:function(e){return J.vsprintf(this.value,e)}},{key:"includes",value:function(e,t){return J.includes(this.value,e,t)}},{key:X,get:function(){return"Cake"}},{key:"value",get:function(){return this._value},set:function(e){this._value=e}},{key:"length",get:function(){return this._value.length}}],n&&_(t.prototype,n),i&&_(t,i),e}(),Z=Object.assign({},J),ee=null!==K?K:K="object"===(void 0===l?"undefined":k(l))&&l.Object===Object?l:"object"===("undefined"==typeof self?"undefined":k(self))&&self.Object===Object?self:new Function("return this")();ee.Cake=Z,ee.cake=function(e){return new Q(e)}}(),function(e,t){var n=["opacity","zIndex","order","zoom"];function i(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)}function a(e){return e===t||null===e}function o(e){return e.replace(/-([a-z])/g,(function(e,t){return t.toUpperCase()}))}function r(e){var n;return!(!e||"[object Object]"!==Object.prototype.toString.call(e))&&(!(n=e.prototype!==t)||n.constructor&&"function"==typeof n.constructor)}function s(e){for(var t in e)if(v(e,t))return!1;return!0}function l(e){return e instanceof Object&&"length"in e}function u(e,t){return t=t||" ",e.split(t).map((function(e){return(""+e).trim()})).filter((function(e){return""!==e}))}function c(e,t){return t||(t=[0,""]),e=String(e),t[0]=parseFloat(e),t[1]=e.match(/[\d.\-+]*\s*(.*)/)[1]||"",t}function h(e,t){var n=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(e);return void 0!==n[1]?n[1]:t}function d(e,t,i){t=o(t),["scrollLeft","scrollTop"].indexOf(t)>-1?e[t]=parseInt(i):e.style[t]=isNaN(i)||n.indexOf(""+t)>-1?i:i+"px"}function f(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType}function p(e,n,i){var o;return a(i)&&1===e.nodeType&&(o="data-"+n.replace(/[A-Z]/g,"-$&").toLowerCase(),"string"==typeof(i=e.getAttribute(o))?(i=function(e){try{return JSON.parse(e)}catch(t){return e}}(i),x.set(e,n,i)):i=t),i}function m(e){return"string"!=typeof e?t:e.replace(/-/g,"").toLowerCase()}function v(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function g(e){var t=e||window.location.hostname;return"localhost"===t||"127.0.0.1"===t||"[::1]"===t||""===t||null!==t.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)}!function(e){if(!e.setImmediate){var n,i,a,o=1,r={},s=!1,l=Object.getPrototypeOf&&Object.getPrototypeOf(e);l=l&&l.setTimeout?l:e,"[object process]"==={}.toString.call(e.process)?n=function(t){e.process.nextTick((function(){c(t)}))}:e.MessageChannel?((a=new MessageChannel).port1.onmessage=function(e){c(e.data)},n=function(e){a.port2.postMessage(e)}):(i="setImmediate$"+Math.random()+"$",e.addEventListener("message",(function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(i)&&c(+t.data.slice(i.length))}),!1),n=function(t){e.postMessage(i+t,"*")}),l.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),i=0;i<t.length;i++)t[i]=arguments[i+1];return r[o]={callback:e,args:t},n(o),o++},l.clearImmediate=u}function u(e){delete r[e]}function c(e){if(s)setTimeout(c,0,e);else{var n=r[e];if(n){s=!0;try{!function(e){var n=e.callback,i=e.args;switch(i.length){case 0:n();break;case 1:n(i[0]);break;case 2:n(i[0],i[1]);break;case 3:n(i[0],i[1],i[2]);break;default:n.apply(t,i)}}(n)}finally{u(e),s=!1}}}}}("undefined"==typeof self?void 0===e?window:e:self);var y="v1.1.0. Built at 05/05/2021 22:47:56",b=Element.prototype.matches||Element.prototype.matchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector,w=function(e,t){return new w.init(e,t)};w.version=y,w.fn=w.prototype={version:y,constructor:w,length:0,uid:"",push:[].push,sort:[].sort,splice:[].splice,indexOf:[].indexOf,reverse:[].reverse},w.extend=w.fn.extend=function(){var e,t,n=arguments[0]||{},i=1,a=arguments.length;for("object"!=typeof n&&"function"!=typeof n&&(n={}),i===a&&(n=this,i--);i<a;i++)if(null!=(e=arguments[i]))for(t in e)v(e,t)&&(n[t]=e[t]);return n},w.assign=function(){var e,n,i=arguments[0]||{},a=1,o=arguments.length;for("object"!=typeof i&&"function"!=typeof i&&(i={}),a===o&&(i=this,a--);a<o;a++)if(null!=(e=arguments[a]))for(n in e)v(e,n)&&e[n]!==t&&(i[n]=e[n]);return i};var C=function(){return Date.now()};function k(e){var t=document.createElement("script");if(t.type="text/javascript",a(e))return w(t);var n=w(e)[0];return n.src?t.src=n.src:t.textContent=n.innerText,document.body.appendChild(t),n.parentNode&&n.parentNode.removeChild(n),t}w.extend({intervalId:-1,intervalQueue:[],intervalTicking:!1,intervalTickId:null,setInterval:function(e,t){var n=this;if(this.intervalId++,this.intervalQueue.push({id:this.intervalId,fn:e,interval:t,lastTime:C()}),!this.intervalTicking){var i=function(){n.intervalTickId=requestAnimationFrame(i),w.each(n.intervalQueue,(function(){var e=this;(e.interval<17||C()-e.lastTime>=e.interval)&&(e.fn(),e.lastTime=C())}))};this.intervalTicking=!0,i()}return this.intervalId},clearInterval:function(e){for(var t=0;t<this.intervalQueue.length;t++)if(e===this.intervalQueue[t].id){this.intervalQueue.splice(t,1);break}0===this.intervalQueue.length&&(cancelAnimationFrame(this.intervalTickId),this.intervalTicking=!1)},setTimeout:function(e,t){var n=this,i=this.setInterval((function(){n.clearInterval(i),e()}),t);return i},clearTimeout:function(e){return this.clearInterval(e)}}),w.fn.extend({index:function(e){var n,i=-1;return 0===this.length?i:(n=a(e)?this[0]:e instanceof w&&e.length>0?e[0]:"string"==typeof e?w(e)[0]:t,a(n)||n&&n.parentNode&&w.each(n.parentNode.children,(function(e){this===n&&(i=e)})),i)},get:function(e){return e===t?this.items():e<0?this[e+this.length]:this[e]},eq:function(e){return!a(e)&&this.length>0?w.extend(w(this.get(e)),{_prevObj:this}):this},is:function(e){var t=!1;return 0!==this.length&&(e instanceof w?this.same(e):(":selected"===e?this.each((function(){this.selected&&(t=!0)})):":checked"===e?this.each((function(){this.checked&&(t=!0)})):":visible"===e?this.each((function(){i(this)&&(t=!0)})):":hidden"===e?this.each((function(){var e=getComputedStyle(this);("hidden"===this.getAttribute("type")||this.hidden||"none"===e.display||"hidden"===e.visibility||0===parseInt(e.opacity))&&(t=!0)})):"string"==typeof e&&-1===[":selected"].indexOf(e)?this.each((function(){b.call(this,e)&&(t=!0)})):l(e)?this.each((function(){var n=this;w.each(e,(function(){n===this&&(t=!0)}))})):"object"==typeof e&&1===e.nodeType&&this.each((function(){this===e&&(t=!0)})),t))},same:function(e){var t=!0;return e instanceof w||(e=w(e)),this.length===e.length&&(this.each((function(){-1===e.items().indexOf(this)&&(t=!1)})),t)},last:function(){return this.eq(this.length-1)},first:function(){return this.eq(0)},odd:function(){var e=this.filter((function(e,t){return t%2==0}));return w.extend(e,{_prevObj:this})},even:function(){var e=this.filter((function(e,t){return t%2!=0}));return w.extend(e,{_prevObj:this})},filter:function(e){if("string"==typeof e){var t=e;e=function(e){return b.call(e,t)}}return w.extend(w.merge(w(),[].filter.call(this,e)),{_prevObj:this})},find:function(e){var t,n=[];return e instanceof w?e:(0===this.length?t=this:(this.each((function(){void 0!==this.querySelectorAll&&(n=n.concat([].slice.call(this.querySelectorAll(e))))})),t=w.merge(w(),n)),w.extend(t,{_prevObj:this}))},contains:function(e){return this.find(e).length>0},children:function(e){var t,n=[];return e instanceof w?e:(this.each((function(){var e=this;for(t=0;t<e.children.length;t++)1===e.children[t].nodeType&&n.push(e.children[t])})),n=e?n.filter((function(t){return b.call(t,e)})):n,w.extend(w.merge(w(),n),{_prevObj:this}))},parent:function(e){var t=[];if(0!==this.length)return e instanceof w?e:(this.each((function(){this.parentNode&&-1===t.indexOf(this.parentNode)&&t.push(this.parentNode)})),t=e?t.filter((function(t){return b.call(t,e)})):t,w.extend(w.merge(w(),t),{_prevObj:this}))},parents:function(e){var t=[];if(0!==this.length)return e instanceof w?e:(this.each((function(){for(var n=this.parentNode;n;)1===n.nodeType&&-1===t.indexOf(n)&&(a(e)||b.call(n,e))&&t.push(n),n=n.parentNode})),w.extend(w.merge(w(),t),{_prevObj:this}))},siblings:function(e){var t=[];if(0!==this.length)return e instanceof w?e:(this.each((function(){var e=this;e.parentNode&&w.each(e.parentNode.children,(function(){e!==this&&t.push(this)}))})),e&&(t=t.filter((function(t){return b.call(t,e)}))),w.extend(w.merge(w(),t),{_prevObj:this}))},_siblingAll:function(e,t){var n=[];if(0!==this.length)return t instanceof w?t:(this.each((function(){for(var t=this;t&&(t=t[e]);)n.push(t)})),t&&(n=n.filter((function(e){return b.call(e,t)}))),w.extend(w.merge(w(),n),{_prevObj:this}))},_sibling:function(e,t){var n=[];if(0!==this.length)return t instanceof w?t:(this.each((function(){var t=this[e];t&&1===t.nodeType&&n.push(t)})),t&&(n=n.filter((function(e){return b.call(e,t)}))),w.extend(w.merge(w(),n),{_prevObj:this}))},prev:function(e){return this._sibling("previousElementSibling",e)},next:function(e){return this._sibling("nextElementSibling",e)},prevAll:function(e){return this._siblingAll("previousElementSibling",e)},nextAll:function(e){return this._siblingAll("nextElementSibling",e)},closest:function(e){var t=[];if(0!==this.length)return e instanceof w?e:e?(this.each((function(){for(var n=this;n&&n;){if(b.call(n,e))return void t.push(n);n=n.parentElement}})),w.extend(w.merge(w(),t.reverse()),{_prevObj:this})):this.parent(e)},has:function(e){var t=[];if(0!==this.length)return this.each((function(){w(this).children(e).length>0&&t.push(this)})),w.extend(w.merge(w(),t),{_prevObj:this})},back:function(e){var t;if(!0===e)for(t=this._prevObj;t&&t._prevObj;)t=t._prevObj;else t=this._prevObj?this._prevObj:this;return t}}),w.extend({script:function(e){if(a(e))return k();var t=w(e)[0];t.tagName&&"SCRIPT"===t.tagName?k(t):w.each(w(t).find("script"),(function(){k(this)}))}}),w.fn.extend({script:function(){return this.each((function(){w.script(this)}))}}),w.fn.extend({_prop:function(e,n){return 1===arguments.length?0===this.length?t:this[0][e]:(a(n)&&(n=""),this.each((function(){this[e]=n,"innerHTML"===e&&w.script(this)})))},prop:function(e,t){return 1===arguments.length?this._prop(e):this._prop(e,void 0===t?"":t)},val:function(e){return a(e)?0===this.length?t:this[0].value:this.each((function(){var t=w(this);void 0!==this.value?this.value=e:t.html(e)}))},html:function(e){var t=[];return 0===arguments.length?this._prop("innerHTML"):(e instanceof w?e.each((function(){t.push(w(this).outerHTML())})):t.push(e),this._prop("innerHTML",1===t.length&&a(t[0])?"":t.join("\n")),this)},outerHTML:function(){return this._prop("outerHTML")},text:function(e){return 0===arguments.length?this._prop("textContent"):this._prop("textContent",void 0===e?"":e)},innerText:function(e){return 0===arguments.length?this._prop("innerText"):this._prop("innerText",void 0===e?"":e)},empty:function(){return this.each((function(){void 0!==this.innerHTML&&(this.innerHTML="")}))},clear:function(){return this.empty()}}),w.each=function(e,t){var n=0;if(l(e))[].forEach.call(e,(function(e,n){t.apply(e,[n,e])}));else for(var i in e)v(e,i)&&t.apply(e[i],[i,e[i],n++]);return e},w.fn.extend({each:function(e){return w.each(this,e)}});var _=function(e){this.expando="DATASET:UID:"+e.toUpperCase(),_.uid++};_.uid=-1,_.prototype={cache:function(e){var t=e[this.expando];return t||(t={},f(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var i,a=this.cache(e);if("string"==typeof t)a[o(t)]=n;else for(i in t)v(t,i)&&(a[o(i)]=t[i]);return a},get:function(e,n){return n===t?this.cache(e):e[this.expando]&&e[this.expando][o(n)]},access:function(e,n,i){return n===t||n&&"string"==typeof n&&i===t?this.get(e,n):(this.set(e,n,i),i!==t?i:n)},remove:function(e,n){var i,a=e[this.expando];if(a!==t){if(n!==t){i=(n=Array.isArray(n)?n.map(o):(n=o(n))in a?[n]:n.match(/[^\x20\t\r\n\f]+/g)||[]).length;for(;i--;)delete a[n[i]]}return(n===t||s(a))&&(e.nodeType?e[this.expando]=t:delete e[this.expando]),!0}},hasData:function(e){var n=e[this.expando];return n!==t&&!s(n)}};var x=new _("m4q");w.extend({hasData:function(e){return x.hasData(e)},data:function(e,t,n){return x.access(e,t,n)},removeData:function(e,t){return x.remove(e,t)},dataSet:function(e){if(a(e))return x;if(["INTERNAL","M4Q"].indexOf(e.toUpperCase())>-1)throw Error("You can not use reserved name for your dataset");return new _(e)}}),w.fn.extend({data:function(e,n){var i,a,r,s,l,u;if(0!==this.length){if(a=this[0],0===arguments.length){if(this.length&&(r=x.get(a),1===a.nodeType))for(u=(s=a.attributes).length;u--;)s[u]&&0===(l=s[u].name).indexOf("data-")&&p(a,l=o(l.slice(5)),r[l]);return r}return 1===arguments.length?((i=x.get(a,e))===t&&1===a.nodeType&&a.hasAttribute("data-"+e)&&(i=a.getAttribute("data-"+e)),i):this.each((function(){x.set(this,e,n)}))}},removeData:function(e){return this.each((function(){x.remove(this,e)}))},origin:function(e,t,n){if(0===this.length)return this;if(a(e)&&a(t))return w.data(this[0]);if(a(t)){var i=w.data(this[0],"origin-"+e);return a(i)?n:i}return this.data("origin-"+e,t),this}}),w.extend({device:/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(navigator.userAgent.toLowerCase()),localhost:g(),isLocalhost:g,touchable:"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0,dark:window.matchMedia("(prefers-color-scheme: dark)").matches,uniqueId:function(e){var t=(new Date).getTime();return a(e)&&(e="m4q"),(""!==e?e+"-":"")+"xxxx-xxxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"===e?n:3&n|8).toString(16)}))},toArray:function(e){var t,n=[];for(t=0;t<e.length;t++)n.push(e[t]);return n},import:function(e){var t=[];return this.each(e,(function(){t.push(this)})),this.merge(w(),t)},merge:function(e,t){for(var n=+t.length,i=0,a=e.length;i<n;i++)e[a++]=t[i];return e.length=a,e},type:function(e){return Object.prototype.toString.call(e).replace(/^\[object (.+)]$/,"$1").toLowerCase()},sleep:function(e){(new Date).getTime()},isSelector:function(e){if("string"!=typeof e)return!1;try{document.querySelector(e)}catch(e){return!1}return!0},remove:function(e){return w(e).remove()},camelCase:o,dashedName:function(e){return e.replace(/([A-Z])/g,(function(e){return"-"+e.toLowerCase()}))},isPlainObject:r,isEmptyObject:s,isArrayLike:l,acceptData:f,not:a,parseUnit:c,getUnit:h,unit:c,isVisible:i,isHidden:function(e){var t=getComputedStyle(e);return!i(e)||0==+t.opacity||e.hidden||"hidden"===t.visibility},matches:function(e,t){return b.call(e,t)},random:function(e,t){return 1===arguments.length&&l(e)?e[Math.floor(Math.random()*e.length)]:Math.floor(Math.random()*(t-e+1)+e)},strip:function(e,n){return"string"!=typeof e?t:e.replace(n,"")},normName:m,hasProp:v,serializeToArray:function(e){var t=w(e)[0];if(t&&"FORM"===t.nodeName){var n,i,a=[];for(n=t.elements.length-1;n>=0;n-=1)if(""!==t.elements[n].name)switch(t.elements[n].nodeName){case"INPUT":switch(t.elements[n].type){case"checkbox":case"radio":t.elements[n].checked&&a.push(t.elements[n].name+"="+encodeURIComponent(t.elements[n].value));break;case"file":break;default:a.push(t.elements[n].name+"="+encodeURIComponent(t.elements[n].value))}break;case"TEXTAREA":a.push(t.elements[n].name+"="+encodeURIComponent(t.elements[n].value));break;case"SELECT":switch(t.elements[n].type){case"select-one":a.push(t.elements[n].name+"="+encodeURIComponent(t.elements[n].value));break;case"select-multiple":for(i=t.elements[n].options.length-1;i>=0;i-=1)t.elements[n].options[i].selected&&a.push(t.elements[n].name+"="+encodeURIComponent(t.elements[n].options[i].value))}break;case"BUTTON":switch(t.elements[n].type){case"reset":case"submit":case"button":a.push(t.elements[n].name+"="+encodeURIComponent(t.elements[n].value))}}return a}console.warn("Element is not a HTMLFromElement")},serialize:function(e){return w.serializeToArray(e).join("&")}}),w.fn.extend({items:function(){return w.toArray(this)}});var T=Event.prototype.stopPropagation,S=Event.prototype.preventDefault;Event.prototype.stopPropagation=function(){this.isPropagationStopped=!0,T.apply(this,arguments)},Event.prototype.preventDefault=function(){this.isPreventedDefault=!0,S.apply(this,arguments)},Event.prototype.stop=function(e){return e?this.stopImmediatePropagation():this.stopPropagation()},w.extend({events:[],eventHooks:{},eventUID:-1,setEventHandler:function(e){var t,n,i,a=-1;if(this.events.length>0)for(t=0;t<this.events.length;t++)if(null===this.events[t].handler){a=t;break}return n={element:e.el,event:e.event,handler:e.handler,selector:e.selector,ns:e.ns,id:e.id,options:e.options},-1===a?(this.events.push(n),i=this.events.length-1):(this.events[a]=n,i=a),i},getEventHandler:function(e){return this.events[e]!==t&&null!==this.events[e]?(this.events[e]=null,this.events[e].handler):t},off:function(){return w.each(this.events,(function(){this.element.removeEventListener(this.event,this.handler,!0)})),this.events=[],this},getEvents:function(){return this.events},getEventHooks:function(){return this.eventHooks},addEventHook:function(e,t,n){return a(n)&&(n="before"),w.each(u(e),(function(){this.eventHooks[o(n+"-"+this)]=t})),this},removeEventHook:function(e,t){return a(t)&&(t="before"),w.each(u(e),(function(){delete this.eventHooks[o(t+"-"+this)]})),this},removeEventHooks:function(e){var t=this;return a(e)?this.eventHooks={}:w.each(u(e),(function(){delete t.eventHooks[o("before-"+this)],delete t.eventHooks[o("after-"+this)]})),this}}),w.fn.extend({on:function(e,n,i,a){if(0!==this.length)return"function"==typeof n&&(a=i,i=n,n=t),r(a)||(a={}),this.each((function(){var t=this;w.each(u(e),(function(){var e,r,l,u=this.split("."),c=m(u[0]),h=a.ns?a.ns:u[1];w.eventUID++,e=function(e){var s=e.target,l=w.eventHooks[o("before-"+c)],u=w.eventHooks[o("after-"+c)];if("function"==typeof l&&l.call(s,e),n)for(;s&&s!==t;){if(b.call(s,n)&&(i.call(s,e),e.isPropagationStopped)){e.stopImmediatePropagation();break}s=s.parentNode}else i.call(t,e);"function"==typeof u&&u.call(s,e),a.once&&(r=+w(t).origin("event-"+e.type+(n?":"+n:"")+(h?":"+h:"")),isNaN(r)||w.events.splice(r,1))},Object.defineProperty(e,"name",{value:i.name&&""!==i.name?i.name:"func_event_"+c+"_"+w.eventUID}),l=c+(n?":"+n:"")+(h?":"+h:""),t.addEventListener(c,e,!s(a)&&a),r=w.setEventHandler({el:t,event:c,handler:e,selector:n,ns:h,id:w.eventUID,options:!s(a)&&a}),w(t).origin("event-"+l,r)}))}))},one:function(e,t,n,i){return r(i)||(i={}),i.once=!0,this.on.apply(this,[e,t,n,i])},off:function(e,n,i){return r(n)&&(i=n,n=null),r(i)||(i={}),a(e)||"all"===e.toLowerCase()?this.each((function(){var e=this;w.each(w.events,(function(){var t=this;t.element===e&&(e.removeEventListener(t.event,t.handler,t.options),t.handler=null,w(e).origin("event-"+name+(t.selector?":"+t.selector:"")+(t.ns?":"+t.ns:""),null))}))})):this.each((function(){var a=this;w.each(u(e),(function(){var e,o,r=this.split("."),s=m(r[0]),l=i.ns?i.ns:r[1];e="event-"+s+(n?":"+n:"")+(l?":"+l:""),(o=w(a).origin(e))!==t&&w.events[o].handler&&(a.removeEventListener(s,w.events[o].handler,w.events[o].options),w.events[o].handler=null),w(a).origin(e,null)}))}))},trigger:function(e,t){return this.fire(e,t)},fire:function(e,t){var n,i;if(0!==this.length)return n=m(e),["focus","blur"].indexOf(n)>-1?(this[0][n](),this):("undefined"!=typeof CustomEvent?i=new CustomEvent(n,{bubbles:!0,cancelable:!0,detail:t}):((i=document.createEvent("Events")).detail=t,i.initEvent(n,!0,!0)),this.each((function(){this.dispatchEvent(i)})))}}),"blur focus resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu touchstart touchend touchmove touchcancel".split(" ").forEach((function(e){w.fn[e]=function(t,n,i){return arguments.length>0?this.on(e,t,n,i):this.fire(e)}})),w.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),w.ready=function(e,t){document.addEventListener("DOMContentLoaded",e,t||!1)},w.load=function(e){return w(window).on("load",e)},w.unload=function(e){return w(window).on("unload",e)},w.fn.extend({unload:function(e){return 0===this.length||this[0].self!==window?t:w.unload(e)}}),w.beforeunload=function(e){return"string"==typeof e?w(window).on("beforeunload",(function(t){return t.returnValue=e,e})):w(window).on("beforeunload",e)},w.fn.extend({beforeunload:function(e){return 0===this.length||this[0].self!==window?t:w.beforeunload(e)}}),w.fn.extend({ready:function(e){if(this.length&&this[0]===document&&"function"==typeof e)return w.ready(e)}}),w.ajax=function(e){return new Promise((function(t,n){var i,l,u,c=new XMLHttpRequest,h=(e.method||"GET").toUpperCase(),d=[],f=!!a(e.async)||e.async,p=e.url,m=p.indexOf("?")>-1?"&":"?",v=function(e,t){"function"==typeof e&&e.apply(null,t)},g=function(e){return-1!==["GET","JSON"].indexOf(e)};if(e.data instanceof HTMLFormElement){var y=e.data.getAttribute("action"),b=e.data.getAttribute("method");a(p)&&y&&""!==y.trim()&&(p=y),b&&""!==b.trim()&&(h=b.toUpperCase())}if(e.timeout&&(c.timeout=e.timeout),e.withCredentials&&(c.withCredentials=e.withCredentials),e.data instanceof HTMLFormElement)i=w.serialize(e.data);else if(e.data instanceof HTMLElement&&e.data.getAttribute("type")&&"file"===e.data.getAttribute("type").toLowerCase()){var C=e.data.getAttribute("name");i=new FormData;for(var k=0;k<e.data.files.length;k++)i.append(C,e.data.files[k])}else r(e.data)?(l=e.data,u=[],w.each(l,(function(e,t){var n=function(e){return"string"==typeof e||"boolean"==typeof e||"number"==typeof e}(t)?t:JSON.stringify(t);u.push(e+"="+n)})),i=u.join("&")):e.data instanceof FormData||"string"==typeof e.data?i=e.data:(i=new FormData).append("_data",JSON.stringify(e.data));g(h)&&(p+="string"==typeof i?m+i:s(i)?"":m+JSON.stringify(i)),c.open(h,p,f,e.user,e.password),e.headers&&w.each(e.headers,(function(e,t){c.setRequestHeader(e,t),d.push(e)})),g(h)||-1===d.indexOf("Content-type")&&!1!==e.contentType&&c.setRequestHeader("Content-type","application/x-www-form-urlencoded"),c.send(i),c.addEventListener("load",(function(i){if(4===c.readyState&&c.status<300){var a=e.returnValue&&"xhr"===e.returnValue?c:c.response;if(e.parseJson)try{a=JSON.parse(a)}catch(e){a={}}v(t,[a]),v(e.onSuccess,[i,c])}else v(n,[c]),v(e.onFail,[i,c]);v(e.onLoad,[i,c])})),w.each(["readystatechange","error","timeout","progress","loadstart","loadend","abort"],(function(){var t=o("on-"+("readystatechange"===this?"state":this));c.addEventListener(t,(function(n){v(e[t],[n,c])}))}))}))},["get","post","put","patch","delete","json"].forEach((function(e){w[e]=function(t,n,i){var a=e.toUpperCase(),o={method:"JSON"===a?"GET":a,url:t,data:n,parseJson:"JSON"===a};return w.ajax(w.extend({},o,i))}})),w.fn.extend({load:function(e,t,n){var i=this;return this.length&&this[0].self===window?w.load(e):w.get(e,t,n).then((function(e){i.each((function(){this.innerHTML=e}))}))}}),w.fn.extend({style:function(e,n){var i;function o(e,t,n){return["scrollLeft","scrollTop"].indexOf(t)>-1?w(e)[t]():getComputedStyle(e,n)[t]}if("string"==typeof e&&0===this.length)return t;if(0===this.length)return this;if(i=this[0],a(e)||"all"===e)return getComputedStyle(i,n);var r={},s=e.split(", ").map((function(e){return(""+e).trim()}));return 1===s.length?o(i,s[0],n):(w.each(s,(function(){r[this]=o(i,this,n)})),r)},removeStyleProperty:function(e){if(a(e)||0===this.length)return this;var t=e.split(", ").map((function(e){return(""+e).trim()}));return this.each((function(){var e=this;w.each(t,(function(){e.style.removeProperty(this)}))}))},css:function(e,t){return"string"==typeof(e=e||"all")&&a(t)?this.style(e):this.each((function(){var n=this;"object"==typeof e?w.each(e,(function(e,t){d(n,e,t)})):"string"==typeof e&&d(n,e,t)}))},scrollTop:function(e){return a(e)?0===this.length?t:this[0]===window?pageYOffset:this[0].scrollTop:this.each((function(){this.scrollTop=e}))},scrollLeft:function(e){return a(e)?0===this.length?t:this[0]===window?pageXOffset:this[0].scrollLeft:this.each((function(){this.scrollLeft=e}))}}),w.fn.extend({addClass:function(){},removeClass:function(){},toggleClass:function(){},containsClass:function(e){return this.hasClass(e)},hasClass:function(e){var t=!1,n=e.split(" ").filter((function(e){return""!==(""+e).trim()}));return!a(e)&&(this.each((function(){var e=this;w.each(n,(function(){!t&&e.classList&&e.classList.contains(this)&&(t=!0)}))})),t)},clearClasses:function(){return this.each((function(){this.className=""}))},cls:function(e){return 0===this.length?t:e?this[0].className.split(" "):this[0].className},removeClassBy:function(e){return this.each((function(){var t=w(this),n=t.cls(!0);w.each(n,(function(){this.indexOf(e)>-1&&t.removeClass(this)}))}))}}),["add","remove","toggle"].forEach((function(e){w.fn[e+"Class"]=function(t){return a(t)||""===(""+t).trim()?this:this.each((function(){var n=this,i=void 0!==n.classList;w.each(t.split(" ").filter((function(e){return""!==(""+e).trim()})),(function(){i&&n.classList[e](this)}))}))}})),w.parseHTML=function(e){var t,n,i,a,o=[];if("string"!=typeof e)return[];if(e=e.trim(),(t=(i=document.implementation.createHTMLDocument("")).createElement("base")).href=document.location.href,i.head.appendChild(t),a=i.body,n=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i.exec(e))o.push(document.createElement(n[1]));else{a.innerHTML=e;for(var r=0;r<a.childNodes.length;r++)o.push(a.childNodes[r])}return o},w.fn.extend({_size:function(e,t){if(0!==this.length){if(a(t)){var n=this[0];if("height"===e)return n===window?window.innerHeight:n===document?n.body.clientHeight:parseInt(getComputedStyle(n).height);if("width"===e)return n===window?window.innerWidth:n===document?n.body.clientWidth:parseInt(getComputedStyle(n).width)}return this.each((function(){var n=this;n!==window&&n!==document&&(n.style[e]=isNaN(t)?t:t+"px")}))}},height:function(e){return this._size("height",e)},width:function(e){return this._size("width",e)},_sizeOut:function(e,t){var n,i,o,r;if(0!==this.length)return a(t)||"boolean"==typeof t?(i=(n=this[0])["width"===e?"offsetWidth":"offsetHeight"],o=getComputedStyle(n),r=i+parseInt(o["width"===e?"margin-left":"margin-top"])+parseInt(o["width"===e?"margin-right":"margin-bottom"]),!0===t?r:i):this.each((function(){var n=this;if(n!==window&&n!==document){var i,a=getComputedStyle(n),o="width"===e?parseInt(a["border-left-width"])+parseInt(a["border-right-width"]):parseInt(a["border-top-width"])+parseInt(a["border-bottom-width"]),r="width"===e?parseInt(a["padding-left"])+parseInt(a["padding-right"]):parseInt(a["padding-top"])+parseInt(a["padding-bottom"]);i=w(this)[e](t)[e]()-o-r,n.style[e]=i+"px"}}))},outerWidth:function(e){return this._sizeOut("width",e)},outerHeight:function(e){return this._sizeOut("height",e)},padding:function(e){if(0!==this.length){var t=getComputedStyle(this[0],e);return{top:parseInt(t["padding-top"]),right:parseInt(t["padding-right"]),bottom:parseInt(t["padding-bottom"]),left:parseInt(t["padding-left"])}}},margin:function(e){if(0!==this.length){var t=getComputedStyle(this[0],e);return{top:parseInt(t["margin-top"]),right:parseInt(t["margin-right"]),bottom:parseInt(t["margin-bottom"]),left:parseInt(t["margin-left"])}}},border:function(e){if(0!==this.length){var t=getComputedStyle(this[0],e);return{top:parseInt(t["border-top-width"]),right:parseInt(t["border-right-width"]),bottom:parseInt(t["border-bottom-width"]),left:parseInt(t["border-left-width"])}}}}),w.fn.extend({offset:function(e){var n;return a(e)?0===this.length?t:{top:(n=this[0].getBoundingClientRect()).top+pageYOffset,left:n.left+pageXOffset}:this.each((function(){var t=w(this),n=e.top,i=e.left,a=getComputedStyle(this).position,o=t.offset();"static"===a&&t.css("position","relative"),-1===["absolute","fixed"].indexOf(a)&&(n-=o.top,i-=o.left),t.css({top:n,left:i})}))},position:function(e){var n,i,o=0,r=0;return(a(e)||"boolean"!=typeof e)&&(e=!1),0===this.length?t:(n=this[0],i=getComputedStyle(n),e&&(o=parseInt(i["margin-left"]),r=parseInt(i["margin-top"])),{left:n.offsetLeft-o,top:n.offsetTop-r})},left:function(e,t){if(0!==this.length)return a(e)?this.position(t).left:"boolean"==typeof e?(t=e,this.position(t).left):this.each((function(){w(this).css({left:e})}))},top:function(e,t){if(0!==this.length)return a(e)?this.position(t).top:"boolean"==typeof e?(t=e,this.position(t).top):this.each((function(){w(this).css({top:e})}))},coord:function(){return 0===this.length?t:this[0].getBoundingClientRect()},pos:function(){if(0!==this.length)return{top:parseInt(w(this[0]).style("top")),left:parseInt(w(this[0]).style("left"))}}}),w.fn.extend({attr:function(e,n){var i={};return 0===this.length&&0===arguments.length?t:this.length&&0===arguments.length?(w.each(this[0].attributes,(function(){i[this.nodeName]=this.nodeValue})),i):1===arguments.length&&"string"==typeof e?this.length&&1===this[0].nodeType&&this[0].hasAttribute(e)?this[0].getAttribute(e):t:this.each((function(){var t=this;r(e)?w.each(e,(function(e,n){t.setAttribute(e,n)})):t.setAttribute(e,n)}))},removeAttr:function(e){var t;return a(e)?this.each((function(){var e=this;w.each(this.attributes,(function(){e.removeAttribute(this)}))})):(t="string"==typeof e?e.split(",").map((function(e){return e.trim()})):e,this.each((function(){var e=this;w.each(t,(function(){e.hasAttribute(this)&&e.removeAttribute(this)}))})))},toggleAttr:function(e,t){return this.each((function(){a(t)?this.removeAttribute(e):this.setAttribute(e,t)}))},id:function(e){return this.length?w(this[0]).attr("id",e):t}}),w.extend({meta:function(e){return a(e)?w("meta"):w("meta[name='$name']".replace("$name",e))},metaBy:function(e){return a(e)?w("meta"):w("meta[$name]".replace("$name",e))},doctype:function(){return w("doctype")},html:function(){return w("html")},head:function(){return w("html").find("head")},body:function(){return w("body")},document:function(){return w(document)},window:function(){return w(window)},charset:function(e){var t=w("meta[charset]");return e&&t.attr("charset",e),t.attr("charset")}}),w.extend({proxy:function(e,n){return"function"!=typeof e?t:e.bind(n)},bind:function(e,t){return this.proxy(e,t)}}),[Element.prototype,Document.prototype,DocumentFragment.prototype].forEach((function(e){["append","prepend"].forEach((function(t){v(e,t)||Object.defineProperty(e,t,{configurable:!0,enumerable:!0,writable:!0,value:function(){var e=Array.prototype.slice.call(arguments),n=document.createDocumentFragment();e.forEach((function(e){var t=e instanceof Node;n.appendChild(t?e:document.createTextNode(String(e)))})),"prepend"===t?this.insertBefore(n,this.firstChild):this.appendChild(n)}})}))}));var E=function(e){var t;return"string"==typeof e?t=w.isSelector(e)?w(e):w.parseHTML(e):e instanceof HTMLElement?t=[e]:l(e)&&(t=e),t};w.fn.extend({appendText:function(e){return this.each((function(t,n){n.innerHTML+=e}))},prependText:function(e){return this.each((function(t,n){n.innerHTML=e+n.innerHTML}))},append:function(e){var t=E(e);return this.each((function(e,n){w.each(t,(function(){if(n!==this){var t=0===e?this:this.cloneNode(!0);w.script(t),t.tagName&&"SCRIPT"!==t.tagName&&n.append(t)}}))}))},appendTo:function(e){var t=E(e);return this.each((function(){var e=this;w.each(t,(function(t,n){e!==this&&n.append(0===t?e:e.cloneNode(!0))}))}))},prepend:function(e){var t=E(e);return this.each((function(e,n){w.each(t,(function(){if(n!==this){var t=0===e?this:this.cloneNode(!0);w.script(t),t.tagName&&"SCRIPT"!==t.tagName&&n.prepend(t)}}))}))},prependTo:function(e){var t=E(e);return this.each((function(){var e=this;w.each(t,(function(t,n){e!==this&&w(n).prepend(0===t?e:e.cloneNode(!0))}))}))},insertBefore:function(e){var t=E(e);return this.each((function(){var e=this;w.each(t,(function(t){if(e!==this){var n=this.parentNode;n&&n.insertBefore(0===t?e:e.cloneNode(!0),this)}}))}))},insertAfter:function(e){var t=E(e);return this.each((function(){var e=this;w.each(t,(function(t,n){if(e!==this){var i=this.parentNode;i&&i.insertBefore(0===t?e:e.cloneNode(!0),n.nextSibling)}}))}))},after:function(e){return this.each((function(){"string"==typeof e?this.insertAdjacentHTML("afterend",e):w(e).insertAfter(this)}))},before:function(e){return this.each((function(){"string"==typeof e?this.insertAdjacentHTML("beforebegin",e):w(e).insertBefore(this)}))},clone:function(e,t){var n=[];return a(e)&&(e=!1),a(t)&&(t=!1),this.each((function(){var i,a=this.cloneNode(e),o=w(a);t&&w.hasData(this)&&(i=w(this).data(),w.each(i,(function(e,t){o.data(e,t)}))),n.push(a)})),w.merge(w(),n)},import:function(e){var t=[];return a(e)&&(e=!1),this.each((function(){t.push(document.importNode(this,e))})),w.merge(w(),t)},adopt:function(){var e=[];return this.each((function(){e.push(document.adoptNode(this))})),w.merge(w(),e)},remove:function(e){var t,n,i=0,a=[];if(0!==this.length){for(n=e?this.filter((function(t){return b.call(t,e)})):this.items();null!=(t=n[i]);i++)t.parentNode&&(a.push(t.parentNode.removeChild(t)),w.removeData(t));return w.merge(w(),a)}},wrap:function(e){if(0!==this.length){var t=w(E(e));if(t.length){var n=[];return this.each((function(){var e,i;for((i=t.clone(!0,!0)).insertBefore(this),e=i;e.children().length;)e=e.children().eq(0);e.append(this),n.push(i)})),w(n)}}},wrapAll:function(e){var t,n,i;if(0!==this.length&&(t=w(E(e))).length){for((n=t.clone(!0,!0)).insertBefore(this[0]),i=n;i.children().length;)i=i.children().eq(0);return this.each((function(){i.append(this)})),n}},wrapInner:function(e){if(0!==this.length){var t=w(E(e));if(t.length){var n=[];return this.each((function(){var e=w(this),i=e.html(),a=t.clone(!0,!0);e.html(a.html(i)),n.push(a)})),w(n)}}}}),w.extend({animation:{duration:1e3,ease:"linear",elements:{}}}),"object"==typeof window.setupAnimation&&w.each(window.setupAnimation,(function(e,t){void 0===w.animation[e]||a(t)||(w.animation[e]=t)}));var O=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY"],I=["opacity","zIndex"],A=["opacity","volume"],M=["scrollLeft","scrollTop"],D=["opacity","volume"];function L(e){return e instanceof HTMLElement||e instanceof SVGElement}function R(e,t,n){w.each(t,(function(t,i){!function(e,t,n,i,r){a(r)&&(r=!1),t=o(t),r&&(n=parseInt(n)),L(e)?void 0!==e[t]?e[t]=n:e.style[t]="transform"===t||t.toLowerCase().indexOf("color")>-1?n:n+i:e[t]=n}(e,t,i[0]+i[2]*n,i[3],i[4])}))}function F(e){if(!L(e))return{};for(var t,n=e.style.transform||"",i=/(\w+)\(([^)]*)\)/g,a={};t=i.exec(n);)a[t[1]]=t[2];return a}function N(e){return/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e||"#000000").slice(1).map((function(e){return parseInt(e,16)}))}function P(e){return"#"===e[0]&&4===e.length?"#"+e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,n,i){return t+t+n+n+i+i})):"#"===e[0]?e:"#"+e}function H(e,n,i){R(e,n.props,i),function(e,n,i){var a=[],o=F(e);w.each(n,(function(e,t){var n=t[0],o=t[1],r=t[2],s=t[3];((e=""+e).indexOf("rotate")>-1||e.indexOf("skew")>-1)&&""===s&&(s="deg"),e.indexOf("scale")>-1&&(s=""),e.indexOf("translate")>-1&&""===s&&(s="px"),"turn"===s?a.push(e+"("+o*i+s+")"):a.push(e+"("+(n+r*i)+s+")")})),w.each(o,(function(e,i){n[e]===t&&a.push(e+"("+i+")")})),e.style.transform=a.join(" ")}(e,n.transform,i),function(e,t,n){w.each(t,(function(t,i){var a,o,r=[0,0,0];for(a=0;a<3;a++)r[a]=Math.floor(i[0][a]+i[2][a]*n);o="rgb("+r.join(",")+")",e.style[t]=o}))}(e,n.color,i)}function B(e,t,n){var i,o,r,s,l,u,d={props:{},transform:{},color:{}},f=F(e);return a(n)&&(n="normal"),w.each(t,(function(t,a){var p=O.indexOf(""+t)>-1,m=I.indexOf(""+t)>-1,v=(""+t).toLowerCase().indexOf("color")>-1;if(Array.isArray(a)&&1===a.length&&(a=a[0]),Array.isArray(a)?(o=v?N(P(a[0])):c(a[0]),r=v?N(P(a[1])):c(a[1])):(o=p?f[t]||0:v?function(e,t){return getComputedStyle(e)[t].replace(/[^\d.,]/g,"").split(",").map((function(e){return parseInt(e)}))}(e,t):function(e,t,n){return void 0!==e[t]?M.indexOf(t)>-1?"scrollLeft"===t?e===window?pageXOffset:e.scrollLeft:e===window?pageYOffset:e.scrollTop:e[t]||0:e.style[t]||getComputedStyle(e,n)[t]}(e,t),o=v?o:c(o),r=v?N(a):c(function(e,t){var n=/^(\*=|\+=|-=)/.exec(e);if(!n)return e;var i=h(e)||0,a=parseFloat(t),o=parseFloat(e.replace(n[0],""));switch(n[0][0]){case"+":return a+o+i;case"-":return a-o+i;case"*":return a*o+i;case"/":return a/o+i}}(a,Array.isArray(o)?o[0]:o))),D.indexOf(""+t)>-1&&o[0]===r[0]&&(o[0]=r[0]>0?0:1),"reverse"===n&&(u=o,o=r,r=u),l=e instanceof HTMLElement&&""===r[1]&&!m&&!p?"px":r[1],v)for(s=[0,0,0],i=0;i<3;i++)s[i]=r[i]-o[i];else s=r[0]-o[0];p?d.transform[t]=[o[0],r[0],s,l]:v?d.color[t]=[o,r,s,l]:d.props[t]=[o[0],r[0],s,l,-1===A.indexOf(""+t)]})),d}function j(e,t,n){return Math.min(Math.max(e,t),n)}var V={linear:function(){return function(e){return e}}};V.default=V.linear;var U={Sine:function(){return function(e){return 1-Math.cos(e*Math.PI/2)}},Circ:function(){return function(e){return 1-Math.sqrt(1-e*e)}},Back:function(){return function(e){return e*e*(3*e-2)}},Bounce:function(){return function(e){for(var t,n=4;e<((t=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*t-2)/22-e,2)}},Elastic:function(e,t){a(e)&&(e=1),a(t)&&(t=.5);var n=j(e,1,10),i=j(t,.1,2);return function(e){return 0===e||1===e?e:-n*Math.pow(2,10*(e-1))*Math.sin((e-1-i/(2*Math.PI)*Math.asin(1/n))*(2*Math.PI)/i)}}};["Quad","Cubic","Quart","Quint","Expo"].forEach((function(e,t){U[e]=function(){return function(e){return Math.pow(e,t+2)}}})),Object.keys(U).forEach((function(e){var t=U[e];V["easeIn"+e]=t,V["easeOut"+e]=function(e,n){return function(i){return 1-t(e,n)(1-i)}},V["easeInOut"+e]=function(e,n){return function(i){return i<.5?t(e,n)(2*i)/2:1-t(e,n)(-2*i+2)/2}}}));var q={id:null,el:null,draw:{},dur:w.animation.duration,ease:w.animation.ease,loop:0,pause:0,dir:"normal",defer:0,onStart:function(){},onStop:function(){},onStopAll:function(){},onPause:function(){},onPauseAll:function(){},onResume:function(){},onResumeAll:function(){},onFrame:function(){},onDone:function(){}};function W(e){return new Promise((function(t){var n,i=this,o=w.assign({},q,{dur:w.animation.duration,ease:w.animation.ease},e),r=o.id,s=o.el,l=o.draw,u=o.dur,c=o.ease,h=o.loop,d=o.onStart,f=o.onFrame,p=o.onDone,m=o.pause,v=o.dir,g=o.defer,y={},b="linear",C=[],k=V.linear,_="alternate"===v?"normal":v,x=!1,T=r||+performance.now()*Math.pow(10,14);if(a(s))throw new Error("Unknown element!");if("string"==typeof s&&(s=document.querySelector(s)),"function"!=typeof l&&"object"!=typeof l)throw new Error("Unknown draw object. Must be a function or object!");0===u&&(u=1),"alternate"===v&&"number"==typeof h&&(h*=2),"string"==typeof c?(n=/\(([^)]+)\)/.exec(c),b=c.split("(")[0],C=n?n[1].split(",").map((function(e){return parseFloat(e)})):[],k=V[b]||V.linear):k="function"==typeof c?c:V.linear,w.animation.elements[T]={element:s,id:null,stop:0,pause:0,loop:0,t:-1,started:0,paused:0};var S=function(){"object"==typeof l&&(y=B(s,l,_)),"function"==typeof d&&d.apply(s),w.animation.elements[T].loop+=1,w.animation.elements[T].started=performance.now(),w.animation.elements[T].duration=u,w.animation.elements[T].id=requestAnimationFrame(O)},E=function(){cancelAnimationFrame(w.animation.elements[T].id),delete w.animation.elements[r],"function"==typeof p&&p.apply(s),t(i)},O=function(e){var t,n,i=w.animation.elements[T].stop,a=w.animation.elements[T].pause,o=w.animation.elements[T].started;if(w.animation.elements[T].paused&&(o=e-w.animation.elements[T].t*u,w.animation.elements[T].started=o),(n=((e-o)/u).toFixed(4))>1&&(n=1),n<0&&(n=0),t=k.apply(null,C)(n),w.animation.elements[T].t=n,w.animation.elements[T].p=t,a)w.animation.elements[T].id=requestAnimationFrame(O);else{if(i>0)return 2===i&&("function"==typeof l?l.bind(s)(1,1):H(s,y,1)),void E();"function"==typeof l?l.bind(s)(n,t):H(s,y,t),"function"==typeof f&&f.apply(s,[n,t]),n<1&&(w.animation.elements[T].id=requestAnimationFrame(O)),1===parseInt(n)&&(h?("alternate"===v&&(_="normal"===_?"reverse":"normal"),"boolean"==typeof h||h>w.animation.elements[T].loop?setTimeout((function(){S()}),m):E()):"alternate"!==v||x?E():(_="normal"===_?"reverse":"normal",x=!0,S()))}};g>0?setTimeout((function(){S()}),g):S()}))}function Y(e,t){var n=w.animation.elements[e];void 0!==n&&(a(t)&&(t=!0),n.stop=!0===t?2:1,"function"==typeof n.onStop&&n.onStop.apply(n.element))}function z(e){var t=w.animation.elements[e];void 0!==t&&(t.pause=1,t.paused=performance.now(),"function"==typeof t.onPause&&t.onPause.apply(t.element))}function G(e){var t=w.animation.elements[e];void 0!==t&&(t.pause=0,t.paused=0,"function"==typeof t.onResume&&t.onResume.apply(t.element))}var $={loop:!1,onChainItem:null,onChainItemComplete:null,onChainComplete:null};w.easing={},w.extend(w.easing,V),w.extend({animate:function(e){var t,n,i,a,o;return arguments.length>1?(t=w(arguments[0])[0],n=arguments[1],i=arguments[2]||w.animation.duration,a=arguments[3]||w.animation.ease,o=arguments[4],"function"==typeof i&&(o=i,a=w.animation.ease,i=w.animation.duration),"function"==typeof a&&(o=a,a=w.animation.ease),W({el:t,draw:n,dur:i,ease:a,onDone:o})):W(e)},chain:function e(t,n){var i=w.extend({},$,n);if("boolean"!=typeof i.loop&&i.loop--,!Array.isArray(t))return console.warn("Chain array is not defined!"),!1;t.reduce((function(e,t){return e.then((function(){return"function"==typeof i.onChainItem&&i.onChainItem(t),W(t).then((function(){"function"==typeof i.onChainItemComplete&&i.onChainItemComplete(t)}))}))}),Promise.resolve()).then((function(){"function"==typeof i.onChainComplete&&i.onChainComplete(),i.loop&&e(t,i)}))},stop:Y,stopAll:function(e,t){w.each(w.animation.elements,(function(n,i){t?"string"==typeof t?b.call(i.element,t)&&Y(n,e):t.length?w.each(t,(function(){i.element===this&&Y(n,e)})):t instanceof Element&&i.element===t&&Y(n,e):Y(n,e)}))},resume:G,resumeAll:function(e){w.each(w.animation.elements,(function(t,n){e?"string"==typeof e?b.call(n.element,e)&&G(t):e.length?w.each(e,(function(){n.element===this&&G(t)})):e instanceof Element&&n.element===e&&G(t):G(t)}))},pause:z,pauseAll:function(e){w.each(w.animation.elements,(function(t,n){e?"string"==typeof e?b.call(n.element,e)&&z(t):e.length?w.each(e,(function(){n.element===this&&z(t)})):e instanceof Element&&n.element===e&&z(t):z(t)}))}}),w.fn.extend({animate:function(e){var t,n,i,a,o=this,r=e;return!Array.isArray(e)&&(arguments.length>1||1===arguments.length&&void 0===arguments[0].draw)?(t=arguments[0],n=arguments[1]||w.animation.duration,i=arguments[2]||w.animation.ease,a=arguments[3],"function"==typeof n&&(a=n,n=w.animation.duration,i=w.animation.ease),"function"==typeof i&&(a=i,i=w.animation.ease),this.each((function(){return w.animate({el:this,draw:t,dur:n,ease:i,onDone:a})}))):Array.isArray(e)?(w.each(e,(function(){var e=this;o.each((function(){e.el=this,w.animate(e)}))})),this):this.each((function(){r.el=this,w.animate(r)}))},chain:function(e,t){return this.each((function(){var n=this;w.each(e,(function(){this.el=n})),w.chain(e,t)}))},stop:function(e){return this.each((function(){var t=this;w.each(w.animation.elements,(function(n,i){i.element===t&&Y(n,e)}))}))},pause:function(){return this.each((function(){var e=this;w.each(w.animation.elements,(function(t,n){n.element===e&&z(t)}))}))},resume:function(){return this.each((function(){var e=this;w.each(w.animation.elements,(function(t,n){n.element===e&&G(t)}))}))}}),w.extend({hidden:function(e,t,n){return e=w(e)[0],"string"==typeof t&&(t="true"===t.toLowerCase()),"function"==typeof t&&(n=t,t=!e.hidden),e.hidden=t,"function"==typeof n&&(w.bind(n,e),n.call(e,arguments)),this},hide:function(e,t){return w(e).origin("display",e.style.display?e.style.display:getComputedStyle(e,null).display),e.style.display="none","function"==typeof t&&(w.bind(t,e),t.call(e,arguments)),this},show:function(e,n){var i=w(e).origin("display",t,"block");return e.style.display=i?"none"===i?"block":i:"",0===parseInt(e.style.opacity)&&(e.style.opacity="1"),"function"==typeof n&&(w.bind(n,e),n.call(e,arguments)),this},visible:function(e,n,i){return n===t&&(n=!0),e.style.visibility=n?"visible":"hidden","function"==typeof i&&(w.bind(i,e),i.call(e,arguments)),this},toggle:function(e,t){var n="none"!==getComputedStyle(e,null).display?"hide":"show";return w[n](e,t)}}),w.fn.extend({hide:function(){var e;return w.each(arguments,(function(){"function"==typeof this&&(e=this)})),this.each((function(){w.hide(this,e)}))},show:function(){var e;return w.each(arguments,(function(){"function"==typeof this&&(e=this)})),this.each((function(){w.show(this,e)}))},visible:function(e,t){return this.each((function(){w.visible(this,e,t)}))},toggle:function(e){return this.each((function(){w.toggle(this,e)}))},hidden:function(e,t){return this.each((function(){w.hidden(this,e,t)}))}}),w.extend({fx:{off:!1}}),w.fn.extend({fadeIn:function(e,n,o){return this.each((function(){var r=this,s=w(r);if(!(!i(r)||i(r)&&0==+s.style("opacity")))return this;a(e)&&a(n)&&a(o)?(o=null,e=w.animation.duration):"function"==typeof e&&(o=e,e=w.animation.duration),"function"==typeof n&&(o=n,n=w.animation.ease),w.fx.off&&(e=0);var l=s.origin("display",t,"block");return r.style.opacity="0",r.style.display=l,w.animate({el:r,draw:{opacity:1},dur:e,ease:n,onDone:function(){"function"==typeof o&&w.proxy(o,this)()}})}))},fadeOut:function(e,t,n){return this.each((function(){var o=this,r=w(o);if(i(o))return a(e)&&a(t)&&a(n)?(n=null,e=w.animation.duration):"function"==typeof e&&(n=e,e=w.animation.duration),"function"==typeof t&&(n=t,t=w.animation.ease),r.origin("display",r.style("display")),w.animate({el:o,draw:{opacity:0},dur:e,ease:t,onDone:function(){this.style.display="none","function"==typeof n&&w.proxy(n,this)()}})}))},slideUp:function(e,t,n){return this.each((function(){var i,o=this,r=w(o);if(0!==r.height())return a(e)&&a(t)&&a(n)?(n=null,e=w.animation.duration):"function"==typeof e&&(n=e,e=w.animation.duration),"function"==typeof t&&(n=t,t=w.animation.ease),i=r.height(),r.origin("height",i),r.origin("display",w(o).style("display")),r.css({overflow:"hidden"}),w.animate({el:o,draw:{height:0},dur:e,ease:t,onDone:function(){r.hide().removeStyleProperty("overflow, height"),"function"==typeof n&&w.proxy(n,this)()}})}))},slideDown:function(e,n,i){return this.each((function(){var o,r,s=this,l=w(s);return a(e)&&a(n)&&a(i)?(i=null,e=w.animation.duration):"function"==typeof e&&(i=e,e=w.animation.duration),"function"==typeof n&&(i=n,n=w.animation.ease),l.show().visible(!1),o=+l.origin("height",t,l.height()),0===parseInt(o)&&(o=s.scrollHeight),r=l.origin("display",l.style("display"),"block"),l.height(0).visible(!0),l.css({overflow:"hidden",display:"none"===r?"block":r}),w.animate({el:s,draw:{height:o},dur:e,ease:n,onDone:function(){w(s).removeStyleProperty("overflow, height, visibility"),"function"==typeof i&&w.proxy(i,this)()}})}))},moveTo:function(e,t,n,i,a){var o={top:t,left:e};return"function"==typeof n&&(a=n,n=w.animation.duration,i=w.animation.ease),"function"==typeof i&&(a=i,i=w.animation.ease),this.each((function(){w.animate({el:this,draw:o,dur:n,ease:i,onDone:a})}))},centerTo:function(e,t,n,i,a){return"function"==typeof n&&(a=n,n=w.animation.duration,i=w.animation.ease),"function"==typeof i&&(a=i,i=w.animation.ease),this.each((function(){var o={left:e-this.clientWidth/2,top:t-this.clientHeight/2};w.animate({el:this,draw:o,dur:n,ease:i,onDone:a})}))},colorTo:function(e,t,n,i){var a={color:e};return"function"==typeof t&&(i=t,t=w.animation.duration,n=w.animation.ease),"function"==typeof n&&(i=n,n=w.animation.ease),this.each((function(){w.animate({el:this,draw:a,dur:t,ease:n,onDone:i})}))},backgroundTo:function(e,t,n,i){var a={backgroundColor:e};return"function"==typeof t&&(i=t,t=w.animation.duration,n=w.animation.ease),"function"==typeof n&&(i=n,n=w.animation.ease),this.each((function(){w.animate({el:this,draw:a,dur:t,ease:n,onDone:i})}))}}),w.init=function(e,n){var i,a=this;if("string"==typeof e&&(e=e.trim()),this.uid=w.uniqueId(),!e)return this;if("function"==typeof e)return w.ready(e);if(e instanceof Element)return this.push(e),this;if(e instanceof w)return w.each(e,(function(){a.push(this)})),this;if("window"===e&&(e=window),"document"===e&&(e=document),"body"===e&&(e=document.body),"html"===e&&(e=document.documentElement),"doctype"===e&&(e=document.doctype),e&&(e.nodeType||e.self===window))return this.push(e),this;if(l(e))return w.each(e,(function(){w(this).each((function(){a.push(this)}))})),this;if("string"!=typeof e&&e.self&&e.self!==window)return this;if("#"===e||"."===e)return console.error("Selector can't be # or ."),this;if("@"===e[0])w("[data-role]").each((function(){u(w(this).attr("data-role"),",").indexOf(e.slice(1))>-1&&a.push(this)}));else if(1===(i=w.parseHTML(e)).length&&3===i[0].nodeType)try{[].push.apply(this,document.querySelectorAll(e))}catch(e){}else w.merge(this,i);return n!==t&&(n instanceof w?this.each((function(){w(n).append(a)})):n instanceof HTMLElement?w(n).append(a):r(n)&&w.each(this,(function(){for(var e in n)v(n,e)&&this.setAttribute(e,n[e])}))),this},w.init.prototype=w.fn;var X=window.$;w.Promise=Promise,window.m4q=w,void 0===window.$&&(window.$=w),w.global=function(){X=window.$,window.$=w},w.noConflict=function(){return window.$===w&&(window.$=X),w}}(window),function(e){var t=e.meta("metro4:init").attr("content"),n=e.meta("metro4:locale").attr("content"),i=e.meta("metro4:week_start").attr("content"),a=e.meta("metro4:date_format").attr("content"),o=e.meta("metro4:date_format_input").attr("content"),r=e.meta("metro4:animation_duration").attr("content"),s=e.meta("metro4:callback_timeout").attr("content"),l=e.meta("metro4:timeout").attr("content"),u=e.meta("metro4:scroll_multiple").attr("content"),c=e.meta("metro4:cloak").attr("content"),h=e.meta("metro4:cloak_duration").attr("content"),d=e.meta("metro4:global_common").attr("content"),f=e.meta("metro4:blur_image").attr("content");void 0===window.METRO_BLUR_IMAGE&&(window.METRO_BLUR_IMAGE=void 0!==f&&JSON.parse(d)),void 0===window.METRO_GLOBAL_COMMON&&(window.METRO_GLOBAL_COMMON=void 0!==d&&JSON.parse(d));var p=e.meta("metro4:jquery").attr("content");window.jquery_present="undefined"!=typeof jQuery,void 0===window.METRO_JQUERY&&(window.METRO_JQUERY=void 0===p||JSON.parse(p)),window.useJQuery=window.jquery_present&&window.METRO_JQUERY;var m=e.meta("metro4:about").attr("content");void 0===window.METRO_SHOW_ABOUT&&(window.METRO_SHOW_ABOUT=void 0===m||JSON.parse(m));var v=e.meta("metro4:compile").attr("content");void 0===window.METRO_SHOW_COMPILE_TIME&&(window.METRO_SHOW_COMPILE_TIME=void 0===v||JSON.parse(v)),void 0===window.METRO_INIT&&(window.METRO_INIT=void 0===t||JSON.parse(t)),void 0===window.METRO_DEBUG&&(window.METRO_DEBUG=!0),void 0===window.METRO_WEEK_START&&(window.METRO_WEEK_START=void 0!==i?parseInt(i):0),void 0===window.METRO_DATE_FORMAT&&(window.METRO_DATE_FORMAT=void 0!==a?a:"YYYY-MM-DD"),void 0===window.METRO_DATE_FORMAT_INPUT&&(window.METRO_DATE_FORMAT_INPUT=void 0!==o?o:"YYYY-MM-DD"),void 0===window.METRO_LOCALE&&(window.METRO_LOCALE=void 0!==n?n:"en-US"),void 0===window.METRO_ANIMATION_DURATION&&(window.METRO_ANIMATION_DURATION=void 0!==r?parseInt(r):100),void 0===window.METRO_CALLBACK_TIMEOUT&&(window.METRO_CALLBACK_TIMEOUT=void 0!==s?parseInt(s):500),void 0===window.METRO_TIMEOUT&&(window.METRO_TIMEOUT=void 0!==l?parseInt(l):2e3),void 0===window.METRO_SCROLL_MULTIPLE&&(window.METRO_SCROLL_MULTIPLE=void 0!==u?parseInt(u):20),void 0===window.METRO_CLOAK_REMOVE&&(window.METRO_CLOAK_REMOVE=void 0!==c?(""+c).toLowerCase():"fade"),void 0===window.METRO_CLOAK_DURATION&&(window.METRO_CLOAK_DURATION=void 0!==h?parseInt(h):300),void 0===window.METRO_HOTKEYS_FILTER_CONTENT_EDITABLE&&(window.METRO_HOTKEYS_FILTER_CONTENT_EDITABLE=!0),void 0===window.METRO_HOTKEYS_FILTER_INPUT_ACCEPTING_ELEMENTS&&(window.METRO_HOTKEYS_FILTER_INPUT_ACCEPTING_ELEMENTS=!0),void 0===window.METRO_HOTKEYS_FILTER_TEXT_INPUTS&&(window.METRO_HOTKEYS_FILTER_TEXT_INPUTS=!0),void 0===window.METRO_HOTKEYS_BUBBLE_UP&&(window.METRO_HOTKEYS_BUBBLE_UP=!1),void 0===window.METRO_THROWS&&(window.METRO_THROWS=!0),window.METRO_MEDIA=[]}(m4q),
/*!
	 * Metro UI Components Library  (https://metroui.org.ua)
	 * Copyright 2012-2023 Serhii Pimenov
	 * Licensed under MIT
	 !*/
function(){!function(e){if(!/MSIE 10/i.test(navigator.userAgent))try{var t=new Blob(["var fakeIdToId = {};onmessage = function (event) {\tvar data = event.data,\t\tname = data.name,\t\tfakeId = data.fakeId,\t\ttime;\tif(data.hasOwnProperty('time')) {\t\ttime = data.time;\t}\tswitch (name) {\t\tcase 'setInterval':\t\t\tfakeIdToId[fakeId] = setInterval(function () {\t\t\t\tpostMessage({fakeId: fakeId});\t\t\t}, time);\t\t\tbreak;\t\tcase 'clearInterval':\t\t\tif (fakeIdToId.hasOwnProperty (fakeId)) {\t\t\t\tclearInterval(fakeIdToId[fakeId]);\t\t\t\tdelete fakeIdToId[fakeId];\t\t\t}\t\t\tbreak;\t\tcase 'setTimeout':\t\t\tfakeIdToId[fakeId] = setTimeout(function () {\t\t\t\tpostMessage({fakeId: fakeId});\t\t\t\tif (fakeIdToId.hasOwnProperty (fakeId)) {\t\t\t\t\tdelete fakeIdToId[fakeId];\t\t\t\t}\t\t\t}, time);\t\t\tbreak;\t\tcase 'clearTimeout':\t\t\tif (fakeIdToId.hasOwnProperty (fakeId)) {\t\t\t\tclearTimeout(fakeIdToId[fakeId]);\t\t\t\tdelete fakeIdToId[fakeId];\t\t\t}\t\t\tbreak;\t}}"]);e=window.URL.createObjectURL(t)}catch(e){}var n,i={},a=0,o="HackTimer.js by turuslan: ";function r(){do{2147483647===a?a=0:a++}while(i.hasOwnProperty(a));return a}if("undefined"!=typeof Worker)try{n=new Worker(e),window.setInterval=function(e,t){var a=r();return i[a]={callback:e,parameters:Array.prototype.slice.call(arguments,2)},n.postMessage({name:"setInterval",fakeId:a,time:t}),a},window.clearInterval=function(e){i.hasOwnProperty(e)&&(delete i[e],n.postMessage({name:"clearInterval",fakeId:e}))},window.setTimeout=function(e,t){var a=r();return i[a]={callback:e,parameters:Array.prototype.slice.call(arguments,2),isTimeout:!0},n.postMessage({name:"setTimeout",fakeId:a,time:t}),a},window.clearTimeout=function(e){i.hasOwnProperty(e)&&(delete i[e],n.postMessage({name:"clearTimeout",fakeId:e}))},n.onmessage=function(e){var t,n,a,r=e.data.fakeId;if(i.hasOwnProperty(r)&&(a=(t=i[r]).callback,n=t.parameters,t.hasOwnProperty("isTimeout")&&t.isTimeout&&delete i[r]),"string"==typeof a)try{a=new Function(a)}catch(e){console.log(o+"Error parsing callback code string: ",e)}"function"==typeof a&&a.apply(window,n)},n.onerror=function(e){console.log(e)}}catch(e){console.log(o+"Initialisation failed"),console.error(e)}else console.log(o+"Initialisation failed - HTML5 Web Worker is not supported")}("HackTimerWorker.js");var e=m4q;if("undefined"==typeof m4q)throw new Error("Metro 4 requires m4q helper!");if(!("MutationObserver"in window))throw new Error("Metro 4 requires MutationObserver!");var t="ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0,n=function(e){return"string"!=typeof e?void 0:e.replace(/-/g,"").toLowerCase()},i={version:"4.5.8",buildNumber:0,isTouchable:t,fullScreenEnabled:document.fullscreenEnabled,sheet:null,controlsPosition:{INSIDE:"inside",OUTSIDE:"outside"},groupMode:{ONE:"one",MULTI:"multi"},aspectRatio:{HD:"hd",SD:"sd",CINEMA:"cinema"},fullScreenMode:{WINDOW:"window",DESKTOP:"desktop"},position:{TOP:"top",BOTTOM:"bottom",LEFT:"left",RIGHT:"right",TOP_RIGHT:"top-right",TOP_LEFT:"top-left",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",LEFT_BOTTOM:"left-bottom",LEFT_TOP:"left-top",RIGHT_TOP:"right-top",RIGHT_BOTTOM:"right-bottom"},popoverEvents:{CLICK:"click",HOVER:"hover",FOCUS:"focus"},stepperView:{SQUARE:"square",CYCLE:"cycle",DIAMOND:"diamond"},listView:{LIST:"list",CONTENT:"content",ICONS:"icons",ICONS_MEDIUM:"icons-medium",ICONS_LARGE:"icons-large",TILES:"tiles",TABLE:"table"},events:{click:"click",start:t?"touchstart":"mousedown",stop:t?"touchend":"mouseup",move:t?"touchmove":"mousemove",enter:t?"touchstart":"mouseenter",startAll:"mousedown touchstart",stopAll:"mouseup touchend",moveAll:"mousemove touchmove",leave:"mouseleave",focus:"focus",blur:"blur",resize:"resize",keyup:"keyup",keydown:"keydown",keypress:"keypress",dblclick:"dblclick",input:"input",change:"change",cut:"cut",paste:"paste",scroll:"scroll",mousewheel:"mousewheel",inputchange:"change input propertychange cut paste copy drop",dragstart:"dragstart",dragend:"dragend",dragenter:"dragenter",dragover:"dragover",dragleave:"dragleave",drop:"drop",drag:"drag"},keyCode:{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,BREAK:19,CAPS:20,ESCAPE:27,SPACE:32,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,COMMA:188},media_queries:{FS:"(min-width: 0px)",XS:"(min-width: 360px)",SM:"(min-width: 576px)",MD:"(min-width: 768px)",LG:"(min-width: 992px)",XL:"(min-width: 1200px)",XXL:"(min-width: 1452px)"},media_sizes:{FS:0,XS:360,SM:576,LD:640,MD:768,LG:992,XL:1200,XXL:1452},media_mode:{FS:"fs",XS:"xs",SM:"sm",MD:"md",LG:"lg",XL:"xl",XXL:"xxl"},media_modes:["fs","xs","sm","md","lg","xl","xxl"],actions:{REMOVE:1,HIDE:2},hotkeys:{},locales:{},utils:{},colors:{},dialog:null,pagination:null,md5:null,storage:null,export:null,animations:null,cookie:null,template:null,defaults:{},about:function(){var e="<h3>About</h3><hr><div><b>Metro UI</b> - v"+i.version+". "+i.showCompileTime()+"</div><div><b>M4Q</b> - "+m4q.version+"</div>";i.infobox.create(e)},info:function(){console.info("Metro 4 - v"+i.version+". "+i.showCompileTime()),console.info("m4q - "+m4q.version)},showCompileTime:function(){return""},aboutDlg:function(){alert("Metro 4 - v"+i.version+". "+i.showCompileTime())},ver:function(){return i.version},build:function(){return i.build},compile:function(){return""},observe:function(){new MutationObserver((function(t){t.map((function(t){if("attributes"===t.type&&"data-role"!==t.attributeName)if("data-hotkey"===t.attributeName)i.initHotkeys([t.target],!0);else{var n=e(t.target),a=n.data("metroComponent"),o=t.attributeName,r=n.attr(o),s=t.oldValue;void 0!==a&&(n.fire("attr-change",{attr:o,newValue:r,oldValue:s,__this:n[0]}),e.each(a,(function(){var e=i.getPlugin(n,this);e&&"function"==typeof e.changeAttribute&&e.changeAttribute(o,r,s)})))}else if("childList"===t.type&&t.addedNodes.length>0){var l,u,c,h=[],d=t.addedNodes;if(d.length){for(l=0;l<d.length;l++)c=d[l],void 0!==(u=e(c)).attr("data-role")&&h.push(c),e.each(u.find("[data-role]"),(function(){-1===h.indexOf(this)&&h.push(this)}));h.length&&i.initWidgets(h,"observe")}}}))})).observe(e("html")[0],{childList:!0,attributes:!0,subtree:!0})},init:function(){var n=e("[data-role]"),a=e("[data-hotkey]"),o=e("html"),r=this;window.METRO_BLUR_IMAGE&&o.addClass("use-blur-image"),window.METRO_SHOW_ABOUT&&i.info(!0),!0===t?o.addClass("metro-touch-device"):o.addClass("metro-no-touch-device"),i.sheet=this.utils.newCssSheet(),this.utils.addCssRule(i.sheet,"*, *::before, *::after","box-sizing: border-box;"),window.METRO_MEDIA=[],e.each(i.media_queries,(function(e,t){r.utils.media(t)&&window.METRO_MEDIA.push(i.media_mode[e])})),i.observe(),i.initHotkeys(a),i.initWidgets(n,"init"),"fade"!==window.METRO_CLOAK_REMOVE?(e(".m4-cloak").removeClass("m4-cloak"),e(window).fire("metro-initiated")):e(".m4-cloak").animate({draw:{opacity:1},dur:300,onDone:function(){e(".m4-cloak").removeClass("m4-cloak"),e(window).fire("metro-initiated")}})},initHotkeys:function(t,n){e.each(t,(function(){var t=e(this),a=!!t.attr("data-hotkey")&&t.attr("data-hotkey").toLowerCase(),o=!!t.attr("data-hotkey-func")&&t.attr("data-hotkey-func");!1!==a&&(!0===t.data("hotKeyBonded")&&!0!==n||(i.hotkeys[a]=[this,o],t.data("hotKeyBonded",!0),t.fire("hot-key-bonded",{__this:t[0],hotkey:a,fn:o})))}))},initWidgets:function(t){var i=this;e.each(t,(function(){var t=e(this);this.hasAttribute("data-role")&&t.attr("data-role").split(/\s*,\s*/).map((function(a){var o=i.utils.$(),r=n(a);if(void 0!==o.fn[r]&&void 0===t.attr("data-role-"+r))try{o.fn[r].call(t),t.attr("data-role-"+r,!0);var s=t.data("metroComponent");void 0===s?s=[r]:s.push(r),t.data("metroComponent",s),t.fire("create",{__this:t[0],name:r}),e(document).fire("component-create",{element:t[0],name:r})}catch(e){throw console.error("Error creating component "+a+" for ",t[0]),e}}))}))},plugin:function(e,t){var i=n(e),a=function(e){e.fn[i]=function(n){return this.each((function(){e.data(this,i,Object.create(t).init(n,this))}))}};a(m4q),window.useJQuery&&a(jQuery)},pluginExists:function(e){return"function"==typeof(window.useJQuery?jQuery:m4q).fn[n(e)]},destroyPlugin:function(t,a){var o,r,s=e(t),l=n(a);void 0!==(o=i.getPlugin(s,l))?"function"==typeof o.destroy?(o.destroy(),r=s.data("metroComponent"),this.utils.arrayDelete(r,l),s.data("metroComponent",r),e.removeData(s[0],l),s.removeAttr("data-role-"+l)):console.warn("Component "+a+" can not be destroyed: method destroy not found."):console.warn("Component "+a+" can not be destroyed: the element is not a Metro 4 component.")},destroyPluginAll:function(t){var n=e(t),a=n.data("metroComponent");void 0!==a&&a.length>0&&e.each(a,(function(){i.destroyPlugin(n[0],this)}))},noop:function(){},noop_true:function(){return!0},noop_false:function(){return!1},requestFullScreen:function(e){e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullScreen?e.webkitRequestFullScreen():e.msRequestFullscreen?e.msRequestFullscreen():e.requestFullscreen().catch((function(e){console.warn("Error attempting to enable full-screen mode: "+e.message+" "+e.name)}))},exitFullScreen:function(){document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.msExitFullscreen?document.msExitFullscreen():document.exitFullscreen().catch((function(e){console.warn("Error attempting to disable full-screen mode: "+e.message+" "+e.name)}))},inFullScreen:function(){return void 0!==(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)},$:function(){return window.useJQuery?jQuery:m4q},get$el:function(t){return i.$()(e(t)[0])},get$elements:function(t){return i.$()(e(t))},getPlugin:function(e,t){var a=n(t),o=i.get$el(e);return o.length?o.data(a):void 0},makePlugin:function(e,t,a){var o=n(t),r=i.get$elements(e);return r.length&&"function"==typeof r[o]?r[o](a):void 0},Component:function(t,a){var o=n(t),r=i.utils,s=e.extend({name:o},{_super:function(t,n,i,a){var o=this;this.elem=t,this.element=e(t),this.options=e.extend({},i,n),this.component=this.elem,this._setOptionsFromDOM(),this._runtime(),a&&"object"==typeof a&&e.each(a,(function(e,t){o[e]=t})),this._createExec()},_setOptionsFromDOM:function(){var t=this.element,n=this.options;e.each(t.data(),(function(e,t){if(e in n)try{n[e]=JSON.parse(t)}catch(i){n[e]=t}}))},_runtime:function(){var e,t=this.element,i=(t.attr("data-role")||"").toArray(",").map((function(e){return n(e)})).filter((function(e){return""!==e.trim()}));t.attr("data-role-"+this.name)||(t.attr("data-role-"+this.name,!0),-1===i.indexOf(this.name)&&(i.push(this.name),t.attr("data-role",i.join(","))),void 0===(e=t.data("metroComponent"))?e=[this.name]:e.push(this.name),t.data("metroComponent",e))},_createExec:function(){var e=this,t=this.options[this.name+"Deferred"];t?setTimeout((function(){e._create()}),t):e._create()},_fireEvent:function(t,n,i,a){var o,s=this.element,l=this.options,u=e.camelCase(t).capitalize();return o=(n=e.extend({},n,{__this:s[0]}))?Object.values(n):{},i&&(console.warn(i),console.warn("Event: on"+u),console.warn("Data: ",n),console.warn("Element: ",s[0])),!0!==a&&s.fire(u.toLowerCase(),n),r.exec(l["on"+u],o,s[0])},_fireEvents:function(t,n,i,a){var o,s=this;if(0!==arguments.length)return 1===arguments.length?(e.each(t,(function(){var e=this;s._fireEvent(e.name,e.data,e.log,e.noFire)})),r.objectLength(t)):void((Array.isArray(t)||"string"==typeof t)&&(o=Array.isArray(t)?t:t.toArray(","),e.each(o,(function(){s._fireEvent(this,n,i,a)}))))},getComponent:function(){return this.component},getComponentName:function(){return this.name}},a);return i.plugin(o,s),s},fetch:{status:function(e){return e.ok?Promise.resolve(e):Promise.reject(new Error(e.statusText))},json:function(e){return e.json()},text:function(e){return e.text()},form:function(e){return e.formData()},blob:function(e){return e.blob()},buffer:function(e){return e.arrayBuffer()}}};e(window).on(i.events.resize,(function(){window.METRO_MEDIA=[],e.each(i.media_queries,(function(e,t){i.utils.media(t)&&window.METRO_MEDIA.push(i.media_mode[e])}))})),window.Metro=i,!0===window.METRO_INIT&&e((function(){i.init()}))}(),function(e,t){m4q.extend(e.locales,{"en-US":{calendar:{months:["January","February","March","April","May","June","July","August","September","October","November","December","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Su","Mo","Tu","We","Th","Fr","Sa","Sun","Mon","Tus","Wen","Thu","Fri","Sat"],time:{days:"DAYS",hours:"HOURS",minutes:"MINS",seconds:"SECS",month:"MON",day:"DAY",year:"YEAR"},weekStart:0},buttons:{ok:"OK",cancel:"Cancel",done:"Done",today:"Today",now:"Now",clear:"Clear",help:"Help",yes:"Yes",no:"No",random:"Random",save:"Save",reset:"Reset"},table:{rowsCount:"Show entries:",search:"Search:",info:"Showing $1 to $2 of $3 entries",prev:"Prev",next:"Next",all:"All",inspector:"Inspector",skip:"Goto page",empty:"Nothing to show"},colorSelector:{addUserColorButton:"ADD TO SWATCHES",userColorsTitle:"USER COLORS"},switch:{on:"on",off:"off"}}})}(Metro),"function"!=typeof Array.prototype.shuffle&&(Array.prototype.shuffle=function(){for(var e,t,n=this.length;0!==n;)t=Math.floor(Math.random()*n),e=this[n-=1],this[n]=this[t],this[t]=e;return this}),"function"!=typeof Array.prototype.clone&&(Array.prototype.clone=function(){return this.slice(0)}),"function"!=typeof Array.prototype.unique&&(Array.prototype.unique=function(){for(var e=this.concat(),t=0;t<e.length;++t)for(var n=t+1;n<e.length;++n)e[t]===e[n]&&e.splice(n--,1);return e}),Number.prototype.format=function(e,t,n,i){var a="\\d(?=(\\d{"+(t||3)+"})+"+(e>0?"\\D":"$")+")",o=this.toFixed(Math.max(0,~~e));return(i?o.replace(".",i):o).replace(new RegExp(a,"g"),"$&"+(n||","))},String.prototype.toArray=function(e,t,n,i){return t=t||"string",n=null!=n&&n,(""+this).split(e=e||",").map((function(e){var a;switch(t){case"int":case"integer":a=isNaN(e)?e.trim():parseInt(e);break;case"number":case"float":a=isNaN(e)?e:parseFloat(e);break;case"date":a=n?Datetime.from(e,n,i||"en-US"):datetime(e);break;default:a=e.trim()}return a}))},String.prototype.capitalize=function(){return this.substr(0,1).toUpperCase()+this.substr(1)},function(e,t){e.utils={isVisible:function(e){var n=t(e)[0];return"none"!==this.getStyleOne(n,"display")&&"hidden"!==this.getStyleOne(n,"visibility")&&null!==n.offsetParent},isUrl:function(e){return/^(\.\/|\.\.\/|ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@\-\/]))?/.test(e)},isTag:function(e){return/^<\/?[\w\s="/.':;#-\/\?]+>/gi.test(e)},isEmbedObject:function(e){var n=!1;return t.each(["iframe","object","embed","video"],(function(){("string"==typeof e&&e.toLowerCase()===this||void 0!==e.nodeType&&e.tagName.toLowerCase()===this)&&(n=!0)})),n},isVideoUrl:function(e){return/youtu\.be|youtube|twitch|vimeo/gi.test(e)},isDate:function(e,t,n){var i;if(this.isDateObject(e))return!0;try{return i=t?Datetime.from(e,t,n||"en-US"):datetime(e),Datetime.isDatetime(i)}catch(e){return!1}},isDateObject:function(e){return"object"==typeof e&&void 0!==e.getMonth},isInt:function(e){return!isNaN(e)&&+e%1==0},isFloat:function(e){return!isNaN(e)&&+e%1!=0||/^\d*\.\d+$/.test(e)},isFunc:function(e){return this.isType(e,"function")},isObject:function(e){return this.isType(e,"object")},isObject2:function(e){return"object"==typeof e&&!Array.isArray(e)},isType:function(e,t){if(!this.isValue(e))return!1;if(typeof e===t)return e;if("tag"===(""+t).toLowerCase()&&this.isTag(e))return e;if("url"===(""+t).toLowerCase()&&this.isUrl(e))return e;if("array"===(""+t).toLowerCase()&&Array.isArray(e))return e;if(this.isTag(e)||this.isUrl(e))return!1;if(typeof window[e]===t)return window[e];if("string"==typeof e&&-1===e.indexOf("."))return!1;if("string"==typeof e&&/[/\s([]+/gm.test(e))return!1;if("number"==typeof e&&"number"!==t.toLowerCase())return!1;var n,i=e.split("."),a=window;for(n=0;n<i.length;n++)a=a[i[n]];return typeof a===t&&a},$:function(){return window.useJQuery?jQuery:m4q},isMetroObject:function(n,i){var a=t(n),o=e.getPlugin(n,i);return 0===a.length?(console.warn(i+" "+n+" not found!"),!1):void 0!==o||(console.warn("Element not contain role "+i+'! Please add attribute data-role="'+i+'" to element '+n),!1)},isJQuery:function(e){return"undefined"!=typeof jQuery&&e instanceof jQuery},isM4Q:function(e){return"undefined"!=typeof m4q&&e instanceof m4q},isQ:function(e){return this.isJQuery(e)||this.isM4Q(e)},embedUrl:function(e){return-1!==e.indexOf("youtu.be")&&(e="https://www.youtube.com/embed/"+e.split("/").pop()),"<div class='embed-container'><iframe src='"+e+"'></iframe></div>"},elementId:function(e){return e+"-"+(new Date).getTime()+t.random(1,1e3)},secondsToTime:function(e){return{d:Math.floor(e%31536e3/86400),h:Math.floor(e%31536e3%86400/3600),m:Math.floor(e%31536e3%86400%3600/60),s:Math.round(e%31536e3%86400%3600%60)}},secondsToFormattedString:function(e){var t=parseInt(e,10),n=Math.floor(t/3600),i=Math.floor((t-3600*n)/60),a=t-3600*n-60*i;return[Cake.lpad(n,2,"0"),Cake.lpad(i,2,"0"),Cake.lpad(a,2,"0")].join(":")},func:function(e){return new Function("a",e)},exec:function(e,t,n){var i;if(null==e)return!1;var a=this.isFunc(e);!1===a&&(a=this.func(e));try{i=a.apply(n,t)}catch(e){if(i=null,!0===window.METRO_THROWS)throw e}return i},isOutsider:function(e){var n,i=t(e),a=i.clone();return a.removeAttr("data-role").css({visibility:"hidden",position:"absolute",display:"block"}),i.parent().append(a),n=this.inViewport(a[0]),a.remove(),!n},inViewport:function(e){var t=this.rect(e);return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)},rect:function(e){return e.getBoundingClientRect()},getCursorPosition:function(e,t){var n=this.rect(e);return{x:this.pageXY(t).x-n.left-window.pageXOffset,y:this.pageXY(t).y-n.top-window.pageYOffset}},getCursorPositionX:function(e,t){return this.getCursorPosition(e,t).x},getCursorPositionY:function(e,t){return this.getCursorPosition(e,t).y},objectLength:function(e){return Object.keys(e).length},percent:function(e,t,n){if(0===e)return 0;var i=100*t/e;return!0===n?Math.round(i):Math.round(100*i)/100},objectShift:function(e){var n=0;return t.each(e,(function(e){(0===n||n>e)&&(n=e)})),delete e[n],e},objectDelete:function(e,t){void 0!==e[t]&&delete e[t]},arrayDeleteByMultipleKeys:function(e,t){return t.forEach((function(t){delete e[t]})),e.filter((function(e){return void 0!==e}))},arrayDelete:function(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)},arrayDeleteByKey:function(e,t){e.splice(t,1)},nvl:function(e,t){return null==e?t:e},objectClone:function(e){var n={};for(var i in e)t.hasProp(e,i)&&(n[i]=e[i]);return n},github:function(e,n){var i=this;t.json("https://api.github.com/repos/"+e).then((function(e){i.exec(n,[e])}))},detectIE:function(){var e=window.navigator.userAgent,t=e.indexOf("MSIE ");if(t>0)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);if(e.indexOf("Trident/")>0){var n=e.indexOf("rv:");return parseInt(e.substring(n+3,e.indexOf(".",n)),10)}var i=e.indexOf("Edge/");return i>0&&parseInt(e.substring(i+5,e.indexOf(".",i)),10)},detectChrome:function(){return/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)},pageHeight:function(){var e=document.body,t=document.documentElement;return Math.max(e.scrollHeight,e.offsetHeight,t.clientHeight,t.scrollHeight,t.offsetHeight)},cleanPreCode:function(e){Array.prototype.slice.call(document.querySelectorAll(e),0).forEach((function(e){var t=e.textContent.replace(/^[\r\n]+/,"").replace(/\s+$/g,"");if(/^\S/gm.test(t))e.textContent=t;else{for(var n,i,a,o=/^[\t ]+/gm,r=1e3;n=o.exec(t);)(a=n[0].length)<r&&(r=a,i=n[0]);1e3!==r&&(e.textContent=t.replace(new RegExp("^"+i,"gm"),"").trim())}}))},coords:function(e){var n=t(e)[0].getBoundingClientRect();return{top:n.top+window.pageYOffset,left:n.left+window.pageXOffset}},positionXY:function(e,t){switch(t){case"client":return this.clientXY(e);case"screen":return this.screenXY(e);case"page":return this.pageXY(e);default:return{x:0,y:0}}},clientXY:function(e){return{x:e.changedTouches?e.changedTouches[0].clientX:e.clientX,y:e.changedTouches?e.changedTouches[0].clientY:e.clientY}},screenXY:function(e){return{x:e.changedTouches?e.changedTouches[0].screenX:e.screenX,y:e.changedTouches?e.changedTouches[0].screenY:e.screenY}},pageXY:function(e){return{x:e.changedTouches?e.changedTouches[0].pageX:e.pageX,y:e.changedTouches?e.changedTouches[0].pageY:e.pageY}},isRightMouse:function(e){return"which"in e?3===e.which:"button"in e?2===e.button:void 0},hiddenElementSize:function(e,n){var i,a,o=t(e).clone(!0);return o.removeAttr("data-role").css({visibility:"hidden",position:"absolute",display:"block"}),t("body").append(o),this.isValue(n)||(n=!1),i=o.outerWidth(n),a=o.outerHeight(n),o.remove(),{width:i,height:a}},getStyle:function(e,n){var i=t(e)[0];return window.getComputedStyle(i,n)},getStyleOne:function(e,t){return this.getStyle(e).getPropertyValue(t)},getInlineStyles:function(e){var n,i,a={},o=t(e)[0];for(n=0,i=o.style.length;n<i;n++){var r=o.style[n];a[r]=o.style[r]}return a},encodeURI:function(e){return encodeURI(e).replace(/%5B/g,"[").replace(/%5D/g,"]")},updateURIParameter:function(e,t,n){var i=new RegExp("([?&])"+t+"=.*?(&|$)","i"),a=-1!==e.indexOf("?")?"&":"?";return e.match(i)?e.replace(i,"$1"+t+"="+n+"$2"):e+a+t+"="+n},getURIParameter:function(e,t){e||(e=window.location.href),t=t.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)").exec(e);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null},getLocales:function(){return Object.keys(e.locales)},addLocale:function(n){e.locales=t.extend({},e.locales,n)},aspectRatioH:function(e,t){return"16/9"===t?9*e/16:"21/9"===t?9*e/21:"4/3"===t?3*e/4:void 0},aspectRatioW:function(e,t){return"16/9"===t?16*e/9:"21/9"===t?21*e/9:"4/3"===t?4*e/3:void 0},valueInObject:function(e,t){return Object.values(e).indexOf(t)>-1},keyInObject:function(e,t){return Object.keys(e).indexOf(t)>-1},inObject:function(e,t,n){return void 0!==e[t]&&e[t]===n},newCssSheet:function(e){var t=document.createElement("style");return void 0!==e&&t.setAttribute("media",e),t.appendChild(document.createTextNode("")),document.head.appendChild(t),t.sheet},addCssRule:function(e,t,n,i){e.insertRule(t+"{"+n+"}",i)},media:function(e){return window.matchMedia(e).matches},mediaModes:function(){return window.METRO_MEDIA},mediaExist:function(e){return window.METRO_MEDIA.indexOf(e)>-1},inMedia:function(e){return window.METRO_MEDIA.indexOf(e)>-1&&window.METRO_MEDIA.indexOf(e)===window.METRO_MEDIA.length-1},isValue:function(e){return null!=e&&""!==e},isNull:function(e){return null==e},isNegative:function(e){return parseFloat(e)<0},isPositive:function(e){return parseFloat(e)>0},isZero:function(e){return 0===parseFloat(e.toFixed(2))},between:function(e,t,n,i){return!0===i?e>=t&&e<=n:e>t&&e<n},parseMoney:function(e){return Number(parseFloat(e.replace(/[^0-9-.]/g,"")))},parseCard:function(e){return e.replace(/[^0-9]/g,"")},parsePhone:function(e){return this.parseCard(e)},parseNumber:function(e,t,n){return e.replace(new RegExp("\\"+t,"g"),"").replace(new RegExp("\\"+n,"g"),".")},nearest:function(e,t,n){return e/=t,e=Math[!0===n?"floor":"ceil"](e)*t},bool:function(e){switch(e){case!0:case"true":case 1:case"1":case"on":case"yes":return!0;default:return!1}},copy:function(e){var n,i,a=document.body,o=t(e)[0];if(document.createRange&&window.getSelection){n=document.createRange(),(i=window.getSelection()).removeAllRanges();try{n.selectNodeContents(o),i.addRange(n)}catch(e){n.selectNode(o),i.addRange(n)}}else a.createTextRange&&((n=a.createTextRange()).moveToElementText(o),n.select());document.execCommand("Copy"),window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&&document.selection.empty()},decCount:function(e){return e%1==0?0:e.toString().split(".")[1].length}},!0===window.METRO_GLOBAL_COMMON&&(window.Utils=e.utils)}(Metro,m4q),function(e,t){var n="hex",i="rgb",a="rgba",o="hsv",r="hsl",s="hsla",l="cmyk",u="unknown";e.colorsSetup=function(e){c=t.extend({},c,e)},void 0!==typeof window.metroColorsSetup&&e.colorsSetup(window.metroColorsSetup);var c={angle:30,resultType:"hex",results:6,baseLight:"#ffffff",baseDark:"self"};function h(e,t){for(e+=t;e>=360;)e-=360;for(;e<0;)e+=360;return e}function d(e){return Math.min(1,Math.max(0,e))}function f(e,t,n){this.r=e||0,this.g=t||0,this.b=n||0}function p(e,t,n,i){this.r=e||0,this.g=t||0,this.b=n||0,this.a=0===i?0:i||1}function m(e,t,n){this.h=e||0,this.s=t||0,this.v=n||0}function v(e,t,n){this.h=e||0,this.s=t||0,this.l=n||0}function g(e,t,n,i){this.h=e||0,this.s=t||0,this.l=n||0,this.a=0===i?0:i||1}function y(e,t,n,i){this.c=e||0,this.m=t||0,this.y=n||0,this.k=i||0}f.prototype.toString=function(){return"rgb("+[this.r,this.g,this.b].join(", ")+")"},p.prototype.toString=function(){return"rgba("+[this.r,this.g,this.b,parseFloat(this.a).toFixed(2)].join(", ")+")"},m.prototype.toString2=function(){return"hsv("+[this.h,this.s,this.v].join(", ")+")"},m.prototype.toString=function(){return"hsv("+[Math.round(this.h),Math.round(100*this.s)+"%",Math.round(100*this.v)+"%"].join(", ")+")"},v.prototype.toString2=function(){return"hsl("+[this.h,this.s,this.l].join(", ")+")"},v.prototype.toString=function(){return"hsl("+[Math.round(this.h),Math.round(100*this.s)+"%",Math.round(100*this.l)+"%"].join(", ")+")"},g.prototype.toString2=function(){return"hsla("+[this.h,this.s,this.l,this.a].join(", ")+")"},g.prototype.toString=function(){return"hsla("+[Math.round(this.h),Math.round(100*this.s)+"%",Math.round(100*this.l)+"%",parseFloat(this.a).toFixed(2)].join(", ")+")"},y.prototype.toString=function(){return"cmyk("+[this.c,this.m,this.y,this.k].join(", ")+")"};var b={PALETTES:{ALL:"all",METRO:"metro",STANDARD:"standard"},metro:{lime:"#a4c400",green:"#60a917",emerald:"#008a00",blue:"#00AFF0",teal:"#00aba9",cyan:"#1ba1e2",cobalt:"#0050ef",indigo:"#6a00ff",violet:"#aa00ff",pink:"#dc4fad",magenta:"#d80073",crimson:"#a20025",red:"#CE352C",orange:"#fa6800",amber:"#f0a30a",yellow:"#fff000",brown:"#825a2c",olive:"#6d8764",steel:"#647687",mauve:"#76608a",taupe:"#87794e"},standard:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32dc32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdd5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",slyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},all:{},init:function(){return this.all=t.extend({},this.standard,this.metro),this},color:function(e,t){return void 0!==this[t=t||this.PALETTES.ALL][e]&&this[t][e]},palette:function(e){return e=e||this.PALETTES.ALL,Object.keys(this[e])},expandHexColor:function(e){if("string"!=typeof e)throw new Error("Value is not a string!");if("#"===e[0]&&4===e.length){return"#"+e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,n,i){return t+t+n+n+i+i}))}return"#"===e[0]?e:"#"+e},colors:function(e){return e=e||this.PALETTES.ALL,Object.values(this[e])},random:function(e,i){var a;return e=e||n,i=void 0!==i?i:1,a="#"+((1<<24)+(t.random(0,255)<<16)+(t.random(0,255)<<8)+t.random(0,255)).toString(16).slice(1),"hex"===e?a:this.toColor(a,e,i)},parse:function(e){var t=e.toLowerCase().trim(),n=t.replace(/[^%\d.,]/g,"").split(",").map((function(e){return e.indexOf("%")>-1&&(e=""+parseInt(e)/100),e.indexOf(".")>-1?parseFloat(e):parseInt(e)}));return this.metro[t]?this.expandHexColor(this.metro[t]):this.standard[t]?this.expandHexColor(this.standard[t]):"#"===t[0]?this.expandHexColor(t):0===t.indexOf("rgba")&&4===n.length?new p(n[0],n[1],n[2],n[3]):0===t.indexOf("rgb")&&3===n.length?new f(n[0],n[1],n[2]):0===t.indexOf("cmyk")&&4===n.length?new y(n[0],n[1],n[2],n[3]):0===t.indexOf("hsv")&&3===n.length?new m(n[0],n[1],n[2]):0===t.indexOf("hsla")&&4===n.length?new g(n[0],n[1],n[2],n[3]):0===t.indexOf("hsl")&&3===n.length?new v(n[0],n[1],n[2]):void 0},createColor:function(e,t){var n;return e=e||"hex","string"==typeof(t=t||"#000000")&&(n=this.parse(t)),this.isColor(n)||(n="#000000"),this.toColor(n,e.toLowerCase())},isDark:function(e){if(this.isColor(e)){var t=this.toRGB(e);return(299*t.r+587*t.g+114*t.b)/1e3<128}},isLight:function(e){return!this.isDark(e)},isHSV:function(e){return e instanceof m},isHSL:function(e){return e instanceof v},isHSLA:function(e){return e instanceof g},isRGB:function(e){return e instanceof f},isRGBA:function(e){return e instanceof p},isCMYK:function(e){return e instanceof y},isHEX:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},isColor:function(e){var t="string"==typeof e?this.parse(e):e;return!!t&&(this.isHEX(t)||this.isRGB(t)||this.isRGBA(t)||this.isHSV(t)||this.isHSL(t)||this.isHSLA(t)||this.isCMYK(t))},check:function(e,n){var i=this,a="string"==typeof n?[n]:n,o=!1;if(t.each(a,(function(){i["is"+this.toUpperCase()](e)&&(o=!0)})),!o)throw new Error("Value is not a "+n+" color type!")},colorType:function(e){return this.isHEX(e)?n:this.isRGB(e)?i:this.isRGBA(e)?a:this.isHSV(e)?o:this.isHSL(e)?r:this.isHSLA(e)?s:this.isCMYK(e)?l:u},equal:function(e,t){return!(!this.isColor(e)||!this.isColor(t))&&this.toHEX(e)===this.toHEX(t)},colorToString:function(e){return e.toString()},hex2rgb:function(e){if("string"!=typeof e)throw new Error("Value is not a string!");var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(this.expandHexColor(e)),n=[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)];return t?new f(n[0],n[1],n[2]):null},rgb2hex:function(e){return this.check(e,"rgb"),"#"+((1<<24)+(e.r<<16)+(e.g<<8)+e.b).toString(16).slice(1)},rgb2hsv:function(e){this.check(e,"rgb");var t,n,i,a=new m,o=e.r/255,r=e.g/255,s=e.b/255,l=Math.max(o,r,s),u=Math.min(o,r,s),c=l-u;return i=l,n=0===l?0:1-u/l,t=l===u?0:l===o&&r>=s?(r-s)/c*60:l===o&&r<s?(r-s)/c*60+360:l===r?(s-o)/c*60+120:l===s?(o-r)/c*60+240:0,a.h=t,a.s=n,a.v=i,a},hsv2rgb:function(e){var t,n,i;this.check(e,"hsv");var a=e.h,o=100*e.s,r=100*e.v,s=(100-o)*r/100,l=a%60/60*(r-s),u=s+l,c=r-l;switch(Math.floor(a/60)){case 0:t=r,n=u,i=s;break;case 1:t=c,n=r,i=s;break;case 2:t=s,n=r,i=u;break;case 3:t=s,n=c,i=r;break;case 4:t=u,n=s,i=r;break;case 5:t=r,n=s,i=c}return new f(Math.round(255*t/100),Math.round(255*n/100),Math.round(255*i/100))},hsv2hex:function(e){return this.check(e,"hsv"),this.rgb2hex(this.hsv2rgb(e))},hex2hsv:function(e){return this.check(e,"hex"),this.rgb2hsv(this.hex2rgb(e))},rgb2cmyk:function(e){this.check(e,"rgb");var t=new y,n=e.r/255,i=e.g/255,a=e.b/255;return t.k=Math.min(1-n,1-i,1-a),t.c=1-t.k==0?0:(1-n-t.k)/(1-t.k),t.m=1-t.k==0?0:(1-i-t.k)/(1-t.k),t.y=1-t.k==0?0:(1-a-t.k)/(1-t.k),t.c=Math.round(100*t.c),t.m=Math.round(100*t.m),t.y=Math.round(100*t.y),t.k=Math.round(100*t.k),t},cmyk2rgb:function(e){return this.check(e,"cmyk"),new f(Math.floor(255*(1-e.c/100)*(1-e.k/100)),Math.ceil(255*(1-e.m/100)*(1-e.k/100)),Math.ceil(255*(1-e.y/100)*(1-e.k/100)))},hsv2hsl:function(e){var t,n,i,a;return this.check(e,"hsv"),t=e.h,i=(2-e.s)*e.v,n=e.s*e.v,0===i||0===(a=i<=1?i:2-i)?n=0:n/=a,new v(t,n,i/=2)},hsl2hsv:function(e){var t,n,i,a;return this.check(e,["hsl","hsla"]),t=e.h,i=((a=2*e.l)+(n=e.s*(a<=1?a:2-a)))/2,new m(t,n=a+n===0?0:2*n/(a+n),i)},rgb2websafe:function(e){return this.check(e,"rgb"),new f(51*Math.round(e.r/51),51*Math.round(e.g/51),51*Math.round(e.b/51))},rgba2websafe:function(e){this.check(e,"rgba");var t=this.rgb2websafe(e);return new p(t.r,t.g,t.b,e.a)},hex2websafe:function(e){return this.check(e,"hex"),this.rgb2hex(this.rgb2websafe(this.hex2rgb(e)))},hsv2websafe:function(e){return this.check(e,"hsv"),this.rgb2hsv(this.rgb2websafe(this.toRGB(e)))},hsl2websafe:function(e){return this.check(e,"hsl"),this.hsv2hsl(this.rgb2hsv(this.rgb2websafe(this.toRGB(e))))},cmyk2websafe:function(e){return this.check(e,"cmyk"),this.rgb2cmyk(this.rgb2websafe(this.cmyk2rgb(e)))},websafe:function(e){return this.isHEX(e)?this.hex2websafe(e):this.isRGB(e)?this.rgb2websafe(e):this.isRGBA(e)?this.rgba2websafe(e):this.isHSV(e)?this.hsv2websafe(e):this.isHSL(e)?this.hsl2websafe(e):this.isCMYK(e)?this.cmyk2websafe(e):e},toColor:function(e,t,n){var i;switch(t.toLowerCase()){case"hex":i=this.toHEX(e);break;case"rgb":i=this.toRGB(e);break;case"rgba":i=this.toRGBA(e,n);break;case"hsl":i=this.toHSL(e);break;case"hsla":i=this.toHSLA(e,n);break;case"hsv":i=this.toHSV(e);break;case"cmyk":i=this.toCMYK(e);break;default:i=e}return i},toHEX:function(e){var t="string"==typeof e?this.parse(e):e;if(!t)throw new Error("Unknown color format!");return"string"==typeof t?t:this.rgb2hex(this.toRGB(t))},toRGB:function(e){var t="string"==typeof e?this.parse(e):e;if(this.isRGB(t))return t;if(this.isRGBA(t))return new f(t.r,t.g,t.b);if(this.isHSV(t))return this.hsv2rgb(t);if(this.isHSL(t))return this.hsv2rgb(this.hsl2hsv(t));if(this.isHSLA(t))return this.hsv2rgb(this.hsl2hsv(t));if(this.isHEX(t))return this.hex2rgb(t);if(this.isCMYK(t))return this.cmyk2rgb(t);throw new Error("Unknown color format!")},toRGBA:function(e,t){if(this.isRGBA(e))return t&&(e.a=t),e;var n=this.toRGB(e);return new p(n.r,n.g,n.b,t)},toHSV:function(e){return this.rgb2hsv(this.toRGB(e))},toHSL:function(e){return this.hsv2hsl(this.rgb2hsv(this.toRGB(e)))},toHSLA:function(e,t){if(this.isHSLA(e))return t&&(e.a=t),e;var n=this.hsv2hsl(this.rgb2hsv(this.toRGB(e)));return n.a=t,new g(n.h,n.s,n.l,n.a)},toCMYK:function(e){return this.rgb2cmyk(this.toRGB(e))},grayscale:function(e){return this.desaturate(e,100)},lighten:function(e,t){var n,i,o;if(!this.isColor(e))throw new Error(e+" is not a valid color value!");return t=0===t?0:t||10,(n=this.toHSL(e)).l+=t/100,n.l=d(n.l),(i=this.colorType(e).toLowerCase())!==a&&i!==s||(o=e.a),this.toColor(n,i,o)},darken:function(e,t){return this.lighten(e,-t)},spin:function(e,t){var n,i,o,r;if(!this.isColor(e))throw new Error(e+" is not a valid color value!");return r=((n=this.toHSL(e)).h+t)%360,n.h=r<0?360+r:r,(i=this.colorType(e).toLowerCase())!==a&&i!==s||(o=e.a),this.toColor(n,i,o)},brighten:function(e,t){var n,i,o;if(!this.isColor(e))throw new Error(e+" is not a valid color value!");return(n=this.toRGB(e)).r=Math.max(0,Math.min(255,n.r-Math.round(-t/100*255))),n.g=Math.max(0,Math.min(255,n.g-Math.round(-t/100*255))),n.b=Math.max(0,Math.min(255,n.b-Math.round(-t/100*255))),(i=this.colorType(e).toLowerCase())!==a&&i!==s||(o=e.a),this.toColor(n,i,o)},saturate:function(e,t){var n,i,o;if(!this.isColor(e))throw new Error(e+" is not a valid color value!");return(n=this.toHSL(e)).s+=t/100,n.s=d(n.s),(i=this.colorType(e).toLowerCase())!==a&&i!==s||(o=e.a),this.toColor(n,i,o)},desaturate:function(e,t){var n,i,o;if(!this.isColor(e))throw new Error(e+" is not a valid color value!");return(n=this.toHSL(e)).s-=t/100,n.s=d(n.s),(i=this.colorType(e).toLowerCase())!==a&&i!==s||(o=e.a),this.toColor(n,i,o)},hueShift:function(e,t,n,i){var o,r=this.toHSV(e),l=this.colorType(e).toLowerCase(),u=r.h,c=n||0,h=i||0;for(u+=t||0;u>=360;)u-=360;for(;u<0;)u+=360;return r.h=u,r.s+=c,r.s>1&&(r.s=1),r.s<0&&(r.s=0),r.v+=h,r.v>1&&(r.v=1),r.v<0&&(r.v=0),l!==a&&l!==s||(o=e.a),this.toColor(r,l,o)},shade:function(e,t){if(!this.isColor(e))throw new Error(e+" is not a valid color value!");t/=100;var n,i,o,r,l=this.colorType(e).toLowerCase(),u=this.toRGB(e),c=t<0?0:255,h=t<0?-1*t:t;return n=Math.round((c-u.r)*h)+u.r,i=Math.round((c-u.g)*h)+u.g,o=Math.round((c-u.b)*h)+u.b,l!==a&&l!==s||(r=e.a),this.toColor(new f(n,i,o),l,r)},mix:function(e,t,n){n=0===n?0:n||50;var i=new f(0,0,0),a=this.toRGB(e),o=this.toRGB(t),r=n/100;return i.r=Math.round((o.r-a.r)*r+a.r),i.g=Math.round((o.g-a.g)*r+a.g),i.b=Math.round((o.b-a.b)*r+a.b),this.toHEX(i)},multiply:function(e,t){var n=this.toRGB(e),i=this.toRGB(t),a=new f;return n.b=Math.floor(n.b*i.b/255),n.g=Math.floor(n.g*i.g/255),n.r=Math.floor(n.r*i.r/255),this.toHEX(a)},materialPalette:function(e,n){var i=t.extend({},c,n),a=i.baseLight,o="self"!==i.baseDark&&i.baseDark?i.baseDark:this.multiply(e,e);return{50:this.mix(a,e,10),100:this.mix(a,e,30),200:this.mix(a,e,50),300:this.mix(a,e,70),400:this.mix(a,e,85),500:this.mix(a,e,100),600:this.mix(o,e,92),700:this.mix(o,e,83),800:this.mix(o,e,74),900:this.mix(o,e,65),A100:this.lighten(this.saturate(this.mix(o,e,15),80),65),A200:this.lighten(this.saturate(this.mix(o,e,15),80),55),A400:this.lighten(this.saturate(this.mix(a,e,100),55),10),A700:this.lighten(this.saturate(this.mix(o,e,83),65),10)}},monochromatic:function(e,n){for(var i=t.extend({},c,n),a=i.resultType,o=i.results,r=this.toHSV(e),s=r.h,l=r.s,u=r.v,h=[],d=1/o,f=this;o--;)h.push(new m(s,l,u)),u=(u+d)%1;return h.map((function(e){return f["to"+a.toUpperCase()](e)}))},complementary:function(e,n){var i=t.extend({},c,n),a=this.toHSL(e),o=this,r=i.resultType;return[a,new v(h(a.h,180),a.s,a.l)].map((function(e){return o["to"+r.toUpperCase()](e)}))},splitComplementary:function(e,n){var i=t.extend({},c,n),a=this.toHSL(e),o=a.h,r=this,s=i.resultType,l=i.angle;return[a,new v(h(o,180-l),a.s,a.l),new v(h(o,180+l),a.s,a.l)].map((function(e){return r["to"+s.toUpperCase()](e)}))},doubleComplementary:function(e,n){var i=t.extend({},c,n),a=i.resultType,o=i.angle,r=this.toHSL(e),s=r.h,l=this;return[r,new v(h(s,180),r.s,r.l),new v(h(s,o),r.s,r.l),new v(h(s,180+o),r.s,r.l)].map((function(e){return l["to"+a.toUpperCase()](e)}))},square:function(e,n){var i,a=t.extend({},c,n).resultType,o=[],r=this.toHSL(e),s=r.h,l=this;for(o.push(r),i=1;i<4;i++)s=h(s,90),o.push(new v(s,r.s,r.l));return o.map((function(e){return l["to"+a.toUpperCase()](e)}))},tetradic:function(e,n){var i=t.extend({},c,n),a=i.resultType,o=i.angle,r=this.toHSL(e),s=r.h,l=this;return[r,new v(h(s,180),r.s,r.l),new v(h(s,180-o),r.s,r.l),new v(h(s,-o),r.s,r.l)].map((function(e){return l["to"+a.toUpperCase()](e)}))},triadic:function(e,n){var i=t.extend({},c,n).resultType,a=this.toHSL(e),o=a.h,r=this;return[a,new v(h(o,120),a.s,a.l),new v(h(o,240),a.s,a.l)].map((function(e){return r["to"+i.toUpperCase()](e)}))},analogous:function(e,n){var i=t.extend({},c,n),a=i.resultType,o=i.angle,r=this.toHSL(e),s=this;return[r,new v(h(r.h,-o),r.s,r.l),new v(h(r.h,+o),r.s,r.l)].map((function(e){return s["to"+a.toUpperCase()](e)}))},createScheme:function(e,t,n){switch(t.toLowerCase()){case"analogous":case"analog":return this.analogous(e,n);case"triadic":case"triad":return this.triadic(e,n);case"tetradic":case"tetra":return this.tetradic(e,n);case"monochromatic":case"mono":return this.monochromatic(e,n);case"complementary":case"complement":case"comp":return this.complementary(e,n);case"double-complementary":case"double-complement":case"double":return this.doubleComplementary(e,n);case"split-complementary":case"split-complement":case"split":return this.splitComplementary(e,n);case"square":return this.square(e,n);case"material":return this.materialPalette(e,n)}},getScheme:function(){return this.createScheme.apply(this,arguments)},add:function(e,t,n){var i="string"==typeof e?this.parse(e):e,a="string"==typeof t?this.parse(t):t,o=this.toRGBA(i),r=this.toRGBA(a),s=new p,l=(""+n).toLowerCase()||"hex";return s.r=Math.round((o.r+r.r)/2),s.g=Math.round((o.g+r.g)/2),s.b=Math.round((o.b+r.b)/2),s.a=Math.round((o.a+r.a)/2),this["to"+l.toUpperCase()](s)}},w=function(e,t){this._setValue(e),this._setOptions(t)};w.prototype={_setValue:function(e){var t;t="string"==typeof e?b.parse(e):e,b.isColor(t)||(t="#000000"),this._value=t,this._type=b.colorType(this._value)},_setOptions:function(e){e="object"==typeof e?e:{},this._options=t.extend({},c,e)},getOptions:function(){return this._options},setOptions:function(e){this._setOptions(e)},setValue:function(e){this._setValue(e)},getValue:function(){return this._value},channel:function(e,t){var n=this._type.toUpperCase();return["red","green","blue"].indexOf(e)>-1&&(this.toRGB(),this._value[e[0]]=t,this["to"+n]()),"alpha"===e&&this._value.a&&(this._value.a=t),["hue","saturation","value"].indexOf(e)>-1&&(this.toHSV(),this._value[e[0]]=t,this["to"+n]()),["lightness"].indexOf(e)>-1&&(this.toHSL(),this._value[e[0]]=t,this["to"+n]()),["cyan","magenta","yellow","black"].indexOf(e)>-1&&(this.toCMYK(),this._value[e[0]]=t,this["to"+n]()),this},channels:function(e){var n=this;return t.each(e,(function(e,t){n.channel(e,t)})),this},toRGB:function(){return this._value=b.toRGB(this._value),this._type=i,this},rgb:function(){return this._value?new w(b.toRGB(this._value)):void 0},toRGBA:function(e){return b.isRGBA(this._value)?e&&(this._value=b.toRGBA(this._value,e)):this._value=b.toRGBA(this._value,e),this._type=a,this},rgba:function(e){return this._value?new w(b.toRGBA(this._value,e)):void 0},toHEX:function(){return this._value=b.toHEX(this._value),this._type=n,this},hex:function(){return this._value?new w(b.toHEX(this._value)):void 0},toHSV:function(){return this._value=b.toHSV(this._value),this._type=o,this},hsv:function(){return this._value?new w(b.toHSV(this._value)):void 0},toHSL:function(){return this._value=b.toHSL(this._value),this._type=r,this},hsl:function(){return this._value?new w(b.toHSL(this._value)):void 0},toHSLA:function(e){return b.isHSLA(this._value)?e&&(this._value=b.toHSLA(this._value,e)):this._value=b.toHSLA(this._value,e),this._type=s,this},hsla:function(e){return this._value?new w(b.toHSLA(this._value,e)):void 0},toCMYK:function(){return this._value=b.toCMYK(this._value),this._type=l,this},cmyk:function(){return this._value?new w(b.toCMYK(this._value)):void 0},toWebsafe:function(){return this._value=b.websafe(this._value),this._type=b.colorType(this._value),this},websafe:function(){return this._value?new w(b.websafe(this._value)):void 0},toString:function(){return this._value?b.colorToString(this._value):"undefined"},toDarken:function(e){return this._value=b.darken(this._value,e),this},darken:function(e){return new w(b.darken(this._value,e))},toLighten:function(e){return this._value=b.lighten(this._value,e),this},lighten:function(e){return new w(b.lighten(this._value,e))},isDark:function(){return this._value?b.isDark(this._value):void 0},isLight:function(){return this._value?b.isLight(this._value):void 0},toHueShift:function(e,t,n){return this._value=b.hueShift(this._value,e,t,n),this},hueShift:function(e,t,n){return new w(b.hueShift(this._value,e,t,n))},toGrayscale:function(){return this._value=b.grayscale(this._value,this._type),this},grayscale:function(){return new w(b.grayscale(this._value,this._type))},type:function(){return b.colorType(this._value)},createScheme:function(e,t,n){return this._value?b.createScheme(this._value,e,t,n):void 0},getScheme:function(){return this.createScheme.apply(this,arguments)},equal:function(e){return b.equal(this._value,e)},toAdd:function(e){return this._value=b.add(this._value,e,this._type),this},add:function(e){return new w(b.add(this._value,e,this._type))}},e.colors=b.init(),window.Color=e.Color=w,window.ColorPrimitive=e.colorPrimitive={RGB:f,RGBA:p,HSV:m,HSL:v,HSLA:g,CMYK:y},!0===window.METRO_GLOBAL_COMMON&&(window.Colors=e.colors)}(Metro,m4q),function(e,t){var n=e.utils,i={accordionDeferred:0,showMarker:!0,material:!1,duration:METRO_ANIMATION_DURATION,oneFrame:!0,showActive:!0,activeFrameClass:"",activeHeadingClass:"",activeContentClass:"",clsFrame:"",clsHeading:"",clsContent:"",clsAccordion:"",clsActiveFrame:"",clsActiveFrameHeading:"",clsActiveFrameContent:"",onFrameOpen:e.noop,onFrameBeforeOpen:e.noop_true,onFrameClose:e.noop,onFrameBeforeClose:e.noop_true,onAccordionCreate:e.noop};e.accordionSetup=function(e){i=t.extend({},i,e)},void 0!==typeof window.metroAccordionSetup&&e.accordionSetup(window.metroAccordionSetup),e.Component("accordion",{init:function(e,t){return this._super(t,e,i),this},_create:function(){var e=this.element;this._createStructure(),this._createEvents(),this._fireEvent("accordionCreate",{element:e})},_createStructure:function(){var e,n=this,i=this.element,a=this.options,o=i.children(".frame"),r=i.children(".frame.active");i.addClass("accordion").addClass(a.clsAccordion),o.addClass(a.clsFrame).each((function(){var e=t(this);e.children(".heading").addClass(a.clsHeading),e.children(".content").addClass(a.clsContent)})),!0===a.showMarker&&i.addClass("marker-on"),!0===a.material&&i.addClass("material"),e=0===r.length?o[0]:r[0],this._hideAll(),!0===a.showActive&&(!0===a.oneFrame?this._openFrame(e):t.each(r,(function(){n._openFrame(this)})))},_createEvents:function(){var n=this,i=this.element,a=this.options,o=i.children(".frame.active");i.on(e.events.click,".heading",(function(){var e=t(this),r=e.parent();if(e.closest(".accordion")[0]!==i[0])return!1;r.hasClass("active")?1===o.length&&a.oneFrame||n._closeFrame(r):n._openFrame(r)}))},_openFrame:function(e){var i=this.element,a=this.options,o=t(e);if(!1===n.exec(a.onFrameBeforeOpen,[o[0]],i[0]))return!1;!0===a.oneFrame&&this._closeAll(o[0]),o.addClass("active "+a.activeFrameClass).addClass(a.clsActiveFrame),o.children(".heading").addClass(a.activeHeadingClass).addClass(a.clsActiveFrameHeading),o.children(".content").addClass(a.activeContentClass).addClass(a.clsActiveFrameContent).slideDown(a.duration),this._fireEvent("frameOpen",{frame:o[0]})},_closeFrame:function(e){var i=this.element,a=this.options,o=t(e);o.hasClass("active")&&!1!==n.exec(a.onFrameBeforeClose,[o[0]],i[0])&&(o.removeClass("active "+a.activeFrameClass).removeClass(a.clsActiveFrame),o.children(".heading").removeClass(a.activeHeadingClass).removeClass(a.clsActiveFrameHeading),o.children(".content").removeClass(a.activeContentClass).removeClass(a.clsActiveFrameContent).slideUp(a.duration),this._fireEvent("frameClose",{frame:o[0]}))},_closeAll:function(e){var n=this,i=this.element.children(".frame");t.each(i,(function(){e!==this&&n._closeFrame(this)}))},_hideAll:function(){var e=this.element.children(".frame");t.each(e,(function(){t(this).children(".content").hide()}))},_openAll:function(){var e=this,n=this.element.children(".frame");t.each(n,(function(){e._openFrame(this)}))},open:function(e){var t=this.element.children(".frame").eq(e);this._openFrame(t)},changeAttribute:function(e,t){},destroy:function(){var t=this.element;return t.off(e.events.click,".heading"),t}})}(Metro,m4q),function(e,t){var n=e.utils,i={appbarDeferred:0,expand:!1,expandPoint:null,duration:100,onMenuOpen:e.noop,onMenuClose:e.noop,onBeforeMenuOpen:e.noop,onBeforeMenuClose:e.noop,onMenuCollapse:e.noop,onMenuExpand:e.noop,onAppBarCreate:e.noop};e.appBarSetup=function(e){i=t.extend({},i,e)},void 0!==typeof window.metroAppBarSetup&&e.appBarSetup(window.metroAppBarSetup),e.Component("app-bar",{init:function(e,t){return this._super(t,e,i,{id:n.elementId("app-bar")}),this},_create:function(){var e=this.element;this._createStructure(),this._createEvents(),this._fireEvent("app-bar-create",{element:e})},_createStructure:function(){var i,a,o=this.element,r=this.options,s=n.getStyleOne(o,"background-color");if(o.addClass("app-bar"),0===(i=o.find(".hamburger")).length){i=t("<button>").attr("type","button").addClass("hamburger menu-down");for(var l=0;l<3;l++)t("<span>").addClass("line").appendTo(i);"rgba(0, 0, 0, 0)"!==s&&!0!==e.colors.isLight(s)||i.addClass("dark")}o.prepend(i),0===(a=o.find(".app-bar-menu")).length?i.css("display","none"):n.addCssRule(e.sheet,".app-bar-menu li","list-style: none!important;"),"block"===i.css("display")?(a.hide().addClass("collapsed"),i.removeClass("hidden")):i.addClass("hidden"),(!0===r.expand||n.isValue(r.expandPoint)&&n.mediaExist(r.expandPoint))&&(o.addClass("app-bar-expand"),i.addClass("hidden"))},_createEvents:function(){var i=this,a=this.element,o=this.options,r=a.find(".app-bar-menu"),s=a.find(".hamburger");a.on(e.events.click,".hamburger",(function(){0!==r.length&&(r.hasClass("collapsed")?i.open():i.close())})),t(window).on(e.events.resize,(function(){!0!==o.expand&&(n.isValue(o.expandPoint)&&n.mediaExist(o.expandPoint)?(a.addClass("app-bar-expand"),i._fireEvent("menu-expand")):(a.removeClass("app-bar-expand"),i._fireEvent("menu-collapse"))),0!==r.length&&("block"!==s.css("display")?(r.show((function(){t(this).removeStyleProperty("display")})),s.addClass("hidden")):(s.removeClass("hidden"),s.hasClass("active")?r.show().removeClass("collapsed"):r.hide().addClass("collapsed")))}),{ns:this.id})},close:function(){var e=this,t=this.element,n=this.options,i=t.find(".app-bar-menu"),a=t.find(".hamburger");e._fireEvent("before-menu-close",{menu:i[0]}),i.slideUp(n.duration,(function(){i.addClass("collapsed").removeClass("opened"),a.removeClass("active"),e._fireEvent("menu-close",{menu:i[0]})}))},open:function(){var e=this,t=this.element,n=this.options,i=t.find(".app-bar-menu"),a=t.find(".hamburger");e._fireEvent("before-menu-open",{menu:i[0]}),i.slideDown(n.duration,(function(){i.removeClass("collapsed").addClass("opened"),a.addClass("active"),e._fireEvent("menu-open",{menu:i[0]})}))},changeAttribute:function(e){},destroy:function(){var n=this.element;return n.off(e.events.click,".hamburger"),t(window).off(e.events.resize,{ns:this.id}),n}})}(Metro,m4q),function(e,t){var n=e.utils,i={dropdownDeferred:0,dropFilter:null,toggleElement:null,noClose:!1,duration:50,checkDropUp:!1,dropUp:!1,onDrop:e.noop,onUp:e.noop,onDropdownCreate:e.noop};e.dropdownSetup=function(e){i=t.extend({},i,e)},void 0!==typeof window.metroDropdownSetup&&e.dropdownSetup(window.metroDropdownSetup),e.Component("dropdown",{init:function(e,t){return this._super(t,e,i,{_toggle:null,displayOrigin:null,isOpen:!1}),this},_create:function(){var e=this,t=this.element;this._createStructure(),this._createEvents(),this._fireEvent("dropdown-create",{element:t}),t.hasClass("open")&&(t.removeClass("open"),setTimeout((function(){e.open(!0)}),0))},_createStructure:function(){var e,i=this.element,a=this.options;a.dropUp&&i.addClass("drop-up"),e=null!==a.toggleElement?t(a.toggleElement):i.siblings(".dropdown-toggle").length>0?i.siblings(".dropdown-toggle"):i.prev(),this.displayOrigin=n.getStyleOne(i,"display"),i.hasClass("v-menu")&&i.addClass("for-dropdown"),i.css("display","none"),this._toggle=e},_createEvents:function(){var i=this,a=this.element,o=this.options,r=this._toggle,s=a.parent();r.on(e.events.click,(function(e){if(s.siblings(s[0].tagName).removeClass("active-container"),t(".active-container").removeClass("active-container"),"none"===a.css("display")||a.hasClass("keep-open")){if(t("[data-role*=dropdown]").each((function(e,r){a.parents("[data-role*=dropdown]").is(r)||t(r).hasClass("keep-open")||"none"===t(r).css("display")||(n.isValue(o.dropFilter)?t(r).closest(o.dropFilter).length>0&&i._close(r):i._close(r))})),a.hasClass("horizontal")){a.css({visibility:"hidden",display:"block"});var r=0;t.each(a.children("li"),(function(){r+=t(this).outerWidth(!0)})),a.css({visibility:"visible",display:"none"}),a.css("width",r)}i._open(a),s.addClass("active-container")}else i._close(a);e.preventDefault(),e.stopPropagation()})),!0===o.noClose&&a.addClass("keep-open").on(e.events.click,(function(e){e.stopPropagation()})),t(a).find("li.disabled a").on(e.events.click,(function(e){e.preventDefault()}))},_close:function(n,i){n=t(n);var a=e.getPlugin(n,"dropdown"),o=a._toggle,r=a.options,s="slideUp";o.removeClass("active-toggle").removeClass("active-control"),a.element.parent().removeClass("active-container"),i&&(s="hide"),n[s](i?0:r.duration,(function(){a._fireEvent("close"),a._fireEvent("up"),!r.dropUp&&r.checkDropUp&&a.element.removeClass("drop-up")})),this.isOpen=!1},_open:function(i,a){i=t(i);var o=e.getPlugin(i,"dropdown"),r=o._toggle,s=o.options;r.addClass("active-toggle").addClass("active-control"),i.slideDown(a?0:s.duration,(function(){!s.dropUp&&s.checkDropUp&&(n.inViewport(o.element[0])||(o.element.addClass("drop-up"),n.inViewport(o.element[0])||o.element.removeClass("drop-up"))),o._fireEvent("open"),o._fireEvent("drop")})),this.isOpen=!0},close:function(e){this._close(this.element,e)},open:function(e){this._open(this.element,e)},toggle:function(){this.isOpen?this.close():this.open()},changeAttribute:function(){},destroy:function(){this._toggle.off(e.events.click)}}),t(document).on(e.events.click,(function(){t("[data-role*=dropdown]").each((function(){var n=t(this);"none"===n.css("display")||n.hasClass("keep-open")||n.hasClass("stay-open")||n.hasClass("ignore-document-click")||e.getPlugin(n,"dropdown").close()}))}))}(Metro,m4q),function(e,t){var n={loop:!0,source:"img",iconClose:"<span class='default-icon-cross'>",iconPrev:"<span class='default-icon-chevron-left'>",iconNext:"<span class='default-icon-chevron-right'>",clsNext:"",clsPrev:"",clsClose:"",clsImage:"",clsImageContainer:"",clsImageWrapper:"",clsLightbox:"",onDrawImage:e.noop,onLightboxCreate:e.noop};e.lightboxSetup=function(e){n=t.extend({},n,e)},void 0!==typeof window.metroLightboxSetup&&e.lightboxSetup(window.metroLightboxSetup),e.Component("lightbox",{init:function(e,t){return this._super(t,e,n,{overlay:null,lightbox:null,current:null,items:[]}),this},_create:function(){var e=this.options;e.source||(e.source="img"),this._createStructure(),this._createEvents(),this._fireEvent("lightbox-create")},_createStructure:function(){var e,n,i=this.options;0===(n=t(".lightbox-overlay")).length&&(n=t("<div>").addClass("lightbox-overlay").appendTo("body").hide()),e=t("<div>").addClass("lightbox").addClass(i.clsLightbox).appendTo("body").hide(),t("<span>").addClass("lightbox__prev").addClass(i.clsPrev).html(i.iconPrev).appendTo(e),t("<span>").addClass("lightbox__next").addClass(i.clsNext).html(i.iconNext).appendTo(e),t("<span>").addClass("lightbox__closer").addClass(i.clsClose).html(i.iconClose).appendTo(e),t("<div>").addClass("lightbox__image").addClass(i.clsImageContainer).appendTo(e),this.component=e[0],this.lightbox=e,this.overlay=n},_createEvents:function(){var n=this,i=this.element,a=this.options,o=t(this.component);i.on(e.events.click,a.source,(function(){n.open(this)})),o.on(e.events.click,".lightbox__closer",(function(){n.close()})),o.on(e.events.click,".lightbox__prev",(function(){n.prev()})),o.on(e.events.click,".lightbox__next",(function(){n.next()}))},_setupItems:function(){var e=this.element,t=this.options,n=e.find(t.source);0!==n.length&&(this.items=n)},_goto:function(n){var i,a,o,r,s=this,l=this.options,u=t(n),c=t("<img>");(a=this.lightbox.find(".lightbox__image")).find(".lightbox__image-wrapper").remove(),o=t("<div>").addClass("lightbox__image-wrapper").addClass(l.clsImageWrapper).attr("data-title",u.attr("alt")||u.attr("data-title")||"").appendTo(a),r=t("<div>").appendTo(o),e.makePlugin(r,"activity",{type:"cycle",style:"color"}),this.current=n,"IMG"!==n.tagName&&"DIV"!==n.tagName||(i=u.attr("data-original")||u.attr("src"),c.attr("src",i),c[0].onload=function(){var e=this.height>this.width;c.addClass(e?"lightbox__image-portrait":"lightbox__image-landscape").addClass(l.clsImage),c.attr("alt",u.attr("alt")),c.appendTo(o),r.remove(),s._fireEvent("draw-image",{image:c[0],item:o[0]})})},_index:function(e){var t=-1;return this.items.each((function(n){this===e&&(t=n)})),t},next:function(){var e,t=this.current;if((e=this._index(t))+1>=this.items.length){if(!this.options.loop)return;e=-1}this._goto(this.items[e+1])},prev:function(){var e,t=this.current;if((e=this._index(t))-1<0){if(!this.options.loop)return;e=this.items.length}this._goto(this.items[e-1])},open:function(e){return this._setupItems(),this._goto(e),this.overlay.show(),this.lightbox.show(),this},close:function(){this.overlay.hide(),this.lightbox.hide()},changeAttribute:function(){},destroy:function(){this.element.remove()}})}(Metro,m4q),function(e,t){var n=e.utils,i={tabsDeferred:0,expand:!1,expandPoint:null,tabsPosition:"top",tabsType:"default",updateUri:!1,clsTabs:"",clsTabsList:"",clsTabsListItem:"",clsTabsListItemActive:"",onTab:e.noop,onTabOpen:e.noop,onTabClose:e.noop,onBeforeTab:e.noop_true,onTabsCreate:e.noop};e.tabsSetup=function(e){i=t.extend({},i,e)},void 0!==typeof window.metroTabsSetup&&e.tabsSetup(window.metroTabsSetup),e.Component("tabs",{init:function(e,t){return this._super(t,e,i,{_targets:[],id:n.elementId("tabs")}),this},_create:function(){var e=this.element;this.options;var n=e.find(".active").length>0?t(e.find(".active")[0]):void 0;this._createStructure(),this._createEvents(),this._open(n),this._fireEvent("tabs-create",{element:e})},_createStructure:function(){var i,a,o=this.element,r=this.options,s=o.parent(),l=s.hasClass("tabs"),u=l?s:t("<div>").addClass("tabs tabs-wrapper");if(u.addClass(r.tabsPosition.replace(["-","_","+"]," ")),o.addClass("tabs-list"),"default"!==r.tabsType&&o.addClass("tabs-"+r.tabsType),l||(u.insertBefore(o),o.appendTo(u)),o.data("expanded",!1),i=t("<div>").addClass("expand-title"),u.prepend(i),0===(a=u.find(".hamburger")).length){a=t("<button>").attr("type","button").addClass("hamburger menu-down").appendTo(u);for(var c=0;c<3;c++)t("<span>").addClass("line").appendTo(a);!0===e.colors.isLight(n.getStyleOne(u,"background-color"))&&a.addClass("dark")}u.addClass(r.clsTabs),o.addClass(r.clsTabsList),o.children("li").addClass(r.clsTabsListItem),!0!==r.expand||r.tabsPosition.includes("vertical")?n.isValue(r.expandPoint)&&n.mediaExist(r.expandPoint)&&!r.tabsPosition.includes("vertical")&&u.addClass("tabs-expand"):u.addClass("tabs-expand"),r.tabsPosition.includes("vertical")&&u.addClass("tabs-expand")},_createEvents:function(){var i=this,a=this.element,o=this.options,r=a.parent();t(window).on(e.events.resize,(function(){o.tabsPosition.includes("vertical")||(!0!==o.expand||o.tabsPosition.includes("vertical")?n.isValue(o.expandPoint)&&n.mediaExist(o.expandPoint)&&!o.tabsPosition.includes("vertical")?r.hasClass("tabs-expand")||r.addClass("tabs-expand"):r.hasClass("tabs-expand")&&r.removeClass("tabs-expand"):r.addClass("tabs-expand"))}),{ns:this.id}),r.on(e.events.click,".hamburger, .expand-title",(function(){!1===a.data("expanded")?(a.addClass("expand"),a.data("expanded",!0),r.find(".hamburger").addClass("active")):(a.removeClass("expand"),a.data("expanded",!1),r.find(".hamburger").removeClass("active"))})),a.on(e.events.click,"a",(function(e){var s=t(this),l=s.attr("href").trim(),u=s.parent("li");if(i._fireEvent("tab",{tab:u[0],target:u.children("a").attr("href")}),u.hasClass("active")&&e.preventDefault(),!0===a.data("expanded")&&(a.removeClass("expand"),a.data("expanded",!1),r.find(".hamburger").removeClass("active")),!0!==n.exec(o.onBeforeTab,[u,a],u[0]))return!1;n.isValue(l)&&"#"===l[0]&&(i._open(u),e.preventDefault())})),t(window).on("hashchange",(function(e){var n,a;o.updateUri&&(n=window.location.hash,a=i._findTabByTarget(n),i._open(t(a)))}))},_findTabByTarget:function(e){var n=this.element.find("li"),i=void 0;return n.each((function(n,a){i||t(a).children("a").attr("href")!==e||(i=a)})),i},_collectTargets:function(){var e=this,n=this.element.find("li");this._targets=[],t.each(n,(function(){var n=t(this).find("a").attr("href").trim();n.length>1&&"#"===n[0]&&e._targets.push(n)}))},_open:function(e){var n=this.element,i=this.options,a=n.find("li"),o=n.siblings(".expand-title"),r=n.find("li.active");if(0!==a.length){this._collectTargets(),void 0===e&&(e=t(a[0]));var s=e.find("a").attr("href");void 0!==s&&(a.removeClass("active").removeClass(i.clsTabsListItemActive),e.parent().hasClass("d-menu")?e.parent().parent().addClass("active"):e.addClass("active"),t.each(this._targets,(function(){var e=t(this);e.length>0&&e.hide()})),"#"!==s&&"#"===s[0]&&(i.updateUri&&(window.location.hash=s),t(s).show()),o.html(e.find("a").html()),e.addClass(i.clsTabsListItemActive),r.is(e)||(this._fireEvent("tab-open",{tab:e[0],target:e.children("a").attr("href")}),this._fireEvent("tab-close",{tab:r[0],target:r.children("a").attr("href")})))}},next:function(){var e;(e=this.element.find("li.active").next("li")).length>0&&this._open(e)},prev:function(){var e;(e=this.element.find("li.active").prev("li")).length>0&&this._open(e)},openByTarget:function(e){var n=this._findTabByTarget(e);n&&this._open(t(n))},open:function(e){var i=this.element.find("li");n.isValue(e)||(e=1),n.isInt(e)?n.isValue(i[e-1])&&this._open(t(i[e-1])):this._open(t(e))},changeAttribute:function(){},destroy:function(){var n=this.element,i=n.parent();return t(window).off(e.events.resize,{ns:this.id}),i.off(e.events.click,".hamburger, .expand-title"),n.off(e.events.click,"a"),n}})}(Metro,m4q),function(e,t){var n=e.utils,i={useCurrentSlice:!1,showInspectorButton:!1,inspectorButtonIcon:"<span class='default-icon-equalizer'>",tableDeferred:0,templateBeginToken:"<%",templateEndToken:"%>",paginationDistance:5,locale:METRO_LOCALE,horizontalScroll:!1,horizontalScrollStop:null,check:!1,checkType:"checkbox",checkStyle:1,checkColIndex:0,checkName:null,checkStoreKey:"TABLE:$1:KEYS",rownum:!1,rownumTitle:"#",filters:null,filtersOperator:"and",head:null,body:null,static:!1,source:null,searchMinLength:1,searchThreshold:500,searchFields:null,showRowsSteps:!0,showSearch:!0,showTableInfo:!0,showPagination:!0,paginationShortMode:!0,showActivity:!0,muteTable:!0,showSkip:!1,rows:10,rowsSteps:"10,25,50,100",staticView:!1,viewSaveMode:"client",viewSavePath:"TABLE:$1:OPTIONS",sortDir:"asc",decimalSeparator:".",thousandSeparator:",",tableRowsCountTitle:null,tableSearchTitle:null,tableSearchPlaceholder:"",tableInfoTitle:null,paginationPrevTitle:null,paginationNextTitle:null,allRecordsTitle:null,inspectorTitle:null,tableSkipTitle:null,emptyTableTitle:null,activityType:"atom",activityStyle:"color",activityTimeout:100,searchWrapper:null,rowsWrapper:null,infoWrapper:null,paginationWrapper:null,skipWrapper:null,cellWrapper:!0,clsComponent:"",clsTableContainer:"",clsTable:"",clsHead:"",clsHeadRow:"",clsHeadCell:"",clsBody:"",clsBodyRow:"",clsBodyCell:"",clsCellWrapper:"",clsFooter:"",clsFooterRow:"",clsFooterCell:"",clsTableTop:"",clsRowsCount:"",clsSearch:"",clsTableBottom:"",clsTableInfo:"",clsTablePagination:"",clsPagination:"",clsTableSkip:"",clsTableSkipInput:"",clsTableSkipButton:"",clsEvenRow:"",clsOddRow:"",clsRow:"",clsEmptyTableTitle:"",onDraw:e.noop,onDrawRow:e.noop,onDrawCell:e.noop,onAppendRow:e.noop,onAppendCell:e.noop,onSortStart:e.noop,onSortStop:e.noop,onSortItemSwitch:e.noop,onSearch:e.noop,onRowsCountChange:e.noop,onDataLoad:e.noop,onDataLoadError:e.noop,onDataLoaded:e.noop,onDataLoadEnd:e.noop,onDataSaveError:e.noop,onFilterRowAccepted:e.noop,onFilterRowDeclined:e.noop,onCheckClick:e.noop,onCheckClickAll:e.noop,onCheckDraw:e.noop,onViewSave:e.noop,onViewGet:e.noop,onViewCreated:e.noop,onTableCreate:e.noop,onSkip:e.noop};e.tableSetup=function(e){i=t.extend({},i,e)},void 0!==typeof window.metroTableSetup&&e.tableSetup(window.metroTableSetup),e.Component("table",{init:function(t,a){return this._super(a,t,i,{currentPage:1,pagesCount:1,searchString:"",data:null,activity:null,loadActivity:null,busy:!1,filters:[],wrapperInfo:null,wrapperSearch:null,wrapperRows:null,wrapperPagination:null,wrapperSkip:null,filterIndex:null,filtersIndexes:[],component:null,inspector:null,view:{},viewDefault:{},locale:e.locales["en-US"],input_interval:null,searchFields:[],id:n.elementId("table"),sort:{dir:"asc",colIndex:0},service:[],heads:[],items:[],foots:[],filteredItems:[],currentSlice:[],index:{}}),this},_create:function(){var i,a,o,r=this,s=this.element,l=this.options,u=n.elementId("table");if(n.isValue(s.attr("id"))||s.attr("id",u),n.isValue(e.locales[l.locale])&&(this.locale=e.locales[l.locale]),n.isValue(l.searchFields)&&(this.searchFields=l.searchFields.toArray()),n.isValue(l.head)){var c=l.head;l.head=n.isObject(l.head),l.head||(console.warn("Head "+c+" defined but not exists!"),l.head=null)}if(n.isValue(l.body)){var h=l.body;l.body=n.isObject(l.body),l.body||(console.warn("Body "+h+" defined but not exists!"),l.body=null)}if(!0===l.static&&(l.showPagination=!1,l.showRowsSteps=!1,l.showSearch=!1,l.showTableInfo=!1,l.showSkip=!1,l.rows=-1),(i=t("<div>").addClass("table-component")).insertBefore(s),a=t("<div>").addClass("table-container").addClass(l.clsTableContainer).appendTo(i),s.appendTo(a),!0===l.horizontalScroll&&a.addClass("horizontal-scroll"),!n.isNull(l.horizontalScrollStop)&&n.mediaExist(l.horizontalScrollStop)&&a.removeClass("horizontal-scroll"),i.addClass(l.clsComponent),this.activity=t("<div>").addClass("table-progress").appendTo(i),o=t("<div>").appendTo(this.activity),e.makePlugin(o,"activity",{type:l.activityType,style:l.activityStyle}),!0!==l.showActivity&&this.activity.css({visibility:"hidden"}),this.component=i[0],null!==l.source){this._fireEvent("data-load",{source:l.source});var d=n.isObject(l.source);!1!==d&&t.isPlainObject(d)?r._build(d):this.activity.show((function(){fetch(l.source).then(e.fetch.status).then(e.fetch.json).then((function(e){if(r.activity.hide(),"object"!=typeof e)throw new Error("Data for table is not a object");r._fireEvent("data-loaded",{source:l.source,data:e}),r._build(e)})).catch((function(e){r.activity.hide(),r._fireEvent("data-load-error",{source:l.source,error:e})}))}))}else r._build()},_createIndex:function(){var e=this,t=this.options.checkColIndex;setImmediate((function(){e.items.forEach((function(n,i){e.index[n[t]]=i}))}))},_build:function(t){var i,a,o=this,r=this.element,s=this.options,l=r.attr("id");s.rows=+s.rows,this.items=[],this.heads=[],this.foots=[],Array.isArray(s.head)&&(this.heads=s.head),Array.isArray(s.body)&&(this.items=s.body),n.isValue(t)?this._createItemsFromJSON(t):this._createItemsFromHTML(),this._createIndex(),this.view=this._createView(),this.viewDefault=n.objectClone(this.view),a=s.viewSavePath.replace("$1",l),"client"===s.viewSaveMode.toLowerCase()?(i=e.storage.getItem(a),n.isValue(i)&&n.objectLength(i)===n.objectLength(this.view)&&(this.view=i,this._fireEvent("view-get",{source:"client",view:i})),this._final()):fetch(a).then(e.fetch.status).then(e.fetch.json).then((function(e){n.isValue(e)&&n.objectLength(e)===n.objectLength(o.view)&&(o.view=e,o._fireEvent("view-get",{source:"server",view:e})),o._final()})).catch((function(e){o._final(),console.warn("Warning! Error loading view for table "+r.attr("id")+": "+e)}))},_final:function(){var t=this.element,n=this.options,i=t.attr("id");e.storage.delItem(n.checkStoreKey.replace("$1",i)),this._service(),this._createStructure(),this._createInspector(),this._createEvents(),this._fireEvent("table-create",{element:t})},_service:function(){var e=this.options;this.service=[{title:e.rownumTitle,format:void 0,name:void 0,sortable:!1,sortDir:void 0,clsColumn:"rownum-cell "+(!0!==e.rownum?"d-none":""),cls:"rownum-cell "+(!0!==e.rownum?"d-none":""),colspan:void 0,type:"rownum"},{title:"checkbox"===e.checkType?"<input type='checkbox' data-role='checkbox' class='table-service-check-all' data-style='"+e.checkStyle+"'>":"",format:void 0,name:void 0,sortable:!1,sortDir:void 0,clsColumn:"check-cell "+(!0!==e.check?"d-none":""),cls:"check-cell "+(!0!==e.check?"d-none":""),colspan:void 0,type:"rowcheck"}]},_createView:function(){var e;return e={},t.each(this.heads,(function(t){n.isValue(this.cls)&&(this.cls=this.cls.replace("hidden","")),n.isValue(this.clsColumn)&&(this.clsColumn=this.clsColumn.replace("hidden","")),e[t]={index:t,"index-view":t,show:!n.isValue(this.show)||this.show,size:n.isValue(this.size)?this.size:""}})),this._fireEvent("view-created",{view:e}),e},_createInspectorItems:function(e){var i,a,o=this,r=this.options,s=[],l=this.heads;for(e.html(""),i=0;i<l.length;i++)s[i]=null;for(t.each(l,(function(e){(a=t("<tr>")).data("index",e),a.data("index-view",e),t("<td>").html("<input type='checkbox' data-style='"+r.checkStyle+"' data-role='checkbox' name='column_show_check[]' value='"+e+"' "+(n.bool(o.view[e].show)?"checked":"")+">").appendTo(a),t("<td>").html(this.title).appendTo(a),t("<td>").html("<input type='number' data-role='spinner' name='column_size' value='"+o.view[e].size+"' data-index='"+e+"'>").appendTo(a),t("<td>").html("<button class='button square js-table-inspector-field-up' type='button'><span class='mif-arrow-up'></span></button><button class='button square js-table-inspector-field-down' type='button'><span class='mif-arrow-down'></span></button>").appendTo(a),s[o.view[e]["index-view"]]=a})),i=0;i<l.length;i++)s[i].appendTo(e)},_createInspector:function(){var e,n,i,a,o,r=this.options;(e=t("<div data-role='draggable' data-drag-element='.table-inspector-header' data-drag-area='body'>").addClass("table-inspector")).attr("for",this.element.attr("id")),t("<div class='table-inspector-header'>"+(r.inspectorTitle||this.locale.table.inspector)+"</div>").appendTo(e),n=t("<div>").addClass("table-wrap").appendTo(e),i=t("<table>").addClass("table subcompact"),a=t("<tbody>").appendTo(i),i.appendTo(n),this._createInspectorItems(a),o=t("<div class='table-inspector-actions'>").appendTo(e),t("<button class='button primary js-table-inspector-save' type='button'>").html(this.locale.buttons.save).appendTo(o),t("<button class='button secondary js-table-inspector-reset ml-2 mr-2' type='button'>").html(this.locale.buttons.reset).appendTo(o),t("<button class='button link js-table-inspector-cancel place-right' type='button'>").html(this.locale.buttons.cancel).appendTo(o),e.data("open",!1),this.inspector=e,t("body").append(e),this._createInspectorEvents()},_resetInspector:function(){var e=this.inspector.find("table tbody");this._createInspectorItems(e),this._createInspectorEvents()},_createHeadsFromHTML:function(){var e=this,i=this.element.find("thead");i.length>0&&t.each(i.find("tr > *"),(function(){var i,a,o,r=t(this);r.hasClass("rownum-cell")||r.hasClass("check-cell")||(i=n.isValue(r.data("sort-dir"))?r.data("sort-dir"):r.hasClass("sort-asc")?"asc":r.hasClass("sort-desc")?"desc":void 0,o=(o=(o=(o=r[0].className.replace("sortable-column","")).replace("sort-asc","")).replace("sort-desc","")).replace("hidden",""),a={type:"data",title:r.html(),name:n.isValue(r.data("name"))?r.data("name"):r.text().replace(" ","_"),sortable:r.hasClass("sortable-column")||n.isValue(r.data("sortable"))&&!0===JSON.parse(r.data("sortable")),sortDir:i,format:n.isValue(r.data("format"))?r.data("format"):"string",formatMask:n.isValue(r.data("format-mask"))?r.data("format-mask"):null,clsColumn:n.isValue(r.data("cls-column"))?r.data("cls-column"):"",cls:o,colspan:r.attr("colspan"),size:n.isValue(r.data("size"))?r.data("size"):"",show:!(r.hasClass("hidden")||n.isValue(r.data("show"))&&!1===JSON.parse(r.data("show"))),required:!!n.isValue(r.data("required"))&&!0===JSON.parse(r.data("required")),field:n.isValue(r.data("field"))?r.data("field"):"input",fieldType:n.isValue(r.data("field-type"))?r.data("field-type"):"text",validator:n.isValue(r.data("validator"))?r.data("validator"):null,template:n.isValue(r.data("template"))?r.data("template"):null},e.heads.push(a))}))},_createFootsFromHTML:function(){var e=this,i=this.element.find("tfoot");i.length>0&&t.each(i.find("tr > *"),(function(){var i,a=t(this);i={title:a.html(),name:!!n.isValue(a.data("name"))&&a.data("name"),cls:a[0].className,colspan:a.attr("colspan")},e.foots.push(i)}))},_createItemsFromHTML:function(){var e=this,n=this.element.find("tbody");n.length>0&&t.each(n.find("tr"),(function(){var n=t(this),i=[];t.each(n.children("td"),(function(){var e=t(this);i.push(e.html())})),e.items.push(i)})),this._createHeadsFromHTML(),this._createFootsFromHTML()},_createItemsFromJSON:function(e){var n=this;"string"==typeof e&&(e=JSON.parse(e)),void 0!==e.header?n.heads=e.header:this._createHeadsFromHTML(),void 0!==e.data&&t.each(e.data,(function(){var e=[];t.each(this,(function(){e.push(this)})),n.items.push(e)})),void 0!==e.footer?this.foots=e.footer:this._createFootsFromHTML()},_createTableHeader:function(){var e,i,a,o=this.element,r=this.options,s=o.find("thead"),l=[],u=r.staticView?this._createView():this.view;if(0===s.length&&(s=t("<thead>"),o.prepend(s)),s.clear().addClass(r.clsHead),0===this.heads.length)return s;for(e=t("<tr>").addClass(r.clsHeadRow).appendTo(s),t.each(this.service,(function(){var i=this,a=[],o=t("<th>");n.isValue(i.title)&&o.html(i.title),n.isValue(i.size)&&o.css({width:i.size}),n.isValue(i.cls)&&a.push(i.cls),a.push(r.clsHeadCell),o.addClass(a.join(" ")),e.append(o)})),a=this.heads,i=0;i<a.length;i++)l[i]=null;for(t.each(a,(function(e){var i=this,a=[],o=t("<th>");o.data("index",e),n.isValue(i.title)&&o.html(i.title),n.isValue(i.format)&&o.attr("data-format",i.format),n.isValue(i.formatMask)&&o.attr("data-format-mask",i.formatMask),n.isValue(i.name)&&o.attr("data-name",i.name),n.isValue(i.colspan)&&o.attr("colspan",i.colspan),n.isValue(i.size)&&o.attr("data-size",i.size),n.isValue(i.sortable)&&o.attr("data-sortable",i.sortable),n.isValue(i.sortDir)&&o.attr("data-sort-dir",i.sortDir),n.isValue(i.clsColumn)&&o.attr("data-cls-column",i.clsColumn),n.isValue(i.cls)&&o.attr("data-cls",i.cls),n.isValue(i.colspan)&&o.attr("colspan",i.colspan),n.isValue(i.show)&&o.attr("data-show",i.show),n.isValue(i.required)&&o.attr("data-required",i.required),n.isValue(i.field)&&o.attr("data-field",i.field),n.isValue(i.fieldType)&&o.attr("data-field-type",i.fieldType),n.isValue(i.validator)&&o.attr("data-validator",i.validator),n.isValue(i.template)&&o.attr("data-template",i.template),n.isValue(u[e].size)&&o.css({width:u[e].size}),!0===i.sortable&&(a.push("sortable-column"),n.isValue(i.sortDir)&&a.push("sort-"+i.sortDir)),n.isValue(i.cls)&&t.each(i.cls.toArray(),(function(){a.push(this)})),!1===n.bool(u[e].show)&&-1===a.indexOf("hidden")&&a.push("hidden"),a.push(r.clsHeadCell),n.bool(u[e].show)&&n.arrayDelete(a,"hidden"),o.addClass(a.join(" ")),l[u[e]["index-view"]]=o})),i=0;i<a.length;i++)l[i].appendTo(e)},_createTableBody:function(){var e,n,i=this.element;n=i.find("thead"),0===(e=i.find("tbody")).length&&(e=t("<tbody>").addClass(this.options.clsBody),0!==n.length?e.insertAfter(n):i.append(e)),e.clear()},_createTableFooter:function(){var e,i,a=this.element,o=this.options,r=a.find("tfoot");0===r.length&&(r=t("<tfoot>").appendTo(a)),r.clear().addClass(o.clsFooter),0!==this.foots.length&&(e=t("<tr>").addClass(o.clsHeadRow).appendTo(r),t.each(this.foots,(function(){var a=this;i=t("<th>").appendTo(e),void 0!==a.title&&i.html(a.title),void 0!==a.name&&i.addClass("foot-column-name-"+a.name),void 0!==a.cls&&i.addClass(a.cls),n.isValue(a.colspan)&&i.attr("colspan",a.colspan),i.appendTo(e)})))},_createTopBlock:function(){var i,a,o,r,s=this,l=this.element,u=this.options,c=t("<div>").addClass("table-top").addClass(u.clsTableTop).insertBefore(l.parent());return(i=n.isValue(this.wrapperSearch)?this.wrapperSearch:t("<div>").addClass("table-search-block").addClass(u.clsSearch).appendTo(c)).addClass(u.clsSearch),a=t("<input>").attr("type","text").attr("placeholder",u.tableSearchPlaceholder).appendTo(i),e.makePlugin(a,"input",{prepend:u.tableSearchTitle||s.locale.table.search}),!0!==u.showSearch&&i.hide(),(o=n.isValue(this.wrapperRows)?this.wrapperRows:t("<div>").addClass("table-rows-block").appendTo(c)).addClass(u.clsRowsCount),r=t("<select>").appendTo(o),t.each(u.rowsSteps.toArray(),(function(){var e=parseInt(this),n=t("<option>").attr("value",e).text(-1===e?u.allRecordsTitle||s.locale.table.all:e).appendTo(r);e===parseInt(u.rows)&&n.attr("selected","selected")})),e.makePlugin(r,"select",{filter:!1,prepend:u.tableRowsCountTitle||s.locale.table.rowsCount,onChange:function(e){(e=parseInt(e))!==parseInt(u.rows)&&(u.rows=e,s.currentPage=1,s._draw(),s._fireEvent("rows-count-change",{val:e}))}}),u.showInspectorButton&&t("<button>").addClass("button inspector-button").attr("type","button").html(u.inspectorButtonIcon).insertAfter(o),!0!==u.showRowsSteps&&o.hide(),c},_createBottomBlock:function(){var e,i,a,o=this.element,r=this.options,s=t("<div>").addClass("table-bottom").addClass(r.clsTableBottom).insertAfter(o.parent());return(e=n.isValue(this.wrapperInfo)?this.wrapperInfo:t("<div>").addClass("table-info").appendTo(s)).addClass(r.clsTableInfo),!0!==r.showTableInfo&&e.hide(),(i=n.isValue(this.wrapperPagination)?this.wrapperPagination:t("<div>").addClass("table-pagination").appendTo(s)).addClass(r.clsTablePagination),!0!==r.showPagination&&i.hide(),(a=n.isValue(this.wrapperSkip)?this.wrapperSkip:t("<div>").addClass("table-skip").appendTo(s)).addClass(r.clsTableSkip),t("<input type='text'>").addClass("input table-skip-input").addClass(r.clsTableSkipInput).appendTo(a),t("<button>").addClass("button table-skip-button").addClass(r.clsTableSkipButton).html(r.tableSkipTitle||this.locale.table.skip).appendTo(a),!0!==r.showSkip&&a.hide(),s},_createStructure:function(){var e,i=this,a=this.element,o=this.options,r=t(o.searchWrapper),s=t(o.infoWrapper),l=t(o.rowsWrapper),u=t(o.paginationWrapper),c=t(o.skipWrapper);r.length>0&&(this.wrapperSearch=r),s.length>0&&(this.wrapperInfo=s),l.length>0&&(this.wrapperRows=l),u.length>0&&(this.wrapperPagination=u),c.length>0&&(this.wrapperSkip=c),a.addClass(o.clsTable),this._createTableHeader(),this._createTableBody(),this._createTableFooter(),this._createTopBlock(),this._createBottomBlock();var h,d=!1;this.heads.length>0&&t.each(this.heads,(function(e){!d&&["asc","desc"].indexOf(this.sortDir)>-1&&(d=!0,i.sort.colIndex=e,i.sort.dir=this.sortDir)})),d&&(e=a.find("thead th"),this._resetSortClass(e),t(e.get(this.sort.colIndex+i.service.length)).addClass("sort-"+this.sort.dir),this.sorting()),n.isValue(o.filters)&&"string"==typeof o.filters&&t.each(o.filters.toArray(),(function(){!1!==(h=n.isFunc(this))&&i.filtersIndexes.push(i.addFilter(h))})),this.currentPage=1,this._draw()},_resetSortClass:function(e){t(e).removeClass("sort-asc sort-desc")},_createEvents:function(){var i,a=this,o=this.element,r=this.options,s=o.closest(".table-component"),l=s.find(".table-container"),u=s.find(".table-search-block input"),c=r.skipWrapper?t(r.skipWrapper).find(".table-skip-button"):s.find(".table-skip-button"),h=r.skipWrapper?t(r.skipWrapper).find(".table-skip-input"):s.find(".table-skip-input"),d=o.attr("id");s.find(".inspector-button").on(e.events.click,(function(){a.toggleInspector()})),c.on(e.events.click,(function(){var e=parseInt(h.val().trim());if(isNaN(e)||e<=0||e>a.pagesCount)return h.val(""),!1;h.val(""),a._fireEvent("skip",{skipTo:e,skipFrom:a.currentPage}),a.page(e)})),t(window).on(e.events.resize,(function(){!0===r.horizontalScroll&&(!n.isNull(r.horizontalScrollStop)&&n.mediaExist(r.horizontalScrollStop)?l.removeClass("horizontal-scroll"):l.addClass("horizontal-scroll"))}),{ns:this.id}),o.on(e.events.click,".sortable-column",(function(){if(!0===r.muteTable&&o.addClass("disabled"),a.busy)return!1;a.busy=!0;var e=t(this);a.activity.show((function(){setImmediate((function(){a.currentPage=1,a.sort.colIndex=e.data("index"),e.hasClass("sort-asc")||e.hasClass("sort-desc")?e.hasClass("sort-asc")?a.sort.dir="desc":a.sort.dir="asc":a.sort.dir=r.sortDir,a._resetSortClass(o.find(".sortable-column")),e.addClass("sort-"+a.sort.dir),a.sorting(),a._draw((function(){a.busy=!1,!0===r.muteTable&&o.removeClass("disabled")}))}))}))})),o.on(e.events.click,".table-service-check input",(function(){var i=t(this),o=i.is(":checked"),s=""+i.val(),l=r.checkStoreKey.replace("$1",d),u=e.storage,c=u.getItem(l);"radio"===i.attr("type")&&(c=[]),o?n.isValue(c)?-1===Array(c).indexOf(s)&&c.push(s):c=[s]:n.isValue(c)?n.arrayDelete(c,s):c=[],u.setItem(l,c),a._fireEvent("check-click",{check:this,status:o,data:c})})),o.on(e.events.click,".table-service-check-all input",(function(){var n,i=t(this).is(":checked"),o=r.checkStoreKey.replace("$1",d),s=e.storage,l=[];!0===r.useCurrentSlice?(n=s.getItem(o,[]),i?t.each(a.currentSlice,(function(){-1===n.indexOf(""+this[r.checkColIndex])&&n.push(""+this[r.checkColIndex])})):t.each(a.currentSlice,(function(){var t=""+this[r.checkColIndex];-1!==n.indexOf(t)&&e.utils.arrayDelete(n,t)})),l=n):i?t.each(a.filteredItems,(function(){-1===l.indexOf(this[r.checkColIndex])&&l.push(""+this[r.checkColIndex])})):l=[],s.setItem(o,l),a._draw(),a._fireEvent("check-click-all",{check:this,status:i,data:l})}));var f=function(){a.searchString=this.value.trim().toLowerCase(),clearInterval(a.input_interval),a.input_interval=!1,a.input_interval||(a.input_interval=setTimeout((function(){a.currentPage=1,a._draw(),clearInterval(a.input_interval),a.input_interval=!1}),r.searchThreshold))};function p(e){var n=t(e),i=n.parent();0!==a.filteredItems.length&&(i.hasClass("active")||(i.hasClass("service")?"prev"===n.data("page")?(a.currentPage--,0===a.currentPage&&(a.currentPage=1)):(a.currentPage++,a.currentPage>a.pagesCount&&(a.currentPage=a.pagesCount)):a.currentPage=n.data("page"),a._draw()))}u.on(e.events.inputchange,f),n.isValue(this.wrapperSearch)&&(i=this.wrapperSearch.find("input")).length>0&&i.on(e.events.inputchange,f),s.on(e.events.click,".pagination .page-link",(function(){p(this)})),n.isValue(this.wrapperPagination)&&this.wrapperPagination.on(e.events.click,".pagination .page-link",(function(){p(this)})),this._createInspectorEvents(),o.on(e.events.click,".js-table-crud-button",(function(){}))},_createInspectorEvents:function(){var i=this,a=this.inspector;this._removeInspectorEvents(),a.on(e.events.click,".js-table-inspector-field-up",(function(){var e,n=t(this).closest("tr"),a=n.prev("tr"),o=n.data("index");0!==a.length&&(n.insertBefore(a),n.addClass("flash"),setTimeout((function(){n.removeClass("flash")}),1e3),e=n.index(),n.data("index-view",e),i.view[o]["index-view"]=e,t.each(n.nextAll(),(function(){var n=t(this);e++,n.data("index-view",e),i.view[n.data("index")]["index-view"]=e})),i._createTableHeader(),i._draw())})),a.on(e.events.click,".js-table-inspector-field-down",(function(){var e,n=t(this).closest("tr"),a=n.next("tr"),o=n.data("index");0!==a.length&&(n.insertAfter(a),n.addClass("flash"),setTimeout((function(){n.removeClass("flash")}),1e3),e=n.index(),n.data("index-view",e),i.view[o]["index-view"]=e,t.each(n.prevAll(),(function(){var n=t(this);e--,n.data("index-view",e),i.view[n.data("index")]["index-view"]=e})),i._createTableHeader(),i._draw())})),a.on(e.events.click,"input[type=checkbox]",(function(){var e=t(this),a=e.is(":checked"),o=e.val(),r=["cls","clsColumn"];a?t.each(r,(function(){var e;e=n.isValue(i.heads[o][this])?i.heads[o][this].toArray(" "):[],n.arrayDelete(e,"hidden"),i.heads[o][this]=e.join(" "),i.view[o].show=!0})):t.each(r,(function(){var e;-1===(e=n.isValue(i.heads[o][this])?i.heads[o][this].toArray(" "):[]).indexOf("hidden")&&e.push("hidden"),i.heads[o][this]=e.join(" "),i.view[o].show=!1})),i._createTableHeader(),i._draw()})),a.find("input[type=number]").on(e.events.inputchange,(function(){var e=t(this),n=e.attr("data-index"),a=parseInt(e.val());i.view[n].size=0===a?"":a,i._createTableHeader()})),a.on(e.events.click,".js-table-inspector-save",(function(){i._saveTableView(),i.openInspector(!1)})),a.on(e.events.click,".js-table-inspector-cancel",(function(){i.openInspector(!1)})),a.on(e.events.click,".js-table-inspector-reset",(function(){i.resetView()}))},_removeInspectorEvents:function(){var t=this.inspector;t.off(e.events.click,".js-table-inspector-field-up"),t.off(e.events.click,".js-table-inspector-field-down"),t.off(e.events.click,"input[type=checkbox]"),t.off(e.events.click,".js-table-inspector-save"),t.off(e.events.click,".js-table-inspector-cancel"),t.off(e.events.click,".js-table-inspector-reset"),t.find("input[type=number]").off(e.events.inputchange)},_saveTableView:function(){var t=this,n=this.element,i=this.options,a=this.view,o=n.attr("id"),r=i.viewSavePath.replace("$1",o),s=e.storage;if("client"===i.viewSaveMode.toLowerCase())s.setItem(r,a),this._fireEvent("view-save",{target:"client",path:i.viewSavePath,view:a});else{var l={id:n.attr("id"),view:a};fetch(r,{method:"POST",body:JSON.stringify(l),header:{"Content-type":"application/json;charset=utf-8"}}).then(e.fetch.status).then(e.fetch.text).then((function(e){t._fireEvent("view-save",{target:"server",path:i.viewSavePath,view:a,post_data:l,response:e})})).catch((function(e){t._fireEvent("data-save-error",{source:i.viewSavePath,error:e,post_data:l})}))}},_info:function(e,t,i){var a,o=this.element,r=this.options,s=o.closest(".table-component"),l=n.isValue(this.wrapperInfo)?this.wrapperInfo:s.find(".table-info");0!==l.length&&(t>i&&(t=i),0===this.items.length&&(e=t=i=0),a=(a=(a=(a=r.tableInfoTitle||this.locale.table.info).replace("$1",e)).replace("$2",t)).replace("$3",i),l.html(a))},_paging:function(t){var i=this.element,a=this.options,o=i.closest(".table-component");this.pagesCount=Math.ceil(t/a.rows),e.pagination({length:t,rows:a.rows,current:this.currentPage,target:n.isValue(this.wrapperPagination)?this.wrapperPagination:o.find(".table-pagination"),claPagination:a.clsPagination,prevTitle:a.paginationPrevTitle||this.locale.table.prev,nextTitle:a.paginationNextTitle||this.locale.table.next,distance:!0===a.paginationShortMode?a.paginationDistance:0})},_filter:function(){var e,i=this,a=this.options;return e=n.isValue(this.searchString)&&i.searchString.length>=a.searchMinLength||this.filters.length>0?this.items.filter((function(e){var o,r,s,l="",u=0;if(i.filters.length>0){for(o="and"===a.filtersOperator.toLowerCase(),s=0;s<i.filters.length;s++)n.isNull(i.filters[s])||(u++,o="and"===a.filtersOperator.toLowerCase()?o&&n.exec(i.filters[s],[e,i.heads]):o||n.exec(i.filters[s],[e,i.heads]));0===u&&(o=!0)}else o=!0;return i.searchFields.length>0?t.each(i.heads,(function(t,n){i.searchFields.indexOf(n.name)>-1&&(l+="•"+e[t])})):l=e.join("•"),l=l.replace(/[\n\r]+|[\s]{2,}/g," ").trim().toLowerCase(),r=!(n.isValue(i.searchString)&&i.searchString.length>=a.searchMinLength)||~l.indexOf(i.searchString),(o=o&&r)?i._fireEvent("filter-row-accepted",{row:e}):i._fireEvent("filter-row-declined",{row:e}),o})):this.items,this._fireEvent("search",{search:i.searchString,items:e}),this.filteredItems=e,e},_draw:function(i){var a,o,r,s,l,u,c,h,d,f=this,p=this.element,m=this.options,v=p.find("tbody"),g=-1===parseInt(m.rows)?0:m.rows*(this.currentPage-1),y=-1===parseInt(m.rows)?this.items.length-1:g+m.rows-1,b=[],w=e.storage.getItem(m.checkStoreKey.replace("$1",p.attr("id"))),C=m.staticView?this.viewDefault:this.view;if(v.html(""),this.heads.length){if(d=this._filter(),this.currentSlice=d.slice(g,y+1),b=[],d.length>0){for(a=g;a<=y;a++)if(u=d[a],c=[],n.isValue(u)){for((r=t("<tr>").addClass(m.clsBodyRow)).data("original",u),h=a%2==0,s=t("<td>").html(a+1),void 0!==f.service[0].clsColumn&&s.addClass(f.service[0].clsColumn),s.appendTo(r),s=t("<td>"),l="checkbox"===m.checkType?t("<input type='checkbox' data-style='"+m.checkStyle+"' data-role='checkbox' name='"+(n.isValue(m.checkName)?m.checkName:"table_row_check")+"[]' value='"+d[a][m.checkColIndex]+"'>"):t("<input type='radio' data-style='"+m.checkStyle+"' data-role='radio' name='"+(n.isValue(m.checkName)?m.checkName:"table_row_check")+"' value='"+d[a][m.checkColIndex]+"'>"),n.isValue(w)&&Array.isArray(w)&&w.indexOf(""+d[a][m.checkColIndex])>-1&&(l.prop("checked",!0),b.push(u)),l.addClass("table-service-check"),this._fireEvent("check-draw",{check:l}),l.appendTo(s),void 0!==f.service[1].clsColumn&&s.addClass(f.service[1].clsColumn),s.appendTo(r),o=0;o<u.length;o++)c[o]=null;for(t.each(u,(function(e){var i=this,a=t("<td>");n.isValue(f.heads[e].template)&&(i=f.heads[e].template.replace(/%VAL%/g,i)),a.html(i),a.addClass(m.clsBodyCell),n.isValue(f.heads[e].clsColumn)&&a.addClass(f.heads[e].clsColumn),!1===n.bool(C[e].show)&&a.addClass("hidden"),n.bool(C[e].show)&&a.removeClass("hidden"),a.data("original",this),c[C[e]["index-view"]]=a,f._fireEvent("draw-cell",{td:a,val:i,cellIndex:e,head:f.heads[e],items:u}),!0===m.cellWrapper&&(i=t("<div>").addClass("data-wrapper").addClass(m.clsCellWrapper).html(a.html()),a.html("").append(i))})),o=0;o<u.length;o++)c[o].appendTo(r),f._fireEvent("append-cell",{td:c[o],tr:r,index:o});f._fireEvent("draw-row",{tr:r,view:f.view,heads:f.heads,items:u}),r.addClass(m.clsRow).addClass(h?m.clsEvenRow:m.clsOddRow).appendTo(v),f._fireEvent("append-row",{tr:r})}t(this.component).find(".table-service-check-all input").prop("checked",b.length)}else o=0,t.each(C,(function(){this.show&&o++})),!0===m.check&&o++,!0===m.rownum&&o++,r=t("<tr>").addClass(m.clsBodyRow).appendTo(v),(s=t("<td>").attr("colspan",o).addClass("text-center").html(t("<span>").addClass(m.clsEmptyTableTitle).html(m.emptyTableTitle||f.locale.table.empty))).appendTo(r);this._info(g+1,y+1,d.length),this._paging(d.length),this.activity&&this.activity.hide(),this._fireEvent("draw"),void 0!==i&&n.exec(i,null,p[0])}else console.warn("Heads is not defined for table ID "+p.attr("id"))},_getItemContent:function(e){var t,i=this.options,a=e[this.sort.colIndex],o=this.heads[this.sort.colIndex].format,r=n.isNull(this.heads)||n.isNull(this.heads[this.sort.colIndex])||!n.isValue(this.heads[this.sort.colIndex].formatMask)?"%Y-%m-%d":this.heads[this.sort.colIndex].formatMask,s=this.heads&&this.heads[this.sort.colIndex]&&this.heads[this.sort.colIndex].thousandSeparator?this.heads[this.sort.colIndex].thousandSeparator:i.thousandSeparator,l=this.heads&&this.heads[this.sort.colIndex]&&this.heads[this.sort.colIndex].decimalSeparator?this.heads[this.sort.colIndex].decimalSeparator:i.decimalSeparator;if(t=(""+a).toLowerCase().replace(/[\n\r]+|[\s]{2,}/g," ").trim(),n.isValue(t)&&n.isValue(o))switch(-1!==["number","int","float","money"].indexOf(o)&&(t=n.parseNumber(t,s,l)),o){case"date":t=r?Datetime.from(t,r,i.locale):datetime(t);break;case"number":t=+t;break;case"int":t=parseInt(t);break;case"float":t=parseFloat(t);break;case"money":t=n.parseMoney(t);break;case"card":t=n.parseCard(t);break;case"phone":t=n.parsePhone(t)}return t},addItem:function(e,t){if(!Array.isArray(e))return console.warn("Item is not an array and can't be added"),this;this.items.push(e),!1!==t&&this.draw()},addItems:function(e,t){if(!Array.isArray(e))return console.warn("Items is not an array and can't be added"),this;e.forEach((function(e){Array.isArray(e)&&this.items.push(e,!1)})),this.draw(),!1!==t&&this.draw()},updateItem:function(e,t,i){var a=this.items[this.index[e]],o=null;return n.isNull(a)?(console.warn("Item is undefined for update"),this):(isNaN(t)&&this.heads.forEach((function(e,n){e.name===t&&(o=n)})),n.isNull(o)?(console.warn("Item is undefined for update. Field "+t+" not found in data structure"),this):(a[o]=i,this.items[this.index[e]]=a,this))},getItem:function(e){return this.items[this.index[e]]},deleteItem:function(e,t){var i,a=[],o=n.isFunc(t);for(i=0;i<this.items.length;i++)o?n.exec(t,[this.items[i][e]])&&a.push(i):this.items[i][e]===t&&a.push(i);return this.items=n.arrayDeleteByMultipleKeys(this.items,a),this},deleteItemByName:function(e,t){var i,a,o=[],r=n.isFunc(t);for(i=0;i<this.heads.length;i++)if(this.heads[i].name===e){a=i;break}for(i=0;i<this.items.length;i++)r?n.exec(t,[this.items[i][a]])&&o.push(i):this.items[i][a]===t&&o.push(i);return this.items=n.arrayDeleteByMultipleKeys(this.items,o),this},draw:function(){return this._draw(),this},sorting:function(e){var t=this;return n.isValue(e)&&(this.sort.dir=e),this._fireEvent("sort-start",{items:this.items}),this.items.sort((function(e,n){var i=t._getItemContent(e),a=t._getItemContent(n),o=0;return i<a&&(o="asc"===t.sort.dir?-1:1),i>a&&(o="asc"===t.sort.dir?1:-1),0!==o&&t._fireEvent("sort-item-switch",{a:e,b:n,result:o}),o})),this._fireEvent("sort-stop",{items:this.items}),this},search:function(e){return this.searchString=e.trim().toLowerCase(),this.currentPage=1,this._draw(),this},_rebuild:function(e){var n,i=this,a=this.element,o=!1;this._createIndex(),!0===e&&(this.view=this._createView()),this._createTableHeader(),this._createTableBody(),this._createTableFooter(),this.heads.length>0&&t.each(this.heads,(function(e){!o&&["asc","desc"].indexOf(this.sortDir)>-1&&(o=!0,i.sort.colIndex=e,i.sort.dir=this.sortDir)})),o&&(n=a.find(".sortable-column"),this._resetSortClass(n),t(n.get(i.sort.colIndex)).addClass("sort-"+i.sort.dir),this.sorting()),i.currentPage=1,i._draw()},setHeads:function(e){return this.heads=e,this},setHeadItem:function(e,t){var n,i;for(n=0;n<this.heads.length;n++)if(this.heads[n].name===e){i=n;break}return this.heads[i]=t,this},setItems:function(e){return this.items=e,this},setData:function(e){var t=this,n=this.options;return this.activity.show((function(){t.items=[],t.heads=[],t.foots=[],Array.isArray(n.head)&&(t.heads=n.head),Array.isArray(n.body)&&(t.items=n.body),t._createItemsFromJSON(e),t._rebuild(!0),t.activity.hide()})),this},loadData:function(t,i){var a=this,o=this.element,r=this.options;n.isValue(i)||(i=!0),o.html(""),n.isValue(t)?(r.source=t,this._fireEvent("data-load",{source:r.source}),a.activity.show((function(){fetch(r.source).then(e.fetch.status).then(e.fetch.json).then((function(e){a.activity.hide(),a.items=[],a.heads=[],a.foots=[],a._fireEvent("data-loaded",{source:r.source,data:e}),Array.isArray(r.head)&&(a.heads=r.head),Array.isArray(r.body)&&(a.items=r.body),a._createItemsFromJSON(e),a._rebuild(i),a._resetInspector(),a._fireEvent("data-load-end",{source:r.source,data:e})})).catch((function(e){a.activity.hide(),a._fireEvent("data-load-error",{source:r.source,error:e})}))}))):this._rebuild(i)},reload:function(e){this.loadData(this.options.source,e)},clear:function(){return this.items=[],this.draw()},next:function(){if(0!==this.items.length){if(this.currentPage++,!(this.currentPage>this.pagesCount))return this._draw(),this;this.currentPage=this.pagesCount}},prev:function(){if(0!==this.items.length){if(this.currentPage--,0!==this.currentPage)return this._draw(),this;this.currentPage=1}},first:function(){if(0!==this.items.length)return this.currentPage=1,this._draw(),this},last:function(){if(0!==this.items.length)return this.currentPage=this.pagesCount,this._draw(),this},page:function(e){return e<=0&&(e=1),e>this.pagesCount&&(e=this.pagesCount),this.currentPage=e,this._draw(),this},addFilter:function(e,t){var i,a=null,o=n.isFunc(e);if(!1!==o){for(i=0;i<this.filters.length;i++)if(n.isNull(this.filters[i])){a=i,this.filters[i]=o;break}return n.isNull(a)&&(this.filters.push(o),a=this.filters.length-1),!0===t&&(this.currentPage=1,this.draw()),a}},removeFilter:function(e,t){return this.filters[e]=null,!0===t&&(this.currentPage=1,this.draw()),this},removeFilters:function(e){return this.filters=[],!0===e&&(this.currentPage=1,this.draw()),this},getItems:function(){return this.items},getHeads:function(){return this.heads},getView:function(){return this.view},getFilteredItems:function(){return this.filteredItems.length>0?this.filteredItems:this.items},getSelectedItems:function(){var i=this.element,a=this.options,o=e.storage.getItem(a.checkStoreKey.replace("$1",i.attr("id"))),r=[];return n.isValue(o)?(t.each(this.items,(function(){-1!==o.indexOf(""+this[a.checkColIndex])&&r.push(this)})),r):[]},getStoredKeys:function(){var t=this.element,n=this.options;return e.storage.getItem(n.checkStoreKey.replace("$1",t.attr("id")),[])},clearSelected:function(t){var n=this.element,i=this.options;e.storage.setItem(i.checkStoreKey.replace("$1",n.attr("id")),[]),n.find("table-service-check-all input").prop("checked",!1),!0===t&&this._draw()},getFilters:function(){return this.filters},getFiltersIndexes:function(){return this.filtersIndexes},openInspector:function(e){var n=this.inspector;e?n.show(0,(function(){n.css({top:(t(window).height()-n.outerHeight(!0))/2+pageYOffset,left:(t(window).width()-n.outerWidth(!0))/2+pageXOffset}).data("open",!0)})):n.hide().data("open",!1)},closeInspector:function(){this.openInspector(!1)},toggleInspector:function(){this.openInspector(!this.inspector.data("open"))},resetView:function(){this.view=this._createView(),this._createTableHeader(),this._createTableFooter(),this._draw(),this._resetInspector(),this._saveTableView()},rebuildIndex:function(){this._createIndex()},getIndex:function(){return this.index},export:function(i,a,o,r){var s,l,u,c,h,d,f,p,m=e.export,v=this,g=this.options,y=document.createElement("table"),b=t("<thead>").appendTo(y),w=t("<tbody>").appendTo(y),C=[];if("function"==typeof m.tableToCSV){for(a=n.isValue(a)?a.toLowerCase():"all-filtered",o=n.isValue(o)?o:n.elementId("table")+"-export.csv",h=t("<tr>"),u=this.heads,l=0;l<u.length;l++)C[l]=null;for(t.each(u,(function(e){!1!==n.bool(v.view[e].show)&&(d=t("<th>"),n.isValue(this.title)&&d.html(this.title),C[v.view[e]["index-view"]]=d)})),l=0;l<u.length;l++)n.isValue(C[l])&&C[l].appendTo(h);for(h.appendTo(b),"checked"===a?(f=0,p=(c=this.getSelectedItems()).length-1):"view"===a?(c=this._filter(),f=-1===parseInt(g.rows)?0:g.rows*(this.currentPage-1),p=-1===parseInt(g.rows)?c.length-1:f+g.rows-1):"all"===a?(f=0,p=(c=this.items).length-1):(f=0,p=(c=this._filter()).length-1),s=f;s<=p;s++)if(n.isValue(c[s])){for(h=t("<tr>"),u=c[s],l=0;l<u.length;l++)C[l]=null;for(t.each(u,(function(e){!1!==n.bool(v.view[e].show)&&(d=t("<td>").html(this),C[v.view[e]["index-view"]]=d)})),l=0;l<u.length;l++)n.isValue(C[l])&&C[l].appendTo(h);h.appendTo(w)}m.tableToCSV(y,o,r),y.remove()}},changeAttribute:function(e){var t=this,i=this.element,a=this.options;switch(e){case"data-check":a.check=n.bool(i.attr("data-check")),t._service(),t._createTableHeader(),t._draw();break;case"data-rownum":a.rownum=n.bool(i.attr("data-rownum")),t._service(),t._createTableHeader(),t._draw()}},destroy:function(){var i=this.element,a=i.closest(".table-component"),o=a.find("input"),r=a.find("select");if(o.data("input").destroy(),r.data("select").destroy(),t(window).off(e.events.resize,{ns:this.id}),i.off(e.events.click,".sortable-column"),i.off(e.events.click,".table-service-check input"),i.off(e.events.click,".table-service-check-all input"),o.off(e.events.inputchange),n.isValue(this.wrapperSearch)){var s=this.wrapperSearch.find("input");s.length>0&&s.off(e.events.inputchange)}return a.off(e.events.click,".pagination .page-link"),n.isValue(this.wrapperPagination)&&this.wrapperPagination.off(e.events.click,".pagination .page-link"),i.off(e.events.click,".js-table-crud-button"),this._removeInspectorEvents(),i}})}(Metro,m4q),function(e,t){var n=e.utils,i={dialogDeferred:0,closeButton:!1,leaveOverlayOnClose:!1,toTop:!1,toBottom:!1,locale:METRO_LOCALE,title:"",content:"",actions:{},actionsAlign:"right",defaultAction:!0,overlay:!0,overlayColor:"#000000",overlayAlpha:.5,overlayClickClose:!1,width:"480",height:"auto",shadow:!0,closeAction:!0,clsDialog:"",clsTitle:"",clsContent:"",clsAction:"",clsDefaultAction:"",clsOverlay:"",autoHide:0,removeOnClose:!1,show:!1,_runtime:!1,onShow:e.noop,onHide:e.noop,onOpen:e.noop,onClose:e.noop,onDialogCreate:e.noop};e.dialogSetup=function(e){i=t.extend({},i,e)},void 0!==typeof window.metroDialogSetup&&e.dialogSetup(window.metroDialogSetup),e.Component("dialog",{_counter:0,init:function(e,t){return this._super(t,e,i,{interval:null,overlay:null,id:n.elementId("dialog")}),this},_create:function(){var t=this.options;this.locale=void 0!==e.locales[t.locale]?e.locales[t.locale]:e.locales["en-US"],this._build()},_build:function(){var i,a=this,o=this.element,r=this.options,s=t("body");if(o.addClass("dialog"),!0===r.shadow&&o.addClass("shadow-on"),""!==r.title&&this.setTitle(r.title),""!==r.content&&this.setContent(r.content),!0===r.defaultAction||!1!==r.actions&&"object"==typeof r.actions&&n.objectLength(r.actions)>0){var l,u=o.find(".dialog-actions");0===u.length&&(u=t("<div>").addClass("dialog-actions").addClass("text-"+r.actionsAlign).appendTo(o)),!0===r.defaultAction&&0===n.objectLength(r.actions)&&0===o.find(".dialog-actions > *").length&&(l=t("<button>").addClass("button js-dialog-close").addClass(r.clsDefaultAction).html(this.locale.buttons.ok)).appendTo(u),n.isObject(r.actions)&&t.each(n.isObject(r.actions),(function(){var i=this;l=t("<button>").addClass("button").addClass(i.cls).html(i.caption),void 0!==i.onclick&&l.on(e.events.click,(function(){n.exec(i.onclick,[o])})),l.appendTo(u)}))}!0===r.overlay&&(i=this._overlay(),this.overlay=i),!0===r.closeAction&&o.on(e.events.click,".js-dialog-close",(function(){a.close()}));var c=o.find("closer");0===c.length&&(c=t("<span>").addClass("button square closer js-dialog-close")).appendTo(o),!0!==r.closeButton&&c.hide(),o.css({width:r.width,height:r.height,visibility:"hidden",top:"100%",left:(t(window).width()-o.outerWidth())/2}),o.addClass(r.clsDialog),o.find(".dialog-title").addClass(r.clsTitle),o.find(".dialog-content").addClass(r.clsContent),o.find(".dialog-actions").addClass(r.clsAction),o.appendTo(s),r.show&&this.open(),t(window).on(e.events.resize,(function(){a.setPosition()}),{ns:this.id}),this._fireEvent("dialog-create",{element:o})},_overlay:function(){var n=this.options,i=t("<div>");return i.addClass("overlay").addClass(n.clsOverlay),"transparent"===n.overlayColor?i.addClass("transparent"):i.css({background:e.colors.toRGBA(n.overlayColor,n.overlayAlpha)}),i},hide:function(t){var i=this.element,a=0;this.options.onHide!==e.noop&&(a=500,this._fireEvent("hide")),setTimeout((function(){n.exec(t,null,i[0]),i.css({visibility:"hidden",top:"100%"})}),a)},show:function(e){var t=this.element;this.setPosition(),t.css({visibility:"visible"}),this._fireEvent("show"),n.exec(e,null,t[0])},setPosition:function(){var e,n,i=this.element,a=this.options;!0!==a.toTop&&!0!==a.toBottom?((e=(t(window).height()-i.outerHeight())/2)<0&&(e=0),n="auto"):(!0===a.toTop&&(e=0,n="auto"),!0!==a.toTop&&!0===a.toBottom&&(n=0,e="auto")),i.css({top:e,bottom:n,left:(t(window).width()-i.outerWidth())/2})},setContent:function(e){var i=this.element,a=i.find(".dialog-content");0===a.length&&(a=t("<div>").addClass("dialog-content")).appendTo(i),!n.isQ(e)&&n.isFunc(e)&&(e=n.exec(e)),n.isQ(e)?e.appendTo(a):a.html(e)},setTitle:function(e){var n=this.element,i=n.find(".dialog-title");0===i.length&&(i=t("<div>").addClass("dialog-title")).appendTo(n),i.html(e)},close:function(){var e=this,i=this.element,a=this.options;n.bool(a.leaveOverlayOnClose)||t("body").find(".overlay").remove(),this.hide((function(){i.data("open",!1),e._fireEvent("close"),!0===a.removeOnClose&&i.remove()}))},open:function(){var n=this,i=this.element,a=this.options;!0===a.overlay&&0===t(".overlay").length&&(this.overlay.appendTo(t("body")),!0===a.overlayClickClose&&this.overlay.on(e.events.click,(function(){n.close()}))),this.show((function(){n._fireEvent("open"),i.data("open",!0),parseInt(a.autoHide)>0&&setTimeout((function(){n.close()}),parseInt(a.autoHide))}))},toggle:function(){this.element.data("open")?this.close():this.open()},isOpen:function(){return!0===this.element.data("open")},changeAttribute:function(e){},destroy:function(){var n=this.element;return n.off(e.events.click,".js-dialog-close"),n.find(".button").off(e.events.click),t(window).off(e.events.resize,{ns:this.id}),n}}),e.dialog={isDialog:function(e){return n.isMetroObject(e,"dialog")},open:function(t,n,i){if(!this.isDialog(t))return!1;var a=e.getPlugin(t,"dialog");void 0!==i&&a.setTitle(i),void 0!==n&&a.setContent(n),a.open()},close:function(n){if(!this.isDialog(n))return!1;e.getPlugin(t(n)[0],"dialog").close()},toggle:function(n){if(!this.isDialog(n))return!1;e.getPlugin(t(n)[0],"dialog").toggle()},isOpen:function(n){if(!this.isDialog(n))return!1;e.getPlugin(t(n)[0],"dialog").isOpen()},remove:function(n){if(!this.isDialog(n))return!1;var i=e.getPlugin(t(n)[0],"dialog");i.options.removeOnClose=!0,i.close()},create:function(n){var i;i=t("<div>").appendTo(t("body"));var a=t.extend({},{show:!0,closeAction:!0,removeOnClose:!0},void 0!==n?n:{});return a._runtime=!0,e.makePlugin(i,"dialog",a)}}}(Metro,m4q),function(e,t){var n=e.utils,i={inputDeferred:0,label:"",autocomplete:null,autocompleteUrl:null,autocompleteUrlMethod:"GET",autocompleteUrlKey:null,autocompleteDivider:",",autocompleteListHeight:200,history:!1,historyPreset:"",historyDivider:"|",preventSubmit:!1,defaultValue:"",size:"default",prepend:"",append:"",copyInlineStyles:!1,searchButton:!1,clearButton:!0,revealButton:!0,clearButtonIcon:"<span class='default-icon-cross'></span>",revealButtonIcon:"<span class='default-icon-eye'></span>",searchButtonIcon:"<span class='default-icon-search'></span>",customButtons:[],searchButtonClick:"submit",clsComponent:"",clsInput:"",clsPrepend:"",clsAppend:"",clsClearButton:"",clsRevealButton:"",clsCustomButton:"",clsSearchButton:"",clsLabel:"",onAutocompleteSelect:e.noop,onHistoryChange:e.noop,onHistoryUp:e.noop,onHistoryDown:e.noop,onClearClick:e.noop,onRevealClick:e.noop,onSearchButtonClick:e.noop,onEnterClick:e.noop,onInputCreate:e.noop};e.inputSetup=function(e){i=t.extend({},i,e)},void 0!==typeof window.metroInputSetup&&e.inputSetup(window.metroInputSetup),e.Component("input",{init:function(e,t){return this._super(t,e,i,{history:[],historyIndex:-1,autocomplete:[]}),this},_create:function(){var e=this.element;this._createStructure(),this._createEvents(),this._fireEvent("input-create",{element:e})},_createStructure:function(){var e=this,i=this.element,a=this.options,o=t("<div>").addClass("input "+i[0].className),r=t("<div>").addClass("button-group");(n.isValue(a.historyPreset)&&(t.each(a.historyPreset.toArray(a.historyDivider),(function(){e.history.push(this)})),e.historyIndex=e.history.length-1),void 0===i.attr("type")&&i.attr("type","text"),o.insertBefore(i),i.appendTo(o),r.appendTo(o),n.isValue(i.val().trim())||i.val(a.defaultValue),!0!==a.clearButton||i[0].readOnly||t("<button>").addClass("button input-clear-button").addClass(a.clsClearButton).attr("tabindex",-1).attr("type","button").html(a.clearButtonIcon).appendTo(r),"password"===i.attr("type")&&!0===a.revealButton&&t("<button>").addClass("button input-reveal-button").addClass(a.clsRevealButton).attr("tabindex",-1).attr("type","button").html(a.revealButtonIcon).appendTo(r),!0===a.searchButton&&t("<button>").addClass("button input-search-button").addClass(a.clsSearchButton).attr("tabindex",-1).attr("type","submit"===a.searchButtonClick?"submit":"button").html(a.searchButtonIcon).appendTo(r),n.isValue(a.prepend))&&t("<div>").html(a.prepend).addClass("prepend").addClass(a.clsPrepend).appendTo(o);n.isValue(a.append)&&t("<div>").html(a.append).addClass("append").addClass(a.clsAppend).appendTo(o);if("string"==typeof a.customButtons&&(a.customButtons=n.isObject(a.customButtons)),"object"==typeof a.customButtons&&n.objectLength(a.customButtons)>0&&t.each(a.customButtons,(function(){var e=this,n=t("<button>");n.addClass("button input-custom-button").addClass(a.clsCustomButton).addClass(e.cls).attr("tabindex",-1).attr("type","button").html(e.html),e.attr&&"object"==typeof e.attr&&t.each(e.attr,(function(e,t){n.attr(Cake.dashedName(e),t)})),n.data("action",e.onclick),n.appendTo(r)})),n.isValue(i.attr("data-exclaim"))&&o.attr("data-exclaim",i.attr("data-exclaim")),"rtl"===i.attr("dir")&&o.addClass("rtl").attr("dir","rtl"),i[0].className="",!0===a.copyInlineStyles)for(var s=0,l=i[0].style.length;s<l;s++)o.css(i[0].style[s],i.css(i[0].style[s]));if(o.addClass(a.clsComponent),i.addClass(a.clsInput),"default"!==a.size&&o.css({width:a.size}),n.isNull(a.autocomplete)&&n.isNull(a.autocompleteUrl)||t("<div>").addClass("autocomplete-list").css({maxHeight:a.autocompleteListHeight,display:"none"}).appendTo(o),n.isValue(a.autocomplete)){var u=n.isObject(a.autocomplete);this.autocomplete=!1!==u?u:a.autocomplete.toArray(a.autocompleteDivider)}if(n.isValue(a.autocompleteUrl)&&fetch(a.autocompleteUrl,{method:a.autocompleteUrlMethod}).then((function(e){return e.text()})).then((function(t){var n=[];try{n=JSON.parse(t),a.autocompleteUrlKey&&(n=n[a.autocompleteUrlKey])}catch(e){n=t.split("\n")}e.autocomplete=e.autocomplete.concat(n)})),a.label){var c=t("<label>").addClass("label-for-input").addClass(a.clsLabel).html(a.label).insertBefore(o);i.attr("id")&&c.attr("for",i.attr("id")),"rtl"===i.attr("dir")&&c.addClass("rtl")}i.is(":disabled")?this.disable():this.enable()},_createEvents:function(){var i=this,a=this.element,o=this.options,r=a.closest(".input"),s=r.find(".autocomplete-list");r.on(e.events.click,".input-clear-button",(function(){var e=a.val();a.val(n.isValue(o.defaultValue)?o.defaultValue:"").fire("clear").fire("change").fire("keyup").focus(),s.length>0&&s.css({display:"none"}),i._fireEvent("clear-click",{prev:e,val:a.val()})})),r.on(e.events.click,".input-reveal-button",(function(){"password"===a.attr("type")?a.attr("type","text"):a.attr("type","password"),i._fireEvent("reveal-click",{val:a.val()})})),r.on(e.events.click,".input-search-button",(function(){"submit"!==o.searchButtonClick?i._fireEvent("search-button-click",{val:a.val(),button:this}):this.form.submit()})),r.on(e.events.click,".input-custom-button",(function(){var e=t(this),i=e.data("action");n.exec(i,[a.val(),e],this)})),a.on(e.events.keyup,(function(t){var n=a.val().trim();o.history&&t.keyCode===e.keyCode.ENTER&&""!==n&&(a.val(""),i.history.push(n),i.historyIndex=i.history.length-1,i._fireEvent("history-change",{val:n,history:i.history,historyIndex:i.historyIndex}),!0===o.preventSubmit&&t.preventDefault()),o.history&&t.keyCode===e.keyCode.UP_ARROW&&(i.historyIndex--,i.historyIndex>=0?(a.val(""),a.val(i.history[i.historyIndex]),i._fireEvent("history-down",{val:a.val(),history:i.history,historyIndex:i.historyIndex})):i.historyIndex=0,t.preventDefault()),o.history&&t.keyCode===e.keyCode.DOWN_ARROW&&(i.historyIndex++,i.historyIndex<i.history.length?(a.val(""),a.val(i.history[i.historyIndex]),i._fireEvent("history-up",{val:a.val(),history:i.history,historyIndex:i.historyIndex})):i.historyIndex=i.history.length-1,t.preventDefault())})),a.on(e.events.keydown,(function(t){t.keyCode===e.keyCode.ENTER&&i._fireEvent("enter-click",{val:a.val()})})),a.on(e.events.blur,(function(){r.removeClass("focused")})),a.on(e.events.focus,(function(){r.addClass("focused")})),a.on(e.events.input,(function(){var e=this.value.toLowerCase();i._drawAutocompleteList(e)})),r.on(e.events.click,".autocomplete-list .item",(function(){var e=t(this).attr("data-autocomplete-value");a.val(e),s.css({display:"none"}),a.trigger("change"),i._fireEvent("autocomplete-select",{value:e})}))},_drawAutocompleteList:function(e){var n,i=this,a=this.element.closest(".input").find(".autocomplete-list");0!==a.length&&(a.html(""),n=this.autocomplete.filter((function(t){return t.toLowerCase().indexOf(e)>-1})),a.css({display:n.length>0?"block":"none"}),t.each(n,(function(){var n,o=this,r=o.toLowerCase().indexOf(e),s=t("<div>").addClass("item").attr("data-autocomplete-value",o);n=0===r?"<strong>"+o.substr(0,e.length)+"</strong>"+o.substr(e.length):o.substr(0,r)+"<strong>"+o.substr(r,e.length)+"</strong>"+o.substr(r+e.length),s.html(n).appendTo(a),i._fireEvent("draw-autocomplete-item",{item:s})})))},getHistory:function(){return this.history},getHistoryIndex:function(){return this.historyIndex},setHistoryIndex:function(e){this.historyIndex=e>=this.history.length?this.history.length-1:e},setHistory:function(e,i){var a=this,o=this.options;n.isNull(e)||(Array.isArray(e)||"string"!=typeof e||(e=e.toArray(o.historyDivider)),!0===i?t.each(e,(function(){a.history.push(this)})):this.history=e,this.historyIndex=this.history.length-1)},clear:function(){this.element.val("")},toDefault:function(){this.element.val(n.isValue(this.options.defaultValue)?this.options.defaultValue:"")},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},setAutocompleteList:function(e){var t=n.isObject(e);!1!==t?this.autocomplete=t:"string"==typeof e&&(this.autocomplete=e.toArray(this.options.autocompleteDivider))},changeAttribute:function(e){if("disabled"===e)this.toggleState()},destroy:function(){var t=this.element,n=t.parent(),i=n.find(".input-clear-button"),a=n.find(".input-reveal-button"),o=n.find(".input-custom-button");return i.length>0&&i.off(e.events.click),a.length>0&&(a.off(e.events.start),a.off(e.events.stop)),o.length>0&&i.off(e.events.click),t.off(e.events.blur),t.off(e.events.focus),t}}),t(document).on(e.events.click,(function(){t(".input .autocomplete-list").hide()}))}(Metro,m4q),function(e,t){var n=e.utils,i={checkboxDeferred:0,transition:!0,style:1,caption:"",captionPosition:"right",indeterminate:!1,clsCheckbox:"",clsCheck:"",clsCaption:"",onCheckboxCreate:e.noop};e.checkboxSetup=function(e){i=t.extend({},i,e)},void 0!==typeof window.metroCheckboxSetup&&e.checkboxSetup(window.metroCheckboxSetup),e.Component("checkbox",{init:function(e,t){return this._super(t,e,i,{origin:{className:""}}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("checkbox-create")},_createStructure:function(){var e,n=this.element,i=this.options,a=t("<span>").addClass("check"),o=t("<span>").addClass("caption").html(i.caption);n.attr("type","checkbox"),void 0!==n.attr("readonly")&&n.on("click",(function(e){e.preventDefault()})),e=n.wrap("<label>").addClass("checkbox "+n[0].className).addClass(2===i.style?"style2":""),a.appendTo(e),o.appendTo(e),!0===i.transition&&e.addClass("transition-on"),"left"===i.captionPosition&&e.addClass("caption-left"),this.origin.className=n[0].className,n[0].className="",e.addClass(i.clsCheckbox),o.addClass(i.clsCaption),a.addClass(i.clsCheck),i.indeterminate&&(n[0].indeterminate=!0),n.is(":disabled")?this.disable():this.enable()},_createEvents:function(){var e=this.element,t=e.siblings(".check");e.on("focus",(function(){t.addClass("focused")})),e.on("blur",(function(){t.removeClass("focused")}))},indeterminate:function(e){var t=this.element;e=!!n.isNull(e)||n.bool(e),t[0].indeterminate=e,t.attr("data-indeterminate",e)},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},toggle:function(e){var t=this.element;return this.indeterminate(!1),n.isValue(e)?-1===e?this.indeterminate(!0):t.prop("checked",1===e):t.prop("checked",!n.bool(t.prop("checked"))),this},changeAttribute:function(e){var t,i=this.element,a=this.options,o=i.parent();switch(e){case"disabled":this.toggleState();break;case"data-indeterminate":i[0].indeterminate=!0===JSON.parse(i.attr("data-indeterminate"));break;case"data-style":t=parseInt(i.attr("data-style")),n.isInt(t)&&(a.style=t,o.removeClass("style1 style2").addClass("style"+t))}},destroy:function(){var e=this.element;return e.off("focus"),e.off("blur"),e}})}(Metro,m4q),function(e,t){var n=e.utils,i={checkboxDeferred:0,state:-1,transition:!0,style:1,caption:"",captionPosition:"right",clsCheckbox:"",clsCheck:"",clsCaption:"",onCheckboxCreate:e.noop};e.metroCheckboxThreeStateSetup=function(e){i=t.extend({},i,e)},void 0!==typeof window.metroCheckboxThreeStateSetup&&e.metroCheckboxThreeStateSetup(window.metroCheckboxThreeStateSetup),e.Component("checkbox-three-state",{init:function(e,t){return this._super(t,e,i,{origin:{className:""},state:-1}),this},_create:function(){var e=this.options;this.elem.checked&&(e.state=1),this.elem.checked=!1,-1===e.state||"unchecked"===e.state?this.state=-1:0===e.state||"indeterminate"===e.state?this.state=0:this.state=1,this._createStructure(),this._createEvents(),this._fireEvent("checkbox-create")},_indeterminate:function(e){var t=this.element;e=!!n.isNull(e)||n.bool(e),t[0].indeterminate=e,t.attr("data-indeterminate",e)},_createStructure:function(){var e,n=this.element,i=this.options,a=t("<span>").addClass("check"),o=t("<span>").addClass("caption").html(i.caption);n.attr("type","checkbox"),void 0!==n.attr("readonly")&&n.on("click",(function(e){e.preventDefault()})),e=n.wrap("<label>").addClass("checkbox "+n[0].className).addClass(2===i.style?"style2":""),a.appendTo(e),o.appendTo(e),!0===i.transition&&e.addClass("transition-on"),"left"===i.captionPosition&&e.addClass("caption-left"),this.origin.className=n[0].className,n[0].className="",e.addClass(i.clsCheckbox),o.addClass(i.clsCaption),a.addClass(i.clsCheck),this._drawState(),n.is(":disabled")?this.disable():this.enable()},_drawState:function(){var e=this.element;e[0].checked=!1,this._indeterminate(!1),0===this.state?(e[0].checked=!0,this._indeterminate(!0)):1===this.state&&(e[0].checked=!0)},_createEvents:function(){var e=this.element,t=e.siblings(".check"),n=this;e.on("click",(function(){n.state++,2===n.state&&(n.state=-1),n._drawState()})),e.on("focus",(function(){t.addClass("focused")})),e.on("blur",(function(){t.removeClass("focused")}))},check:function(){this.setCheckState(1)},uncheck:function(){this.setCheckState(-1)},indeterminate:function(){this.setCheckState(0)},setCheckState:function(e){return this.state=-1===e||"unchecked"===e?-1:0===e||"indeterminate"===e?0:1,this._drawState(),this},getCheckState:function(e){if(!e)return this.state;switch(this.state){case-1:return"unchecked";case 0:return"indeterminate";case 1:return"checked"}},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggle:function(){this.state++,2===this.state&&(this.state=-1),this._drawState()},changeAttribute:function(e,t){var i,a=this.element,o=this.options,r=a.parent();switch(e){case"disabled":!function(){this.elem.disabled?this.disable():this.enable()}();break;case"data-style":i=parseInt(a.attr("data-style")),n.isInt(i)&&(o.style=i,r.removeClass("style1 style2").addClass("style"+i));break;case"data-state":!function(e){this.toggle(e)}(t)}},destroy:function(){var e=this.element;return e.off("focus"),e.off("blur"),e}})}(Metro,m4q),function(e,t){var n=e.utils,i={radioDeferred:0,transition:!0,style:1,caption:"",captionPosition:"right",clsRadio:"",clsCheck:"",clsCaption:"",onRadioCreate:e.noop};e.radioSetup=function(e){i=t.extend({},i,e)},void 0!==typeof window.metroRadioSetup&&e.radioSetup(window.metroRadioSetup),e.Component("radio",{init:function(e,t){return this._super(t,e,i,{origin:{className:""}}),this},_create:function(){var e=this.element;this._createStructure(),this._createEvents(),this._fireEvent("radio-create",{element:e})},_createStructure:function(){var e=this.element,n=this.options,i=t("<label>").addClass("radio "+e[0].className).addClass(2===n.style?"style2":""),a=t("<span>").addClass("check"),o=t("<span>").addClass("caption").html(n.caption);e.attr("type","radio"),i.insertBefore(e),e.appendTo(i),a.appendTo(i),o.appendTo(i),!0===n.transition&&i.addClass("transition-on"),"left"===n.captionPosition&&i.addClass("caption-left"),this.origin.className=e[0].className,e[0].className="",i.addClass(n.clsRadio),o.addClass(n.clsCaption),a.addClass(n.clsCheck),e.is(":disabled")?this.disable():this.enable()},_createEvents:function(){var e=this.element,t=e.siblings(".check");e.on("focus",(function(){t.addClass("focused")})),e.on("blur",(function(){t.removeClass("focused")}))},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},changeAttribute:function(e){var t,i=this.element,a=this.options,o=i.parent();switch(e){case"disabled":this.toggleState();break;case"data-style":t=parseInt(i.attr("data-style")),n.isInt(t)&&(a.style=t,o.removeClass("style1 style2").addClass("style"+t))}},destroy:function(){return this.element}})}(Metro,m4q),function(e,t){var n=e.utils,i={label:"",size:"normal",selectDeferred:0,clearButton:!1,clearButtonIcon:"<span class='default-icon-cross'></span>",usePlaceholder:!1,placeholder:"",addEmptyValue:!1,emptyValue:"",duration:0,prepend:"",append:"",filterPlaceholder:"Search...",filter:!0,copyInlineStyles:!1,dropHeight:200,dropWidth:null,dropFullSize:!1,checkDropUp:!0,dropUp:!1,showGroupName:!1,shortTag:!0,clsSelect:"",clsSelectInput:"",clsPrepend:"",clsAppend:"",clsOption:"",clsOptionActive:"",clsOptionGroup:"",clsDropList:"",clsDropContainer:"",clsSelectedItem:"",clsSelectedItemRemover:"",clsLabel:"",clsGroupName:"",onClear:e.noop,onChange:e.noop,onUp:e.noop,onDrop:e.noop,onItemSelect:e.noop,onItemDeselect:e.noop,onSelectCreate:e.noop};e.selectSetup=function(e){i=t.extend({},i,e)},void 0!==typeof window.metroSelectSetup&&e.selectSetup(window.metroSelectSetup),e.Component("select",{init:function(e,t){return this._super(t,e,i,{list:null,placeholder:null}),this},_create:function(){var e=this.element;this._createSelect(),this._createEvents(),this._fireEvent("select-create",{element:e})},_setPlaceholder:function(){var e=this.element,t=this.options,i=e.siblings(".select-input");!0!==t.usePlaceholder||n.isValue(e.val())&&e.val()!=t.emptyValue||i.html(this.placeholder)},_addTag:function(e,n){var i,a,o=this.element,r=this.options,s=o.closest(".select");return i=t("<div>").addClass("tag").addClass(r.shortTag?"short-tag":"").addClass(r.clsSelectedItem).html("<span class='title'>"+e+"</span>").data("option",n),t("<span>").addClass("remover").addClass(r.clsSelectedItemRemover).html("&times;").appendTo(i),s.hasClass("input-large")?a="large":s.hasClass("input-small")&&(a="small"),i.addClass(a),i},_addOption:function(e,i,a,o,r){var s,l,u=t(e),c=this.element,h=this.options,d=n.isValue(u.attr("data-template"))?u.attr("data-template").replace("$1",e.text):e.text,f=u.attr("data-display");s=t("<li>").addClass(h.clsOption).data("option",e).attr("data-text",e.text).attr("data-value",e.value?e.value:""),l=t("<a>").html(d),f&&(s.attr("data-display",f),d=f),s.addClass(e.className),s.data("group",r),u.is(":disabled")&&s.addClass("disabled"),u.is(":selected")&&(h.showGroupName&&r&&(d+="&nbsp;<span class='selected-item__group-name "+h.clsGroupName+"'>"+r+"</span>"),o?(s.addClass("d-none"),a.append(this._addTag(d,s))):(c.val(e.value),a.html(d),c.fire("change",{val:e.value}),s.addClass("active"))),s.append(l).appendTo(i)},_addOptionGroup:function(e,n,i,a){var o=this,r=this.options,s=t(e);t("<li>").html(e.label).addClass("group-title").addClass(r.clsOptionGroup).appendTo(n),t.each(s.children(),(function(){o._addOption(this,n,i,a,e.label)}))},_createOptions:function(){var e=this,n=this.element,i=this.options,a=n.parent().find("ul").empty(),o=n.find("option[selected]").length>0,r=n[0].multiple,s=n.siblings(".select-input");n.siblings(".select-input").empty(),!0===i.addEmptyValue&&n.prepend(t("<option "+(o?"":"selected")+" value='"+i.emptyValue+"' class='d-none'></option>")),t.each(n.children(),(function(){"OPTION"===this.tagName?e._addOption(this,a,s,r,null):"OPTGROUP"===this.tagName&&e._addOptionGroup(this,a,s,r)}))},_createSelect:function(){var i,a,o,r,s,l,u=this,c=this.element,h=this.options,d=t("<label>").addClass("select "+c[0].className).addClass(h.clsSelect),f=c[0].multiple,p=n.elementId("select"),m=t("<div>").addClass("button-group"),v=n.elementId("select-focus-trigger"),g=t("<input type='checkbox'>").addClass("select-focus-trigger").attr("id",v);(this.placeholder=t("<span>").addClass("placeholder").html(h.placeholder),d.attr("id",p).attr("for",v),d.addClass("input-"+h.size),(l=t("<span>").addClass("dropdown-toggle")).appendTo(d),f&&d.addClass("multiple"),d.insertBefore(c),c.appendTo(d),m.appendTo(d),g.appendTo(d),i=t("<div>").addClass("select-input").addClass(h.clsSelectInput).attr("name","__"+p+"__"),a=t("<div>").addClass("drop-container").addClass(h.clsDropContainer),!1===h.dropFullSize?h.dropWidth&&a.css({width:+h.dropWidth}):d.addClass("drop-full-size"),o=t("<div>").appendTo(a),r=t("<ul>").addClass("option-list").addClass(h.clsDropList).css({"max-height":h.dropHeight}),s=t("<input type='text' data-role='input'>").attr("placeholder",h.filterPlaceholder).appendTo(o),d.append(i),d.append(a),a.append(o),!0!==h.filter&&o.hide(),a.append(r),this._createOptions(),this._setPlaceholder(),e.makePlugin(a,"dropdown",{dropFilter:".select",duration:h.duration,toggleElement:[d],checkDropUp:h.checkDropUp,dropUp:h.dropUp,onDrop:function(){var n,i;l.addClass("active-toggle"),n=t(".select .drop-container"),t.each(n,(function(){var n=t(this);if(!n.is(a)){var i=e.getPlugin(n,"dropdown");i&&i.close&&i.close()}})),s.val("").trigger(e.events.keyup),void 0!==(i=r.find("li.active").length>0?t(r.find("li.active")[0]):void 0)&&(r[0].scrollTop=i.position().top-(r.height()-i.height())/2),u._fireEvent("drop",{list:r[0]})},onUp:function(){l.removeClass("active-toggle"),u._fireEvent("up",{list:r[0]})}}),this.list=r,!0!==h.clearButton||c[0].readOnly)?m.addClass("d-none"):t("<button>").addClass("button input-clear-button").addClass(h.clsClearButton).attr("tabindex",-1).attr("type","button").html(h.clearButtonIcon).appendTo(m);""===h.prepend||f||t("<div>").html(h.prepend).addClass("prepend").addClass(h.clsPrepend).appendTo(d);""===h.append||f||t("<div>").html(h.append).addClass("append").addClass(h.clsAppend).appendTo(d);if(!0===h.copyInlineStyles)for(var y=0,b=c[0].style.length;y<b;y++)d.css(c[0].style[y],c.css(c[0].style[y]));if("rtl"===c.attr("dir")&&d.addClass("rtl").attr("dir","rtl"),h.label){var w=t("<label>").addClass("label-for-input").addClass(h.clsLabel).html(h.label).insertBefore(d);c.attr("id")&&w.attr("for",c.attr("id")),"rtl"===c.attr("dir")&&w.addClass("rtl")}c.is(":disabled")?this.disable():this.enable()},_createEvents:function(){var n=this,i=this.element,a=this.options,o=i.closest(".select"),r=o.find(".drop-container"),s=i.siblings(".select-input"),l=r.find("input"),u=r.find("ul"),c=o.find(".input-clear-button"),h=o.find(".select-focus-trigger");h.on("focus",(function(){o.addClass("focused")})),h.on("blur",(function(){o.removeClass("focused")})),c.on(e.events.click,(function(e){i.val(a.emptyValue),i[0].multiple&&u.find("li").removeClass("d-none"),s.clear(),n._setPlaceholder(),e.preventDefault(),e.stopPropagation(),n._fireEvent("clear"),n._fireEvent("change",{selected:n.getSelected()})})),i.on(e.events.change,(function(){n._setPlaceholder()})),o.on(e.events.click,(function(){t(".focused").removeClass("focused"),o.addClass("focused")})),s.on(e.events.click,(function(){t(".focused").removeClass("focused"),o.addClass("focused")})),u.on(e.events.click,"li",(function(o){if(t(this).hasClass("group-title"))return o.preventDefault(),void o.stopPropagation();var l,c=t(this),h=c.attr("data-display"),d=c.data("value"),f=c.data("group"),p=h||c.children("a").html(),m=c.data("option"),v=i.find("option");a.showGroupName&&f&&(p+="&nbsp;<span class='selected-item__group-name "+a.clsGroupName+"'>"+f+"</span>"),i[0].multiple?(c.addClass("d-none"),s.append(n._addTag(p,c))):(u.find("li.active").removeClass("active").removeClass(a.clsOptionActive),c.addClass("active").addClass(a.clsOptionActive),s.html(p),e.getPlugin(r,"dropdown").close()),t.each(v,(function(){this===m&&(this.selected=!0)})),n._fireEvent("item-select",{val:d,option:m,leaf:c[0]}),l=n.getSelected(),n._fireEvent("change",{selected:l})})),s.on("click",".tag .remover",(function(e){var a,o=t(this).closest(".tag"),r=o.data("option"),s=r.data("option");r.removeClass("d-none"),t.each(i.find("option"),(function(){this===s&&(this.selected=!1)})),o.remove(),n._fireEvent("item-deselect",{option:s}),a=n.getSelected(),n._fireEvent("change",{selected:a}),e.preventDefault(),e.stopPropagation()})),l.on(e.events.keyup,(function(){var e,n=this.value.toUpperCase(),i=u.find("li");for(e=0;e<i.length;e++)t(i[e]).hasClass("group-title")||(i[e].getElementsByTagName("a")[0].innerHTML.toUpperCase().indexOf(n)>-1?i[e].style.display="":i[e].style.display="none")})),l.on(e.events.click,(function(e){e.preventDefault(),e.stopPropagation()})),r.on(e.events.click,(function(e){e.preventDefault(),e.stopPropagation()}))},disable:function(){this.element.data("disabled",!0),this.element.closest(".select").addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.closest(".select").removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},reset:function(e){var i,a=this.element,o=a.find("option"),r=a.closest(".select");t.each(o,(function(){this.selected=!n.isNull(e)&&this.defaultSelected})),this.list.find("li").remove(),r.find(".select-input").html(""),this._createOptions(),i=this.getSelected(),this._fireEvent("change",{selected:i})},getSelected:function(){var e=this.element,t=[];return e.find("option").each((function(){this.selected&&t.push(this.value)})),t},val:function(e){var i,a,o,r,s,l,u=this,c=this.element,h=this.options,d=c.siblings(".select-input"),f=c.find("option"),p=this.list.find("li"),m=[],v=void 0!==c.attr("multiple");if(n.isNull(e))return t.each(f,(function(){this.selected&&m.push(this.value)})),v?m:m[0];t.each(f,(function(){this.selected=!1})),p.removeClass("active").removeClass(h.clsOptionActive),d.html(""),!1===Array.isArray(e)&&(e=[e]),t.each(e,(function(){for(a=0;a<f.length;a++)if(i=f[a],o=n.isValue(i.getAttribute("data-template"))?i.getAttribute("data-template").replace("$1",i.text):i.text,""+i.value==""+this){i.selected=!0;break}for(a=0;a<p.length;a++)if(r=t(p[a]),l=r.data("group"),""+r.attr("data-value")==""+this){h.showGroupName&&l&&(o+="&nbsp;<span class='selected-item__group-name'>"+l+"</span>"),v?(r.addClass("d-none"),d.append(u._addTag(o,r))):(r.addClass("active").addClass(h.clsOptionActive),d.html(o));break}})),s=this.getSelected(),this._fireEvent("change",{selected:s})},options:function(e,t,n){return this.data(e,t,n)},data:function(e,i,a){var o,r,s=this.element,l=a||",";return r="string"==typeof i?i.toArray(l).map((function(e){return isNaN(e)?e:+e})):Array.isArray(i)?i.slice().map((function(e){return isNaN(e)?e:+e})):[],s.empty(),"string"==typeof e?s.html(e):n.isObject2(e)&&t.each(e,(function(e,i){if(n.isObject2(i))o=t("<optgroup label=''>").attr("label",e).appendTo(s),t.each(i,(function(e,n){var i=t("<option>").attr("value",e).text(n).appendTo(o);r.indexOf(+e)>-1&&i.prop("selected",!0)}));else{var a=t("<option>").attr("value",e).text(i).appendTo(s);r.indexOf(e)>-1&&a.prop("selected",!0)}})),this._createOptions(),this},addOption:function(e,n,i){var a=this.element,o=t("<option>").attr("value",e).text(n||e);return a.append(o),i&&o.prop("selected",!0),this._createOptions(),this},addOptions:function(n){var i=this;return n?(Array.isArray(n)?t.each(n,(function(){var t=this;e.utils.isObject2(t)?i.addOption(t.val,t.title,t.selected):i.addOption(t)})):e.utils.isObject2(n)&&t.each(n,(function(e,t){i.addOption(e,t)})),this):this},removeOption:function(e){return this.element.find("option").each((function(){var n=t(this);n.attr("value")==e&&n.remove()})),this._createOptions(),this},removeOptions:function(e){var n=this.element.find("option");return e&&Array.isArray(e)?(n.each((function(){var n=t(this),i=n.attr("value");e.indexOf(i)>-1&&n.remove()})),this._createOptions(),this):this},changeAttribute:function(e){"disabled"===e&&this.toggleState()},destroy:function(){var t=this.element,n=t.closest(".select"),i=n.find(".drop-container"),a=t.siblings(".select-input"),o=i.find("input"),r=i.find("ul"),s=n.find(".input-clear-button");return n.off(e.events.click),n.off(e.events.click,".input-clear-button"),a.off(e.events.click),o.off(e.events.blur),o.off(e.events.focus),r.off(e.events.click,"li"),o.off(e.events.keyup),i.off(e.events.click),s.off(e.events.click),i.data("dropdown").destroy(),t}}),t(document).on(e.events.click,(function(){t(".select").removeClass("focused")}),{ns:"blur-select-elements"})}(Metro,m4q)}();
